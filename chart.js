!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}(function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))switch(typeof t[e]){case"function":break;case"object":t[e]=function(e){var n=e.slice(1),i=t[e[0]];return function(t,e,r){i.apply(this,[t,e,r].concat(n))}}(t[e]);break;default:t[e]=t[t[e]]}return t}([function(t,e,n){(function(t){"use strict";function e(t){return t&&t.__esModule?t:{"default":t}}function i(t){var e=t.reduce(function(t,e){return t.metaData?e.metaData.dimensions.pe.length>t.metaData.dimensions.pe.length&&(t=e):t=e,t},{}),n=e.metaData;return n.dimensions.pe.reduce(function(t,e){var i=n.items[e].name;return t.push(i.replace(/\s+\d{4}$/,"")),t},[])}function r(t,e){(0,g.init)({baseUrl:w.getApiPath()});var n,i=[];return(0,g.getInstance)().then(function(t){n=t}).then(function(){var i=(new n.analytics.request).addPeriodDimension(t.yearlySeries).withSkipData(!0).withSkipMeta(!1).withIncludeMetadataDetails(!0);return e.relativePeriodDate&&(i=i.withRelativePeriodDate(e.relativePeriodDate)),n.analytics.aggregate.fetch(i)}).then(function(r){var o=[],a=new Date,s=(""+a.getDate()).padStart(2,0),l=(""+(a.getMonth()+1)).padStart(2,0);return r.metaData.dimensions.pe.forEach(function(a){i.push(r.metaData.items[a].name);var u=a+"-"+l+"-"+s,d=(new n.analytics.request).fromModel(t).withParameters(e).withRelativePeriodDate(u);o.push(n.analytics.aggregate.get(d))}),Promise.all(o)}).then(function(t){return Promise.resolve({responses:t.map(function(t){return new n.analytics.response(t)}),yearlySeriesLabels:i})})["catch"](function(t){return console.log(t)})}function o(t,e){if(p.util.dom.validateTargetDiv(e.el)){var n=a({},m),o=new p.manager.UiManager(n);n.uiManager=o,o.applyTo((0,l["default"])(p.api)),o.preventMask=!0;var s=new p.manager.InstanceManager(n);n.instanceManager=s,s.apiResource="chart",s.apiEndpoint="charts",s.apiModule="dhis-web-visualizer",s.plugin=!0,s.dashboard=chartPlugin.dashboard,s.applyTo((0,l["default"])(p.api)),o.setInstanceManager(s);var u={};s.setFn(function(t){if(p.util.dom.validateTargetDiv(t.el)){var e=function(e){var n=t.el,i=document.getElementById(n),r=t.getResponse();u.legendSet=w.getLegendSetById(e),u.dashboard=s.dashboard;var a=(0,h.createChart)(r,t,n,u),l=a.chart;o.reg(l,"chart"),i.setViewportWidth=function(t){l.setSize(t,void 0,{duration:50})},i.setViewportHeight=function(t){l.setSize(void 0,t,{duration:50})},i.setViewportSize=function(t,e){l.setSize(t,e,{duration:50})},o.unmask()};t.doLegendSet()?w.getLegendSetIdByDxId(t.getFirstDxId(),function(t){e(t)}):e()}}),t.loadingIndicator&&o.renderLoadingIndicator(e.el),e.id?s.getById(e.id,function(t){if(t=new p.api.Layout(n,(0,c["default"])(e,t)),p.util.dom.validateTargetDiv(t.el))if(t.type.match(/^YEAR_OVER_YEAR/i)){var o={};t.aggregationType&&"DEFAULT"!==t.aggregationType&&(o.aggregationType=t.aggregationType),t.completedOnly&&(o.completedOnly=t.completedOnly),r(t,o).then(function(e){var n=e.responses,r=e.yearlySeriesLabels;t.setResponse(n),u.yearlySeries=r,u.xAxisLabels=i(n),s.getReport(t)})}else s.getReport(t)}):s.getReport(new p.api.Layout(n,e),!1,!1,!1,null,{noError:!0,errorMessage:"No data to display"})}}var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};n(250);var s=n(235),l=e(s),u=n(12),d=(e(u),n(395)),c=e(d),h=n(196),p=n(62),f=n(95),g=n(409);p.api.Layout=f.Layout;var m={api:p.api,init:p.init},y=[p.init.legendSetsInit,p.init.dimensionsInit],v=new p.config.DimensionConfig;m.dimensionConfig=v;var x=new p.config.OptionConfig;m.optionConfig=x;var b=new p.config.PeriodConfig;m.periodConfig=b;var A=new p.config.ChartConfig;m.chartConfig=A;var w=new p.manager.AppManager(m);w.apiVersion=31,m.appManager=w;var S=new p.manager.CalendarManager(m);m.calendarManager=S;var E=new p.manager.RequestManager(m);m.requestManager=E;var C=new p.manager.I18nManager(m);m.i18nManager=C;var P=new p.manager.SessionStorageManager(m);m.sessionStorageManager=P,v.setI18nManager(C),v.init(),x.setI18nManager(C),x.init(),b.setI18nManager(C),b.init(),w.applyTo((0,l["default"])(p.api)),x.applyTo((0,l["default"])(p.api)),t.chartPlugin=new p.util.Plugin({refs:m,inits:y,renderFn:o,type:"CHART"})}).call(e,function(){return this}())},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=Array.isArray},[679,1],function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(89),o=i(r);e["default"]=o["default"]},function(t,e){"use strict";function n(t,e){return Array.prototype.indexOf.call(t,e)!==-1}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){var n=function(t,e,n){if(!t||!t.length)return[];if("string"==typeof t&&(t=t.split("")),supportsSliceOnNodeList)return slice.call(t,e||0,n||t.length);var i,r=[];for(e=e||0,n=n?n<0?t.length+n:n:t.length,i=e;i<n;i++)r.push(t[i]);return r};if(void 0===t||null===t)return[];if((0,s["default"])(t))return e?Array.prototype.slice.call(t):t;var i="undefined"==typeof t?"undefined":o(t);return!t||void 0===t.length||"string"===i||"function"===i&&t.apply?[t]:n(t)}Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e["default"]=r;var a=n(1),s=i(a)},[677,193],[674,1,2,3],function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){return(0,s["default"])(A,t)}function o(t){return(0,s["default"])(w,t)}Object.defineProperty(e,"__esModule",{value:!0}),e.CHART_TYPE_YEAR_OVER_YEAR_COLUMN=e.CHART_TYPE_YEAR_OVER_YEAR_LINE=e.CHART_TYPE_GAUGE=e.CHART_TYPE_RADAR=e.CHART_TYPE_PIE=e.CHART_TYPE_AREA=e.CHART_TYPE_LINE=e.CHART_TYPE_STACKED_BAR_LEGACY=e.CHART_TYPE_STACKED_BAR=e.CHART_TYPE_BAR=e.CHART_TYPE_STACKED_COLUMN_LEGACY=e.CHART_TYPE_STACKED_COLUMN=e.CHART_TYPE_COLUMN=void 0,e.getIsStacked=r,e.isYearOverYear=o,e["default"]=function(t){switch(t){case c:case h:case p:return{type:"bar"};case f:case x:return{type:"line"};case g:return{type:"area"};case m:return{type:"pie"};case y:return{type:"line",polar:!0};case v:return{type:"solidgauge"};case l:case u:case d:case b:default:return{type:"column"}}};var a=n(36),s=i(a),l=e.CHART_TYPE_COLUMN="COLUMN",u=e.CHART_TYPE_STACKED_COLUMN="STACKED_COLUMN",d=e.CHART_TYPE_STACKED_COLUMN_LEGACY="STACKEDCOLUMN",c=e.CHART_TYPE_BAR="BAR",h=e.CHART_TYPE_STACKED_BAR="STACKED_BAR",p=e.CHART_TYPE_STACKED_BAR_LEGACY="STACKEDBAR",f=e.CHART_TYPE_LINE="LINE",g=e.CHART_TYPE_AREA="AREA",m=e.CHART_TYPE_PIE="PIE",y=e.CHART_TYPE_RADAR="RADAR",v=e.CHART_TYPE_GAUGE="GAUGE",x=e.CHART_TYPE_YEAR_OVER_YEAR_LINE="YEAR_OVER_YEAR_LINE",b=e.CHART_TYPE_YEAR_OVER_YEAR_COLUMN="YEAR_OVER_YEAR_COLUMN",A=[u,d,h,p,g],w=[x,b]},3,[669,34],[671,3,6,1,2],1,function(t,e){"use strict";function n(t,e){if(void 0!==t)return!0;throw new Error([e||"Value","should be provided"].join(" "))}function i(t,e,i){if(n(t,i),n(e,"Type"),"function"==typeof e&&t instanceof e||"string"==typeof e&&("undefined"==typeof t?"undefined":g(t))===e)return!0;throw new Error(["Expected",i||t,"to have type",e].join(" "))}function r(t,e){function n(){}try{return i(t,e),!0}catch(r){n()}return!1}function o(t){return r(t,"string")}function a(t){return Array.isArray(t)}function s(t){return r(t,Object)}function l(t){return null!=t}function u(t){return"number"==typeof t&&isFinite(t)&&t>-9007199254740992&&t<9007199254740992&&Math.floor(t)===t}function d(t){return"number"==typeof t&&isFinite(t)&&t-parseFloat(t)+1>=0}function c(t,e){var n=a(e)&&e||[];return n.indexOf(t)>=0}function h(t){return t&&11===t.length}function p(t,e){return l(t)&&l(e)&&e===t}function f(t){if(i(t,"string","rootJunction"),x(t))return!0;throw new Error("Expected "+t+" to be one of ["+v+"]")}Object.defineProperty(e,"__esModule",{value:!0});var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.checkDefined=n,e.checkType=i,e.isType=r,e.isString=o,e.isArray=a,e.isObject=s,e.isDefined=l,e.isInteger=u,e.isNumeric=d,e.contains=c,e.isValidUid=h,e.areDefinedAndEqual=p,e.checkValidRootJunction=f,Number.isInteger||(Number.isInteger=u);var m=(e.isEmpty=function(t){return 0===t.length},e.hasKeys=function(t){return t&&Object.keys(t).length>0},e.toBe=function(t,e){return t===e}),y=e.toBeAny=function(t){return function(e){return t.some(function(t){return m(e,t)})}},v=(e.isNullUndefinedOrEmptyString=y([void 0,null,""]),e.isFunction=function(t){return"function"==typeof t},e.hasOwnProperty=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.rootJunctions=["OR","AND"]),x=e.isValidRootJunction=y(v)},function(t,e,n){(function(t){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"REPLACE",e=h["default"].getSystem();return e.version&&Number(e.version.minor)<=22?"mergeStrategy="+t:"mergeMode="+t}function a(t,e){if(new RegExp("^(:?https?:)?//").test(e))return e;var n=[];return t&&n.push(t),n.push(e),n.join("/").replace(new RegExp("(.(?:[^:]))//+","g"),"$1/").replace(new RegExp("/$"),"")}function s(){return s.api?s.api:s.api=new p}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();n(373);var u=n(13),d=n(26),c=n(323),h=i(c),p=function(){function e(n){if(r(this,e),"function"==typeof n)this.fetch=n.bind("undefined"!=typeof window?window:t);else{if("undefined"==typeof fetch)throw new Error("Failed to initialise D2 Api: No fetch implementation is available");this.fetch=fetch.bind("undefined"!=typeof window?window:t)}this.baseUrl="/api",this.defaultFetchOptions={mode:"cors",credentials:"include",cache:"default"},this.defaultHeaders={"X-Requested-With":"XMLHttpRequest"},this.unauthorizedCallback=null}return l(e,[{key:"setDefaultHeaders",value:function(t){this.defaultHeaders=t}},{key:"setUnauthorizedCallback",value:function(t){if("function"!=typeof t)throw new Error("Callback must be a function.");this.unauthorizedCallback=t}},{key:"get",value:function(t,e,n){return this.request("GET",a(this.baseUrl,t),e,n)}},{key:"post",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=a(this.baseUrl,t),r=e;return n.headers=new Headers(n.headers||{}),void 0!==e&&("FormData"===e.constructor.name?(n.headers["delete"]("Content-Type"),r=e):n.headers.has("Content-Type")&&n.headers.get("Content-Type").toLocaleLowerCase().startsWith("text/")?r=String(e):(n.headers.set("Content-Type","application/json"),r=JSON.stringify(e))),this.request("POST",i,r,n)}},{key:"delete",value:function(t,e){return this.request("DELETE",a(this.baseUrl,t),void 0,e)}},{key:"update",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=n===!0?t+"?"+o():t;return"string"==typeof e?this.request("PUT",a(this.baseUrl,i),String(e),{headers:new Headers({"Content-Type":"text/plain"})}):this.request("PUT",a(this.baseUrl,i),JSON.stringify(e))}},{key:"patch",value:function(t,e){return this.request("PATCH",a(this.baseUrl,t),JSON.stringify(e))}},{key:"request",value:function(t,e,n){function i(e,i,r){var o=Object.assign({},s.defaultFetchOptions,i),a=new Headers(i.headers||{});return Object.keys(e).filter(function(t){return!a.get(t)}).forEach(function(t){return a.set(t,e[t])}),o.method=t,"GET"===o.method||!r&&0!==r&&r!==!1?a["delete"]("Content-Type"):r&&("FormData"===n.constructor.name?a["delete"]("Content-Type"):a.get("Content-Type")||a.set("Content-Type","application/json"),o.body=r),o.headers=a,o}function r(t){try{return JSON.parse(t)}catch(e){return t}}var o=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(0,u.checkType)(t,"string","Request type"),(0,u.checkType)(e,"string","Url");var s=this,l=e,c="";if(l.indexOf("?")!==-1&&(c=l.substr(l.indexOf("?")+1),l=l.substr(0,l.indexOf("?"))),n&&Array.isArray(n.filter)){var h=n.filter.map(function(t){return t.split(":").map(encodeURIComponent).join(":")});c=""+(0,d.customEncodeURIComponent)(c)+(c.length?"&":"")+("filter="+h.join("&filter=")),delete n.filter}n&&"GET"===t&&Object.keys(n).forEach(function(t){c=""+c+(c.length>0?"&":"")+(encodeURIComponent(t)+"="+encodeURIComponent(n[t]))}),c.length&&(l=l+"?"+c);var p=i(this.defaultHeaders,a,n);return new Promise(function(i,s){o.fetch(l,p).then(function(u){u.ok?u.text().then(function(t){return i(r(t))}):u.text().then(function(i){var d=r(i);if(401===u.status){var c={method:t,url:e,data:n,options:a};o.unauthorizedCallback&&o.unauthorizedCallback(c,d)}"test"!=={NODE_ENV:"production"}.npm_lifecycle_event&&console.warn("API request failed with status "+u.status+" "+u.statusText+"\n","Request: "+p.method+" "+l),s(d)})})["catch"](function(t){"test"!=={NODE_ENV:"production"}.npm_lifecycle_event&&console.error("Server connection error:",t),s("Server connection failed for API request: "+p.method+" "+l)})})}},{key:"setBaseUrl",value:function(t){return(0,u.checkType)(t,"string","Base url"),this.baseUrl=t,this}}]),e}();p.getApi=s,e["default"]=p}).call(e,function(){return this}())},,,[679,12],function(t,e){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=e.VALUE_CELL="value",i=e.SUB_TOTAL_CELL="valueSubtotals",r=e.TOTAL_CELL="valueTotal",o=e.DIMENSION_CELL="dimension",a=e.DIMENSION_SUB_TOTAL_CELL="dimensionSubtotal",s=e.DIMENSION_TOTAL_CELL="dimensionTotal",l=e.EMPTY_CELL="empty",u=e.LABELED_CELL="labeled",d=e.PADDING_CELL="padding",c=e.FILTER_CELL="filter",h=e.TOTAL_SORT="total",p=e.COLUMN_AXIS="column",f=e.ROW_AXIS="row",g=e.FIXED_STRATEGY="fixed",m=e.BY_DATA_ITEM_STRATEGY="by_data_item",y=e.FILL_STYLE="fill",v=e.TEXT_STYLE="text",x=e.NO_BREAK_SPACE="&nbsp;";e.BLACK_COLOR="black",e.WHITE_COLOR="white",e.AVERAGE_AGGREGATION_TOTAL="AVERAGE",e.SUM_AGGREGATION_TOTAL="TOTAL",e.PIVOT_TABLE_CELLS={VALUE_CELL:n,SUB_TOTAL_CELL:i,TOTAL_CELL:r,DIMENSION_CELL:o,DIMENSION_SUB_TOTAL_CELL:a,DIMENSION_TOTAL_CELL:s,EMPTY_CELL:l,LABELED_CELL:u,PADDING_CELL:d,FILTER_CELL:c},e.PIVOT_TABLE_AXIS={COLUMN_AXIS:p,ROW_AXIS:f},e.PIVOT_TABLE_SORT_OPTIONS={TOTAL_SORT:h},e.PIVOT_TABLE_LEGEND_SET_OPTIONS={FIXED_STRATEGY:g,BY_DATA_ITEM_STRATEGY:m,FILL_STYLE:y,TEXT_STYLE:v},e.PIVOT_TABLE_HTML={NO_BREAK_SPACE:x};e["default"]={VALUE_CELL:n,SUB_TOTAL_CELL:i,TOTAL_CELL:r,DIMENSION_CELL:o,DIMENSION_SUB_TOTAL_CELL:a,DIMENSION_TOTAL_CELL:s,EMPTY_CELL:l,LABELED_CELL:u,PADDING_CELL:d,FILTER_CELL:c,TOTAL_SORT:h,COLUMN_AXIS:p,ROW_AXIS:f,FIXED_STRATEGY:g,BY_DATA_ITEM_STRATEGY:m,FILL_STYLE:y,TEXT_STYLE:v,NO_BREAK_SPACE:x}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=/\bchrome\b/.test(navigator.userAgent.toLowerCase())?8:17;e["default"]={nameCmpWidth:440-n,buttonCmpWidth:20,operatorCmpWidth:70,searchCmpWidth:70,triggerCmpWidth:17,valueCmpWidth:235,rangeSetWidth:135,namePadding:"3px 3px",margin:"3px 0 1px",removeCmpStyle:"padding: 0; margin-left: 3px",defaultRangeSetId:"default"}},function(t,e){"use strict";function n(t){for(var e,n=[],i=0,r=t.length;i<r;i++)e=t[i],n.indexOf(e)===-1&&n.push(e);return n}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(85),o=i(r);e["default"]=o["default"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(249),o=i(r);e["default"]=o["default"]},function(t,e){(function(t){"use strict";function n(e){return"symbol"!==("undefined"==typeof e?"undefined":i(e))&&(!isNaN(parseFloat(e))&&t.isFinite(e))}Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e["default"]=n}).call(e,function(){return this}())},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){throw new Error(t)}function r(t,e){return function(){for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return t.apply(this,[e].concat(i))}}function o(t,e,n){var i={enumerable:!0,configurable:!1,writable:!1,value:n};Object.defineProperty(t,e,i)}function a(t,e){return Object.keys(e).filter(function(t){return e.hasOwnProperty(t)}).forEach(function(n){t[n]=e[n]}),t}function s(t){var e=t.split(".");return function(t){return e.reduce(function(t,e){if(t)return t[e]},t)}}function l(t,e){if(!e||!t)return t;var n=/api\/([1-9][0-9])/,i=e.match(n),r=i&&i[1],o=t&&!n.test(t);if(r&&o){var a=i[1];return t.replace(/api/,"api/"+a)}return t}function u(t){return encodeURIComponent(t).replace(f,decodeURIComponent)}function d(t){return t}Object.defineProperty(e,"__esModule",{value:!0});var c=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e.throwError=i,e.curry=r,e.addLockedProperty=o,e.copyOwnProperties=a,e.pick=s,e.updateAPIUrlWithBaseUrlVersionNumber=l,e.customEncodeURIComponent=u,e.identity=d;var h=(e.pickOr=function(t,e){return function(n){var i=s(t)(n);return void 0!==i?i:e}},e.Deferred=function(){function t(){var e=this;n(this,t),this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return c(t,null,[{key:"create",value:function(){return new t}}]),t}(),",&$=/;:"),p=h.split("").map(function(t){return encodeURIComponent(t)}),f=new RegExp("(?:"+p.join("|")+")","g")},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.DateManager=void 0;var r,o=n(3),a=i(o);e.DateManager=r,e.DateManager=r=function(){this.klass=r},r.toDate=function(t){return(0,a["default"])(t)?new Date(t):t},r.isValid=function(t){return t=this.toDate(t),"[object Date]"===Object.prototype.toString.call(t)&&"Invalid Date"!==t.toString()},r.getYYYYMMDD=function(t,e){if(t=this.toDate(t),!e&&!r.isValid(t))return null;var n=new Date(t),i=""+(1+n.getMonth()),o=""+n.getDate();return i=1===i.length?"0"+i:i,o=1===o.length?"0"+o:o,n.getFullYear()+"-"+i+"-"+o},r.getTimeDifference=function(t){for(var e=Math.floor((new Date-new Date(t))/1e3);e<0;)e+=3600;var n=Math.floor(e/31536e3);return n>1?n+" years":(n=Math.floor(e/2592e3),n>1?n+" months":(n=Math.floor(e/86400),n>1?n+" days":(n=Math.floor(e/3600),n>1?n+" hours":(n=Math.floor(e/60),n>1?n+" minutes":Math.floor(e)+" seconds"))))}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=["padding-right: 0","padding-left: 5px","border-color: transparent","background: none","font-size: 11px","line-height: 13px"],i=["font-size: 11px","font-weight: bold","color: #111","padding-left: 5px","padding-top: 4px","margin-bottom: 0"],r=22,o=48,a=7,s=10,l=700,u=14,d=160,c=l-u,h=120,p=120,f=60,g=8;e["default"]={textfieldStyle:n,textFieldLabelStyle:i,toggleBtnWidth:r,toggleBtnMarginTop:o,toggleBtnMarginRight:a,toggleBtnMarginLeft:s,windowWidth:l,borderWidth:u,windowCmpWidth:c,filtersComboBoxWidth:d,createdColWidth:h,lastUpdatedColWidth:p,buttonColWidth:f,paddingColWidth:g}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InterpretationWindow=void 0;var i=n(31),r=n(72),o=e.InterpretationWindow=void 0;e.InterpretationWindow=o=function(t,e,n,o){var a=t.appManager,s=t.uiManager,l=t.instanceManager,u=t.i18nManager.get(),d=a.getApiPath(),c=l.apiResource,h=(l.apiEndpoint,Ext.create("Ext.form.field.TextArea",{cls:"ns-textarea",height:130,width:407,fieldStyle:"padding-left:3px; padding-top:3px",emptyText:u.write_your_interpretation+"...",enableKeyEvents:!0,value:n?n.text:void 0,mentionToolbar:(0,r.MentionToolbar)(t),listeners:{keyup:function(t,e){v.xable(),this.mentionToolbar.displayMentionSuggestion(t,e)},destroy:function(t,e){this.mentionToolbar.destroy()}}})),p=e?new i.SharingWindow(t,e,(!0)):null,f=Ext.create("Ext.container.Container",{style:"padding-top:10px; padding-bottom:25px",items:p?p.items:[]}),g=n?"PUT":"POST",m=function(t){n&&(n.text=t),o?o():l.getById(null,function(t,e){l.getReport(t,e,!1,!1,function(){s.unmask()})})},y=function(t,i){var r=n?n.id:(t.getResponseHeader("location")||"").split("/").pop(),o=(e.object.id,p.getBody());Ext.Ajax.request({url:encodeURI(d+"/sharing?type=interpretation&id="+r),method:g,headers:{"Content-Type":"application/json"},params:Ext.encode(o),callback:function(){m(i)}})},v=Ext.create("Ext.button.Button",{text:n?u.update:u.share,disabled:!n,xable:function(){this.setDisabled(!h.getValue())},handler:function(){var t=h.getValue(),i=n?"/interpretations/"+n.id:"/interpretations/"+c+"/"+l.getStateFavoriteId();t&&Ext.Ajax.request({url:encodeURI(d+i),method:g,params:t,headers:{"Content-Type":"text/html"},success:function(n){e?y(n,t):m(t),h.reset(),x.destroy()}})}}),x=Ext.create("Ext.window.Window",{title:u.write_interpretation,layout:"fit",bodyStyle:"padding:4px; background-color:#fff",resizable:!1,destroyOnBlur:!0,modal:!0,items:[h,f],bbar:{cls:"ns-toolbar-bbar",defaults:{height:24},items:["->",v]},listeners:{show:function(t){s.setAnchorPosition(t,"favoriteButton",{y:130}),s.enableRightClick(),t.hasDestroyOnBlurHandler||s.addDestroyOnBlurHandler(t)},hide:function(){s.disableRightClick()}}});return s.reg(x,"interpretationWindow"),x}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.SharingWindow=void 0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o=n(1),a=i(o),s=e.SharingWindow=void 0;e.SharingWindow=s=function(t,e,n){var i,o,s,l,u,d,c,h,p,f,g,m,y=t.appManager,v=t.uiManager,x=t.instanceManager,b=t.i18nManager.get(),A=y.getApiPath();i=function(t,e,n){var i,r,o,a,s,l;return i=function(){var t=[{id:"r-------",name:b.can_view},{id:"rw------",name:b.can_edit_and_view}];return e&&t.unshift({id:"--------",name:b.none}),t},r=Ext.create("Ext.data.Store",{fields:["id","name"],data:i()}),o=function(){var i=[];return a=Ext.create("Ext.form.field.ComboBox",{style:"margin-bottom:2px",fieldLabel:e?b.public_access:t.name,labelStyle:"color:#333",cls:"ns-combo",width:380,labelWidth:250,queryMode:"local",valueField:"id",displayField:"name",labelSeparator:null,editable:!1,disabled:!!n,value:t.access||"rw------",store:r}),i.push(a),e||i.push(Ext.create("Ext.container.Container",{cls:"ns-grid-row-icon-delete",style:"margin-top:2px; margin-left:7px",bodyStyle:"border:0 none; background:#fff",overCls:"pointer",width:16,height:16,listeners:{render:function(t){t.getEl().on("click",function(e){t.up("panel").destroy(),m&&m.doLayout()})}}})),i},s=function(){return{id:t.id,name:t.name,access:a.getValue()}},l=Ext.create("Ext.panel.Panel",{layout:"column",bodyStyle:"border:0 none",getAccess:s,items:o()})},o=function(){var t={object:{id:e.object.id,name:e.object.name,publicAccess:f.down("combobox").getValue(),externalAccess:!!p&&p.getValue()}};return d.items.items.length>1&&(t.object.userGroupAccesses=[],d.items.items.forEach(function(e,n){n>0&&t.object.userGroupAccesses.push(e.getAccess())})),c.items.items.length>1&&(t.object.userAccesses=[],c.items.items.forEach(function(e,n){n>0&&t.object.userAccesses.push(e.getAccess())})),t},s=Ext.create("Ext.data.Store",{fields:["id","name","isGroup"],proxy:{type:"ajax",url:encodeURI(A+"/sharing/search"),extraParams:{pageSize:50},startParam:!1,limitParam:!1,reader:{type:"json",getData:function(t){var e=[];return t.userGroups.forEach(function(t){var n=t.id,i=t.name;e.push({id:n,name:i,isGroup:!0})}),t.users.forEach(function(t){var n=t.id,i=t.name;e.push({id:n,name:i,isGroup:!1})}),e}}}});var w={valueField:"id",displayField:"name",queryParam:"key",queryDelay:200,minChars:1,hideTrigger:!0,fieldStyle:"height:26px; padding-left:6px; border-radius:1px; font-size:11px",style:"margin-bottom:5px",width:380};l=Ext.create("Ext.form.field.ComboBox",r({},w,{emptyText:b.add_users_and_user_groups,store:s,listeners:{beforeselect:function(t){u.enable()},afterrender:function(t){t.inputEl.on("keyup",function(t){t.getKey()!==t.ENTER&&u.disable()})}}}));var S={text:"+",style:"margin-left:2px; padding-right:4px; padding-left:4px; border-radius:1px",disabled:!0,height:26};u=Ext.create("Ext.button.Button",r({},S,{handler:function(t){var e=s.getById(l.getValue());e&&e.data&&(e.data.isGroup?d.add(i({id:e.data.id,name:e.data.name,access:"r-------"})):c.add(i({id:e.data.id,name:e.data.name,access:"r-------"}))),l.clearValue(),t.disable()}})),h=Ext.create("Ext.container.Container",{bodyStyle:"border:0 none"});var E={hidden:!0,bodyStyle:"border:0 none",listeners:{add:function(t){t.items.length>1&&t.show()},remove:function(t){1===t.items.length&&t.hide()}}};return d=Ext.create("Ext.container.Container",r({},E,{items:[{html:b.groups_access,bodyStyle:"border:0 none; font-weight: bold"}]})),c=Ext.create("Ext.container.Container",r({},E,{items:[{html:b.users_access,bodyStyle:"border:0 none; font-weight: bold"}]})),e.meta.allowExternalAccess&&(p=h.add({xtype:"checkbox",fieldLabel:b.allow_external_access,labelSeparator:"",labelWidth:250,checked:!!e.object.externalAccess})),f=h.add(i({id:e.object.id,name:e.object.name,access:e.object.publicAccess},!0,!e.meta.allowPublicAccess)),(0,a["default"])(e.object.userGroupAccesses)&&e.object.userGroupAccesses.forEach(function(t){d.add(i(t))}),(0,a["default"])(e.object.userAccesses)&&e.object.userAccesses.forEach(function(t){c.add(i(t))}),g=[{html:e.object.name,bodyStyle:"border:0 none; font-weight:bold; color:#333",style:"margin-bottom:7px"},{xtype:"container",layout:"column",bodyStyle:"border:0 none",items:[l,u]},{html:b.created_by+" "+e.object.user.name,bodyStyle:"border:0 none; color:#777",style:"margin-top:2px;margin-bottom:7px"},h,d,c],n?{SharingAccessRow:i,getBody:o,sharingStore:s,sharingField:l,sharingButton:u,userGroupRowContainer:d,userRowContainer:c,externalAccess:p,publicGroup:f,items:g}:m=Ext.create("Ext.window.Window",{title:b.sharing_settings,bodyStyle:"padding:5px 5px 3px; background-color:#fff",resizable:!1,modal:!0,destroyOnBlur:!0,items:g,bbar:["->",{text:b.save,handler:function(){Ext.Ajax.request({url:encodeURI(A+"/sharing?type="+x.apiResource+"&id="+e.object.id),method:"POST",headers:{"Content-Type":"application/json"},params:Ext.encode(o()),success:function(){x.getById(null,function(t,e){x.getReport(t,e,!1,!1,function(){v.unmask()})})}}),m.destroy()}}],listeners:{show:function(t){var e=v.get("favoriteWindow");if(e&&e.rendered){var n=(e.getWidth()-t.getWidth())/2+e.getPosition()[0],i=t.getPosition()[1]/3;t.setPosition(n,i),e.destroyOnBlur=!1}else v.setAnchorPosition(t,"favoriteButton");t.hasDestroyOnBlurHandler||v.addDestroyOnBlurHandler(t)},destroy:function(){var t=v.get("favoriteWindow");t&&(t.destroyOnBlur=!0)}}})}},function(t,e){"use strict";function n(t,e){var n,i,r,o=[];for(n=0,i=t.length;n<i;n++)r=t[n],o.push(r[e]);return o}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n},function(t,e){(function(t){"use strict";function n(e){return t.JSON.parse(t.JSON.stringify(e))}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n}).call(e,function(){return this}())},[675,1],function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a["default"];return Object.keys(t).reduce(function(n,i){return e(t[i])||(n[i]=t[i]),n},{})}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=r;var o=n(48),a=i(o)},4,function(t,e,n){var i=n(61)("unscopables"),r=Array.prototype;void 0==r[i]&&n(40)(r,i,{}),t.exports=function(t){r[i][t]=!0}},function(t,e,n){t.exports=!n(56)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var i=n(19),r=n(18),o=n(40),a=n(112),s=n(55),l="prototype",u=function(t,e,n){var d,c,h,p,f=t&u.F,g=t&u.G,m=t&u.S,y=t&u.P,v=t&u.B,x=g?i:m?i[e]||(i[e]={}):(i[e]||{})[l],b=g?r:r[e]||(r[e]={}),A=b[l]||(b[l]={});g&&(n=e);for(d in n)c=!f&&x&&void 0!==x[d],h=(c?x:n)[d],p=v&&c?s(h,i):y&&"function"==typeof h?s(Function.call,h):h,x&&a(x,d,h,t&u.U),b[d]!=h&&o(b,d,p),y&&A[d]!=h&&(A[d]=h)};i.core=r,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,n){var i=n(110),r=n(111);t.exports=n(38)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.assert=e.defaultProxyGenerator=e.addMerge=e.roundIf=e.getPercentageHtml=e.getRoundedHtmlValue=e.getNumberOfDecimals=void 0;var r=n(194),o=i(r),a=n(6),s=i(a),l=e.getNumberOfDecimals=function(t){var e=new String(t);return e.indexOf(".")>-1?e.length-e.indexOf(".")-1:0},u=e.getRoundedHtmlValue=function(t){arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return parseFloat(d(t,2)).toString()},d=(e.getPercentageHtml=function(t,e){return u(t/e*100)+"%"},e.roundIf=function(t,e){if(t=parseFloat(t),e=parseFloat(e),(0,s["default"])(t)&&(0,s["default"])(e)){var n=l(t);return n>e?(0,o["default"])(t,e):t}return t});e.addMerge=function(t,e){Object.keys(t).forEach(function(n){e[n]&&(t[n]+=e[n])})},e.defaultProxyGenerator=function(t){return new Proxy({},{get:function(e,n){return n in e?e[n]:t}})},e.assert=function(t,e){if(!t){if(e=e||"Assertion failed","undefined"!=typeof Error)throw new Error(e);throw e}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t){var e=t.layout,n=t.i18n,i=Ext.create("Ext.form.field.Text",{width:o["default"].windowCmpWidth,height:45,style:"margin-top: 2px; margin-bottom: 0",fieldStyle:o["default"].textfieldStyle.join(";"),fieldLabel:n.name,labelAlign:"top",labelStyle:o["default"].textFieldLabelStyle.join(";"),labelSeparator:"",emptyText:"Unnamed",enableKeyEvents:!0,currentValue:"",value:e.name,setEventChangeHandler:function(t){this.eventChangeHandler=t},setEventKeyUpHandler:function(t){this.eventKeyUpHandler=t},listeners:{change:function(t,e){this.eventChangeHandler&&this.eventChangeHandler(t,e)},keyup:function(t,e){13===e.keyCode&&this.eventKeyUpHandler&&this.eventKeyUpHandler(t,e)}}}),r=Ext.create("Ext.form.field.TextArea",{width:o["default"].windowCmpWidth,rows:3,style:"margin-bottom: 0",fieldStyle:o["default"].textfieldStyle.concat(["padding-top: 5px"]).join(";"),fieldLabel:n.description,labelAlign:"top",labelStyle:o["default"].textFieldLabelStyle.join(";"),labelSeparator:"",emptyText:"No description (optional)",enableKeyEvents:!0,value:e.description}),a=Ext.create("Ext.form.field.Text",{width:o["default"].windowCmpWidth,height:45,style:"margin-bottom: 0",fieldStyle:o["default"].textfieldStyle.join(";"),
fieldLabel:n.title,labelAlign:"top",labelStyle:o["default"].textFieldLabelStyle.join(";"),labelSeparator:"",emptyText:"No title (optional)",enableKeyEvents:!0,currentValue:"",value:e.title,setEventKeyUpHandler:function(t){this.eventKeyUpHandler=t},listeners:{keyup:function(t,e){13===e.keyCode&&this.eventKeyUpHandler&&this.eventKeyUpHandler(t,e)}}});return{nameTextField:i,descriptionTextField:r,titleTextField:a}};var r=n(29),o=i(r)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.FavoriteWindow=void 0;var r=n(44),o=n(31),a=n(70),s=n(42),l=i(s),u=n(29),d=i(u),c=e.FavoriteWindow=void 0;e.FavoriteWindow=c=function(t,e){var n,i,s,u,c,h,p,f,g,m,y,v,x,b,A,w,S,E,C,P,M,T,k,I,_=t.appManager,O=t.instanceManager,D=t.uiManager,R=t.i18nManager.get(),L=t.uiConfig,B=_.getApiPath(),N=(O.apiResource,O.apiEndpoint),U=d["default"].windowCmpWidth-d["default"].createdColWidth-d["default"].lastUpdatedColWidth-d["default"].buttonColWidth-d["default"].paddingColWidth-2,j="id,name,created,lastUpdated,access,title,description,user",F="id,displayName~rename(name),created,lastUpdated,access,title,description,user",V="name",H="asc",W=[],z=O.getStateCurrent()||{},G=(0,l["default"])({layout:z,i18n:R}),Y=G.nameTextField,X=G.descriptionTextField;return n=function(t){return H=t?H:"asc"===H?"desc":"asc"},i=function(t,i){V=t||V;var r="open"===e?m.getValue():null,o=B+"/"+N+".json?fields="+F+(r?"&filter=displayName:ilike:"+r:"")+"&order="+V+":"+n(i),a=c(y.value);return a&&(o+="&filter="+a),o},s=Ext.create("Ext.data.Store",{fields:j.split(","),proxy:{type:"ajax",reader:{type:"json",root:N},startParam:!1,limitParam:!1},isLoaded:!1,pageSize:10,page:1,defaultUrl:B+"/"+N+".json?fields="+F+"&order=name:asc",loadStore:function(t){this.proxy.url=encodeURI(t||this.defaultUrl),this.load({params:{pageSize:this.pageSize,page:this.page}})},loadFn:function(t){this.isLoaded?t.call():this.load(t)},get:function(t,e){var n=this.findExact(t,e);return n===-1?null:this.getAt(n)},listeners:{load:function(t,e){this.isLoaded||(this.isLoaded=!0);var n=t.proxy.reader.jsonData.pager;w.setText("Page "+n.page+" of "+n.pageCount),b.enable(),A.enable(),1===n.page&&b.disable(),n.page===n.pageCount&&A.disable()}}}),u=Ext.create("Ext.data.Store",{fields:["id","name"],data:[{id:"SHOW_ALL",name:R.show_all},{id:"CREATED_BY_ME",name:R.created_by_me},{id:"CREATED_BY_OTHERS",name:R.created_by_others}]}),c=function(t){switch(t){case"SHOW_ALL":return null;case"CREATED_BY_ME":return"user.id:eq:"+_.userAccount.id;case"CREATED_BY_OTHERS":return"user.id:neq:"+_.userAccount.id;default:return null}},p={search:function(t,n){var r=t,o=Ext.isString(o)?o:r.getValue();"open"===e&&13===n.keyCode&&s.getRange().length&&(I.destroy(),O.getById(s.getAt(0).data.id)),o!==r.currentValue&&(r.currentValue=o,s.page=1,s.loadStore(i(null,!0)))}},f=Ext.create("Ext.form.Label",{text:R.show_favorites,style:"color:#226aba",nextAction:"hide",textMap:{hide:R.hide_favorites,show:R.show_favorites},toggle:function(){var t=this;W.forEach(function(e){e[t.nextAction]()}),this.nextAction="hide"===this.nextAction?"show":"hide",this.setText(this.textMap[this.nextAction])},listeners:{render:function(t){var e=this,n=this.getEl();n.setStyle("cursor","pointer"),n.on("click",function(){e.toggle()})}}}),g=Ext.create("Ext.container.Container",{width:d["default"].windowCmpWidth,style:"text-align:right; padding-right:7px; padding-bottom:4px",items:f}),m=Ext.create("Ext.form.field.Text",{width:d["default"].windowCmpWidth-d["default"].filtersComboBoxWidth,height:27,style:"margin-bottom: 1px; display: inline-block",fieldStyle:d["default"].textfieldStyle.concat(["color: #333"]).join(";"),emptyText:R.search_for_favorites+"..",enableKeyEvents:!0,currentValue:"",listeners:{keyup:{fn:function(t,e){p.search(t,e)},buffer:100}}}),W.push(m),y=Ext.create("Ext.form.field.ComboBox",{width:d["default"].filtersComboBoxWidth,height:27,style:"display: inline-block; top: 7px; right: 5px",fieldLabel:"Filter",labelWidth:30,store:u,displayField:"name",valueField:"id",value:"SHOW_ALL",editable:!1,listeners:{select:function(t){var e=t.value,n=i(null,!0,[c(e)]),r=s;r.page=r.page<=1?1:r.page-1,r.loadStore(n)}}}),W.push(y),x=Ext.create("Ext.button.Button",{text:R.save,disabled:!0,xable:function(){this.setDisabled(!Y.getValue())},handler:function(){v()}}),v=function(){var e=Y.getValue();if(e){var n=O.getStateCurrent(),i=O.getStateFavoriteId(),r=X.getValue(),o=function(){I.destroy()},a=function(t,e,i){n.id=t||n.id,O.getById(n.id,function(t,e){O.getReport(t,e,!1,!1,function(){D.unmask()})})};n.apply({id:i,name:e,description:r},["id","name","description"]);var s=new t.api.Request(t,{baseUrl:B+"/"+N+".json?fields=id&filter=displayName:eq:"+e,type:"ajax",method:"GET",success:function(t,e,i){t&&t.pager.total>0&&t[N].length?D.confirmReplace(R.save_favorite,function(){o(),n.clone().put(t[N][0].id,a,!0,!0)}):(o(),n.clone().post(a,!0,!0))}});s.run()}},b=Ext.create("Ext.button.Button",{text:R.prev,handler:function(){var t=i(null,!0),e=s;e.page=e.page<=1?1:e.page-1,e.loadStore(t)}}),W.push(b),A=Ext.create("Ext.button.Button",{text:R.next,handler:function(){var t=i(null,!0),e=s;e.page=e.page+1,e.loadStore(t)}}),W.push(A),w=Ext.create("Ext.form.Label",{cls:"ns-label-info",width:300,height:22}),W.push(w),S=(0,a.GridHeaders)({width:d["default"].windowCmpWidth,height:21,direction:"asc",getDirection:function(){},items:[{text:R.name,textAlign:"left",width:U,height:20,handler:function(){var t=i("name"),e=s;e.page=1,e.loadStore(t)}},{text:R.created,textAlign:"left",width:d["default"].createdColWidth,height:20,direction:"asc",handler:function(){var t=i("created"),e=s;e.page=1,e.loadStore(t)}},{text:R.last_updated,textAlign:"left",width:d["default"].lastUpdatedColWidth,height:20,direction:"asc",handler:function(){var t=i("lastUpdated"),e=s;e.page=1,e.loadStore(t)}}]}),W.push(S),E={open:function(t,e,n){var i=function(){var t=Ext.get(n.data.id);t&&(t=t.parent("td"),t.addClsOnOver("link"),t.load=function(){I.destroy(),O.getById(n.data.id)},t.handler=function(){O.isStateUnsaved()?D.confirmUnsaved(R.open,function(){t.load()}):t.load()},t.dom.setAttribute("onclick","Ext.get(this).handler();"))};return Ext.defer(i,100),'<div id="'+n.data.id+'">'+t+"</div>"},saveas:function(t,e,n){var i=function(){var t=Ext.get(n.data.id);t&&(t=t.parent("td"),t.handler=function(){Y.setValue(n.data.name),X.setValue(n.data.description)},t.dom.setAttribute("onclick","Ext.get(this).handler();"))};return Ext.defer(i,100),'<div id="'+n.data.id+'">'+t+"</div>"}},C=Ext.create("Ext.toolbar.Separator",{height:20,style:"border-color:transparent; border-right-color:#d1d1d1; margin-right:4px"}),W.push(C),P=function(){var t=[];return t.push(w,"->",b,A),"saveas"===e&&t.push(" ",C," ",x),t}(),M=Ext.create("Ext.grid.Panel",{cls:"ns-grid",scroll:!1,hideHeaders:!0,columns:[{dataIndex:"name",sortable:!0,width:U,renderer:E[e]},{dataIndex:"created",sortable:!0,width:d["default"].createdColWidth,renderer:function(t){return(t||"").substring(0,16).split("T").join(", ")}},{dataIndex:"lastUpdated",sortable:!0,width:d["default"].lastUpdatedColWidth,renderer:function(t){return(t||"").substring(0,16).split("T").join(", ")}},{xtype:"actioncolumn",sortable:!1,width:d["default"].buttonColWidth,items:[{iconCls:"ns-grid-row-icon-edit",getClass:function(t,e,n){return"tooltip-favorite-edit"+(n.data.access.update?"":" disabled")},handler:function(e,n,o,a,l){var u,c=this.up("grid").store.getAt(n),p=l.target.x-U-d["default"].lastUpdatedColWidth-d["default"].borderWidth+6,f=l.target.y-34,g={id:c.data.id,name:c.data.name,description:c.data.description},m={};c.data.access.update&&(u=function(){s.loadStore(i(null,!0))},m.show=function(){I.destroyOnBlur=!1},m.destroy=function(){I.destroyOnBlur=!0},h=(0,r.RenameWindow)(t,g,u,m),h.showAt(p,f))}},{iconCls:"ns-grid-row-icon-sharing",getClass:function(t,e,n){return"tooltip-favorite-sharing"+(n.data.access.manage?"":" disabled")},handler:function(e,n){var i=this.up("grid").store.getAt(n);i.data.access.manage&&O.getSharingById(i.data.id,function(e){(0,o.SharingWindow)(t,e).show()})}},{iconCls:"ns-grid-row-icon-delete",getClass:function(t,e,n){return"tooltip-favorite-delete"+(n.data.access["delete"]?"":" disabled")},handler:function(t,e,n,r,o){var a=this.up("grid").store.getAt(e),l=a.data.id;a.data.access["delete"]&&D.confirmDelete(R.delete_favorite,function(){O.delById(l,function(){s.loadStore(i(null,!0)),l===O.getStateFavoriteId()&&O.setState()},!0,!0)})}}]},{sortable:!1,width:d["default"].paddingColWidth}],store:s,listeners:{render:function(){var t=Math.floor((D.getHeight()-330)/L.grid_row_height);this.store.pageSize=t,this.store.page=1,this.store.loadStore(),s.on("load",function(){this.isVisible()&&this.fireEvent("afterrender")},this)},afterrender:function(){var t=function(){for(var t,e=Ext.query(".tooltip-favorite-edit"),n=Ext.query(".tooltip-favorite-sharing"),i=Ext.query(".tooltip-favorite-delete"),r=0;r<e.length;r++){var t=e[r];Ext.create("Ext.tip.ToolTip",{target:t,html:R.rename,anchor:"bottom",anchorOffset:-14,showDelay:1e3})}for(var r=0;r<n.length;r++)t=n[r],Ext.create("Ext.tip.ToolTip",{target:t,html:R.share_with_other_people,anchor:"bottom",anchorOffset:-14,showDelay:1e3});for(var r=0;r<i.length;r++)t=i[r],Ext.create("Ext.tip.ToolTip",{target:t,html:R.delete_,anchor:"bottom",anchorOffset:-14,showDelay:1e3})};Ext.defer(t,100)},itemmouseenter:function(t,e,n){this.currentItem=Ext.get(n),this.currentItem.removeCls("x-grid-row-over")},select:function(){"open"===e&&this.currentItem.removeCls("x-grid-row-selected")},selectionchange:function(){this.currentItem.removeCls("x-grid-row-focused")},itemdblclick:function(){"saveas"===e&&v()}}}),W.push(M),T={open:R.open_favorite,saveas:R.save_favorite_as},k=function(){var t=[];return"saveas"===e&&t.push(Y,X,g),t.push(m,y,S,M),t}(),I=Ext.create("Ext.window.Window",{title:T[e],bodyStyle:"padding:1px; background-color:#fff",resizable:!1,modal:!0,width:d["default"].windowWidth,destroyOnBlur:!0,items:k,bbar:P,listeners:{show:function(t){var n=D.get("favoriteButton")||{};n.rendered&&(D.setAnchorPosition(t,n),t.hasDestroyOnBlurHandler||D.addDestroyOnBlurHandler(t)),("open"===e?m:Y).focus(!1,500),"saveas"===e&&f.toggle()},destroy:function(t){D.unreg("favoriteWindow")}}}),Y.setEventKeyUpHandler(v),Y.setEventChangeHandler(function(){x.xable()}),I}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.RenameWindow=void 0;var r=n(1),o=(i(r),n(42)),a=i(o),s=n(29),l=(i(s),e.RenameWindow=void 0);e.RenameWindow=l=function(t,e,n,i){var r=t.appManager,o=t.uiManager,s=t.instanceManager,l=t.i18nManager.get(),u=(t.uiConfig,t.api),d=r.getApiPath(),c=s.apiEndpoint;i=i||{};var h=(0,a["default"])({layout:e,i18n:l}),p=h.nameTextField,f=h.descriptionTextField,g=Ext.create("Ext.button.Button",{text:l.update,handler:function(){var i=p.getValue(),a=f.getValue(),l=function(){var t={name:i,description:a};e.apply(t),e.patch(t,function(){n&&n(),s.getById(null,function(t,e){s.getReport(t,e,!1,!1,function(){o.unmask()})}),y.destroy()},!0,!0)};if(e.patch)l();else{var h=r.getAnalysisFields(),g=d+"/"+c+"/"+e.id+".json?fields="+h;$.getJSON(encodeURI(g),function(n){e=new u.Layout(t,n).val(),l()})}}}),m=Ext.create("Ext.button.Button",{text:l.cancel,handler:function(){y.destroy()}}),y=Ext.create("Ext.window.Window",{title:id?"Rename favorite":"Create new favorite",bodyStyle:"padding:1px; background:#fff",resizable:!1,modal:!0,items:[p,f],destroyOnBlur:!0,bbar:[m,"->",g],listeners:{show:function(t){var e=o.get("favoriteButton")||{};e.rendered&&(o.setAnchorPosition(t,e),t.hasDestroyOnBlurHandler||o.addDestroyOnBlurHandler(t)),p.focus(!1,500),i.show&&i.show()},destroy:function(){i.destroy&&i.destroy()}}});return y}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,n){return(0,a["default"])(t.filter(function(t){return!(0,l["default"])(e,t)}).concat(n===!0?e.filter(function(e){return!(0,l["default"])(t,e)}):[]))}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=r;var o=n(22),a=i(o),s=n(4),l=i(s)},function(t,e){"use strict";function n(){var t=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e){var n=void 0;if((0,o["default"])(t)&&t.length){n="";var i=void 0,r=void 0,a=void 0;t.forEach(function(t,s,l){if(i=e.dimensions[t.dimension],(0,o["default"])(i)){a=i.length;var u=void 0;for(r=0;r<a;r++){if(u=i[r],!e.items[u]){n+=e.items[t.dimension].name+": "+i.join(", ");break}n+=e.items[u].name+(r<a-1?", ":"")}n+=s<l.length-1?" - ":""}})}return n||null};var r=n(12),o=i(r)},[675,12],function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<e.length;r++){var a=e[r];"number"==typeof a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},[677,83],function(t,e,n){function i(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=p[i.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](i.parts[o]);for(;o<i.parts.length;o++)r.parts.push(u(i.parts[o],e))}else{for(var a=[],o=0;o<i.parts.length;o++)a.push(u(i.parts[o],e));p[i.id]={id:i.id,refs:1,parts:a}}}}function r(t){for(var e=[],n={},i=0;i<t.length;i++){var r=t[i],o=r[0],a=r[1],s=r[2],l=r[3],u={css:a,media:s,sourceMap:l};n[o]?n[o].parts.push(u):e.push(n[o]={id:o,parts:[u]})}return e}function o(t,e){var n=m(),i=x[x.length-1];if("top"===t.insertAt)i?i.nextSibling?n.insertBefore(e,i.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),x.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function a(t){t.parentNode.removeChild(t);var e=x.indexOf(t);e>=0&&x.splice(e,1)}function s(t){var e=document.createElement("style");return e.type="text/css",o(t,e),e}function l(t){var e=document.createElement("link");return e.rel="stylesheet",o(t,e),e}function u(t,e){var n,i,r;if(e.singleton){var o=v++;n=y||(y=s(e)),i=d.bind(null,n,o,!1),r=d.bind(null,n,o,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=l(e),i=h.bind(null,n),r=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(e),i=c.bind(null,n),r=function(){a(n)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else r()}}function d(t,e,n,i){var r=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=b(e,r);else{var o=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function c(t,e){var n=e.css,i=e.media;if(i&&t.setAttribute("media",i),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function h(t,e){var n=e.css,i=e.sourceMap;i&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var r=new Blob([n],{type:"text/css"}),o=t.href;t.href=URL.createObjectURL(r),o&&URL.revokeObjectURL(o)}var p={},f=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},g=f(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),m=f(function(){return document.head||document.getElementsByTagName("head")[0]}),y=null,v=0,x=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=g()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var n=r(t);return i(n,e),function(t){for(var o=[],a=0;a<n.length;a++){var s=n[a],l=p[s.id];l.refs--,o.push(l)}if(t){var u=r(t);i(u,e)}for(var a=0;a<o.length;a++){var l=o[a];if(0===l.refs){for(var d=0;d<l.parts.length;d++)l.parts[d]();delete p[l.id]}}}};var b=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,n){var i=n(55),r=n(108),o=n(59),a=n(58),s=n(103);t.exports=function(t,e){var n=1==t,l=2==t,u=3==t,d=4==t,c=6==t,h=5==t||c,p=e||s;return function(e,s,f){for(var g,m,y=o(e),v=r(y),x=i(s,f,3),b=a(v.length),A=0,w=n?p(e,b):l?p(e,0):void 0;b>A;A++)if((h||A in v)&&(g=v[A],m=x(g,A,y),t))if(n)w[A]=m;else if(m)switch(t){case 3:return!0;case 5:return g;case 6:return A;case 2:w.push(g)}else if(d)return!1;return c?-1:u||d?d:w}}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var i=n(99);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e,n){var i=n(57),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},function(t,e,n){var i=n(104);t.exports=function(t){return Object(i(t))}},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},function(t,e,n){var i=n(113)("wks"),r=n(60),o=n(19).Symbol,a="function"==typeof o,s=t.exports=function(t){return i[t]||(i[t]=a&&o[t]||(a?o:r)("Symbol."+t))};s.store=i},function(t,e,n){var i=n(134);t.exports=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Dimension=void 0;var r=n(3),o=i(r),a=n(2),s=i(a),l=n(5),u=i(l),d=n(4),c=i(d),h=n(32),p=i(h),f=n(22),g=i(f),m=["dx","pe","ou"],y=e.Dimension=void 0;e.Dimension=y=function(t,e){var n=this;e=(0,s["default"])(e)?e:{},e.items=(0,u["default"])(e.items);var i=t.api.Record;n.dimension=e.dimension,n.items=e.items.map(function(e){return new i(t,e).val()}),e.sorted&&(n.sorted=e.sorted),n.getRefs=function(){return t}},y.prototype.log=function(t,e){e||console.log(t,this)},y.prototype.val=function(t){return(0,o["default"])(this.dimension)?(!this.items.length&&!(0,c["default"])(["co","dy","longitude","latitude"],this.dimension),this):(this.log("(Dimension) Dimension is not a string",t),null)},y.prototype.add=function(t){var e=this,n=e.getRefs(),i=n.api.Record,r=new i(n,t).val();r&&this.items.push(r)},y.prototype.getRecords=function(t,e,n){var i=e?e.getRecordsByDimensionName(this.dimension):this.items;return n&&(i=i.slice(0)),t=(0,c["default"])(["id","name"],t)?t:null,t?i.sort(function(e,n){return e[t]>n[t]}):i},y.prototype.removeItems=function(){this.items=[]},y.prototype.isRequired=function(){return(0,c["default"])(m,this.dimension)},y.prototype.getRecordIds=function(t,e,n){var i=this.getRecords(t?"id":null,e,n);return(0,p["default"])(i,"id")},y.prototype.getRecordNames=function(t,e,n){return(0,p["default"])(this.getRecords(t?"name":null,e,n),"name")},y.prototype.extendRecords=function(t){var e=this,n=e.getRecords();return n.forEach(function(e){e.setName(null,t)}),n},y.prototype.toPlugin=function(){delete this.klass,this.items.forEach(function(t){t.toPlugin()})},y.prototype.toPost=function(){delete this.klass,this.items.forEach(function(t){t.toPost()})},y.prototype.url=function(t,e,n){var i=(n?"filter":"dimension")+"="+this.dimension,r=(0,g["default"])(this.getRecordIds(t,e,!0));return i+=r.length?":"+r.join(";"):""}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Period=void 0;var r=n(25),o=i(r),a=n(4),s=i(a),l=n(5),u=i(l),d=n(22),c=i(d),h=n(195),p=i(h),f=n(75),g=i(f),m=e.Period=void 0;e.Period=m=function(t,e){var n=this;n.id=""+t.id,n.name=t.name,n.yearOffset=5,n.year=n.id.slice(0,4),n.offset=parseInt(n.year)-(new Date).getFullYear(),n.generator=e.calendarManager.periodGenerator,n.i18n=e.i18nManager.get(),n.sortId,n.typeSortId,n.typeName,n.displayName,n.getContextMenuItemsConfig},m.prototype.getPrefixedNumber=function(t){return parseInt(t)<10?"0"+t:t},m.prototype.getNameByIdAndType=function(t,e,n){var i=this;n=n||this.year;for(var r=parseInt(n)-(new Date).getFullYear(),o=i.generator.generateReversedPeriods(t,r),a=0;a<o.length;a++)if(o[a].iso===e)return o[a].name},m.prototype.getItemifiedPeriods=function(t){var e=[];t=(0,u["default"])(t);for(var n=0;n<t.length;n++)e.push({id:t[n].iso,name:t[n].name});return e},m.prototype.gen=function(t,e){return this.generator.generatePeriods(t,e)},m.prototype.genRev=function(t,e){return this.generator.generateReversedPeriods(t,e)},m.prototype.getTypeById=function(t){if((0,o["default"])(t.slice(0,4))){if(4===t.length)return"Yearly";if((0,s["default"])([6,7],t.length)){if((0,o["default"])(t))return"Monthly";if(t.indexOf("W")!==-1)return"Weekly";if(t.indexOf("Q")!==-1)return"Quarterly";if(t.indexOf("S")!==-1)return"SixMonthly";if(t.indexOf("B")!==-1)return"BiMonthly";if(t.indexOf("Oct")!==-1)return"FinancialOct"}else if(8===t.length){if((0,o["default"])(t.slice(4,8)))return"Daily";if(t.indexOf("July")!==-1)return"FinancialJuly"}else if(9===t.length){if(t.indexOf("April")!==-1)return"FinancialApril"}else if(11===t.length&&t.indexOf("AprilS")!==-1)return"SixMonthlyApril"}},m.prototype.getNameByParents=function(t,e){return 1!==t.length||void 0===t[0].name?e:e+" ("+t[0].name+")"},m.prototype.getItemsByTypeByFinancialApril=function(t,e){var n,i,r,o,a=this.year+"-04-01",s=parseInt(this.year)+1+"-03-31",l=this.year+"-04",u=parseInt(this.year)+1+"-04",d=this.gen(t,this.offset),c=this.gen(t,this.offset+1);if("FinancialApril"===t)return e?this.getItemifiedPeriods(this.gen(t,this.offset-1+this.yearOffset).slice(0,2)):this.getItemifiedPeriods(this.gen(t,this.offset+this.yearOffset).slice(0,1));if("FinancialJuly"===t)return this.getItemifiedPeriods(this.gen(t,this.offset-1+this.yearOffset).slice(0,2));if("FinancialOct"===t)return this.getItemifiedPeriods(this.gen(t,this.offset-1+this.yearOffset).slice(0,2));if("Yearly"===t)return r=this.gen(t,this.offset+this.yearOffset)[0],o=this.gen(t,this.offset+1+this.yearOffset)[0],this.getItemifiedPeriods([r,o]);if("SixMonthlyApril"===t)return this.getItemifiedPeriods(d);if("SixMonthly"===t)return this.getItemifiedPeriods([].concat(d,c.slice(0,1)));if("Quarterly"===t)return this.getItemifiedPeriods([].concat(d.slice(1),c.slice(0,1)));if("BiMonthly"===t)return this.getItemifiedPeriods([].concat(d.slice(1),c.slice(0,2)));if("Monthly"===t){for(var h,p=0;p<d.length;p++)h=d[p],h.startDate.slice(0,7)===l&&(n=p);for(var h,f=0;f<c.length;f++)h=c[f],h.startDate.slice(0,7)===u&&(i=f);return this.getItemifiedPeriods([].concat(d.slice(n),c.slice(0,i)))}if("Weekly"===t){for(var g,p=0;p<d.length;p++)g=d[p],g.startDate.slice(0,7)!==l&&g.endDate.slice(0,7)!==l||(n=p);for(var g,f=0;f<c.length;f++)g=c[f],g.startDate.slice(0,7)===u&&g.endDate.slice(0,7)===u&&(i=f);return this.getItemifiedPeriods([].concat(d.slice(n),c.slice(0,i)))}if("Daily"===t){for(var p=0;p<d.length;p++)d[p].startDate===a&&(n=p);for(var f=0;f<c.length;f++)c[f].endDate===s&&(i=f+1);return this.getItemifiedPeriods([].concat(d.slice(n),c.slice(0,i)))}return[]},m.prototype.getItemsByTypeByFinancialJuly=function(t,e){var n,i,r,o,a=this.year+"-07-01",s=parseInt(this.year)+1+"-06-30",l=this.year+"-07",u=parseInt(this.year)+1+"-07",d=this.gen(t,this.offset),c=this.gen(t,this.offset+1);if("FinancialApril"===t)return this.getItemifiedPeriods(this.gen(t,this.offset+this.yearOffset).slice(0,2));if("FinancialJuly"===t)return e?this.getItemifiedPeriods(this.gen(t,this.offset-1+this.yearOffset).slice(0,2)):this.getItemifiedPeriods(this.gen(t,this.offset+this.yearOffset).slice(0,1));if("FinancialOct"===t)return this.getItemifiedPeriods(this.gen(t,this.offset-1+this.yearOffset).slice(0,2));if("Yearly"===t)return r=this.gen(t,this.offset+this.yearOffset)[0],o=this.gen(t,this.offset+1+this.yearOffset)[0],this.getItemifiedPeriods([r,o]);if("SixMonthlyApril"===t)return this.getItemifiedPeriods([].concat(d,c.slice(0,1)));if("SixMonthly"===t)return this.getItemifiedPeriods([].concat(d.slice(1),c.slice(0,1)));if("Quarterly"===t)return this.getItemifiedPeriods([].concat(d.slice(2),c.slice(0,2)));if("BiMonthly"===t)return this.getItemifiedPeriods([].concat(d.slice(3),c.slice(0,3)));if("Monthly"===t){for(var h,p=0;p<d.length;p++)h=d[p],h.startDate.slice(0,7)===l&&(n=p);for(var h,f=0;f<c.length;f++)h=c[f],h.startDate.slice(0,7)===u&&(i=f);return this.getItemifiedPeriods([].concat(d.slice(n),c.slice(0,i)))}if("Weekly"===t){for(var g,p=0;p<d.length;p++)g=d[p],g.startDate.slice(0,7)!==l&&g.endDate.slice(0,7)!==l||(n=p);for(var g,f=0;f<c.length;f++)g=c[f],g.startDate.slice(0,7)===u&&g.endDate.slice(0,7)===u&&(i=f);return this.getItemifiedPeriods([].concat(d.slice(n),c.slice(0,i)))}if("Daily"===t){for(var p=0;p<d.length;p++)d[p].startDate===a&&(n=p);for(var f=0;f<c.length;f++)c[f].endDate===s&&(i=f+1);return this.getItemifiedPeriods([].concat(d.slice(n),c.slice(0,i)))}return[]},m.prototype.getItemsByTypeByFinancialOct=function(t,e){var n,i,r,o,a=this.year+"-10-01",s=parseInt(this.year)+1+"-09-30",l=this.year+"-10",u=parseInt(this.year)+1+"-10",d=this.gen(t,this.offset),c=this.gen(t,this.offset+1);if("FinancialApril"===t)return this.getItemifiedPeriods(this.gen(t,this.offset+this.yearOffset).slice(0,2));if("FinancialJuly"===t)return this.getItemifiedPeriods(this.gen(t,this.offset+this.yearOffset).slice(0,2));if("FinancialOct"===t)return e?this.getItemifiedPeriods(this.gen(t,this.offset-1+this.yearOffset).slice(0,2)):this.getItemifiedPeriods(this.gen(t,this.offset+this.yearOffset).slice(0,1));if("Yearly"===t)return r=this.gen(t,this.offset+this.yearOffset)[0],o=this.gen(t,this.offset+1+this.yearOffset)[0],this.getItemifiedPeriods([r,o]);if("SixMonthlyApril"===t)return this.getItemifiedPeriods([].concat(d.slice(1),c.slice(0,1)));if("SixMonthly"===t)return this.getItemifiedPeriods([].concat(d.slice(1),c));if("Quarterly"===t)return this.getItemifiedPeriods([].concat(d.slice(3),c.slice(0,3)));if("BiMonthly"===t)return this.getItemifiedPeriods([].concat(d.slice(4),c.slice(0,5)));if("Monthly"===t){for(var h,p=0;p<d.length;p++)h=d[p],h.startDate.slice(0,7)===l&&(n=p);for(var h,f=0;f<c.length;f++)h=c[f],h.startDate.slice(0,7)===u&&(i=f);return this.getItemifiedPeriods([].concat(d.slice(n),c.slice(0,i)))}if("Weekly"===t){for(var g,p=0;p<d.length;p++)g=d[p],g.startDate.slice(0,7)!==l&&g.endDate.slice(0,7)!==l||(n=p);for(var g,f=0;f<c.length;f++)g=c[f],g.startDate.slice(0,7)===u&&g.endDate.slice(0,7)===u&&(i=f);return this.getItemifiedPeriods([].concat(d.slice(n),c.slice(0,i)))}if("Daily"===t){for(var p=0;p<d.length;p++)d[p].startDate===a&&(n=p);for(var f=0;f<c.length;f++)c[f].endDate===s&&(i=f+1);return this.getItemifiedPeriods([].concat(d.slice(n),c.slice(0,i)))}return[]},m.prototype.getItemsByTypeByYear=function(t){return"FinancialOct"===t?this.getItemifiedPeriods(this.genRev(t,this.offset-5).slice(0,2)):"FinancialJuly"===t?this.getItemifiedPeriods(this.genRev(t,this.offset-5).slice(0,2)):"FinancialApril"===t?this.getItemifiedPeriods(this.genRev(t,this.offset-5).slice(0,2)):"Yearly"===t?this.getItemifiedPeriods(this.genRev(t,this.offset-5).slice(0,1)):"SixMonthlyApril"===t?this.getItemifiedPeriods(this.genRev(t,this.offset)):"SixMonthly"===t?this.getItemifiedPeriods(this.genRev(t,this.offset)):"Quarterly"===t?this.getItemifiedPeriods(this.genRev(t,this.offset)):"BiMonthly"===t?this.getItemifiedPeriods(this.genRev(t,this.offset)):"Monthly"===t?this.getItemifiedPeriods(this.genRev(t,this.offset)):"Weekly"===t?this.getItemifiedPeriods(this.genRev(t,this.offset)):"Daily"===t?this.getItemifiedPeriods(this.genRev(t,this.offset)):[]},m.prototype.getItemsByTypeBySixmonthApril=function(t,e){var n=this.id.slice(10,11),i=parseInt(n);if("FinancialOct"===t)return o=1===i?-1:0,this.getItemifiedPeriods(this.gen(t,this.offset+this.yearOffset+o).slice(0,1));if("FinancialJuly"===t)return o=1===i?-1:0,r=o===-1?2:1,this.getItemifiedPeriods(this.gen(t,this.offset+this.yearOffset+o).slice(0,r));if("FinancialApril"===t)return this.getItemifiedPeriods(this.gen(t,this.offset+this.yearOffset).slice(0,1));if("Yearly"===t){var r=1===i?1:2;return this.getItemifiedPeriods(this.gen(t,this.offset+this.yearOffset).slice(0,r))}if("SixMonthlyApril"===t)return e?this.getItemifiedPeriods(this.gen(t,this.offset-1).slice(1,2).concat(this.gen(t,this.offset))):this.getItemifiedPeriods([this.gen(t,this.offset)[i-1]]);if("SixMonthly"===t){var o=1===i?0:1;return this.getItemifiedPeriods(this.gen(t,this.offset).slice(1,2).concat(this.gen(t,this.offset+o).slice(0,1)))}if("Quarterly"===t){var a=[];return 1===i?a=a.concat(this.gen(t,this.offset).slice(1,3)):(a=a.concat(this.gen(t,this.offset).slice(3,4)),a=a.concat(this.gen(t,this.offset+1).slice(0,1))),this.getItemifiedPeriods(a)}if("BiMonthly"===t){var s=[];return 1===i?s=s.concat(this.gen(t,this.offset).slice(1,5)):(s=s.concat(this.gen(t,this.offset).slice(4,6)),s=s.concat(this.gen(t,this.offset+1).slice(0,2))),this.getItemifiedPeriods(s)}if("Monthly"===t){var l=[];return 1===i?l=l.concat(this.gen(t,this.offset).slice(3,9)):(l=l.concat(this.gen(t,this.offset).slice(9,12)),l=l.concat(this.gen(t,this.offset+1).slice(0,3))),this.getItemifiedPeriods(l)}if("Weekly"===t){var u=this.gen(t,this.offset),d=[];if(1===i)for(var c,h,p,f=0;f<u.length;f++)c=u[f],h=parseInt(c.startDate.substring(5,7)),p=parseInt(c.endDate.substring(5,7)),(0,g["default"])(h,4,9)!==h&&(0,g["default"])(p,4,9)!==p||d.push(c);else{for(var m,r,c,h,p,y=this.gen(t,this.offset+1),f=0;f<u.length;f++)if(c=u[f],h=parseInt(c.startDate.substring(5,7)),p=parseInt(c.endDate.substring(5,7)),10===h||10===p){m=f;break}d=d.concat(u.slice(m));for(var c,h,p,f=0;f<y.length;f++)if(c=u[f],h=parseInt(c.startDate.substring(5,7)),p=parseInt(c.endDate.substring(5,7)),4===h&&4===p){r=f-1;break}d=d.concat(y.slice(0,r))}return this.getItemifiedPeriods(d)}if("Daily"===t){var v=this.gen(t,this.offset),x=[];if(1===i)for(var b,A,f=0;f<v.length;f++)b=v[f],A=parseInt(b.startDate.substring(5,7)),(0,g["default"])(A,4,9)===A&&x.push(b);else{for(var m,r,b,A,w=this.gen(t,this.offset+1),f=0;f<v.length;f++)if(b=v[f],A=parseInt(b.startDate.substring(5,7)),10===A){m=f;break}x=x.concat(v.slice(m));for(var b,A,f=0;f<w.length;f++)if(b=w[f],A=parseInt(b.startDate.substring(5,7)),4===A){r=f-1;break}x=x.concat(w.slice(0,r))}return this.getItemifiedPeriods(x)}return[]},m.prototype.getItemsByTypeBySixmonth=function(t,e){var n,i,r=this.id.slice(5,6),o=parseInt(r),a=1===o?1:7,s=1===o?6:12;if("FinancialOct"===t)return n=-1,i=1===o?1:2,this.getItemifiedPeriods(this.gen(t,this.offset+this.yearOffset+n).slice(0,i));if("FinancialJuly"===t)return n=1===o?-1:0,this.getItemifiedPeriods(this.gen(t,this.offset+this.yearOffset+n).slice(0,1));if("FinancialApril"===t)return n=1===o?-1:0,i=1===o?2:1,this.getItemifiedPeriods(this.gen(t,this.offset+this.yearOffset+n).slice(0,i));if("Yearly"===t)return this.getItemifiedPeriods(this.gen(t,this.offset+this.yearOffset).slice(0,1));if("SixMonthlyApril"===t){var l=this.gen(t,this.offset),u=l[0],d=l[1],c=this.gen(t,this.offset-1)[1],h=[];return 1===o?h.push(c,u):2===o&&h.push(u,d),this.getItemifiedPeriods(h)}if("SixMonthly"===t)return e?this.getItemifiedPeriods(this.gen(t,this.offset)):this.getItemifiedPeriods([this.gen(t,this.offset)[o-1]]);if("Quarterly"===t){var p=1===o?0:2,i=1===o?2:4;return this.getItemifiedPeriods(this.gen(t,this.offset).slice(p,i));
}if("BiMonthly"===t){var p=1===o?0:3,i=1===o?3:6;return this.getItemifiedPeriods(this.gen(t,this.offset).slice(p,i))}if("Monthly"===t){var p=1===o?0:6,i=1===o?6:12;return this.getItemifiedPeriods(this.gen(t,this.offset).slice(p,i))}if("Weekly"===t){for(var f,g,m,y,v=this.gen(t,this.offset),x=[],b=0;b<v.length;b++)if(f=parseInt(v[b].startDate.substring(5,7)),g=parseInt(v[b].endDate.substring(5,7)),m=v[b].startDate.substring(0,4),y=v[b].endDate.substring(0,4),f>=a&&f<=s||g>=a&&g<=s){if(1===o&&y!==this.year||2===o&&m!==this.year)continue;x.push(v[b])}return this.getItemifiedPeriods(x)}if("Daily"===t){for(var A,w=this.gen(t,this.offset),S=[],b=0;b<w.length;b++)A=parseInt(w[b].iso.substring(4,6)),A>=a&&A<=s&&S.push(w[b]);return this.getItemifiedPeriods(S)}return[]},m.prototype.getItemsByTypeByQuarter=function(t,e){var n,i,r,o=this.id.slice(5,6),a=parseInt(o),s=1===a?1:2===a?4:3===a?7:10,l=1===a?3:2===a?6:3===a?9:12;if("FinancialOct"===t)return r=a<=3?4:5,this.getItemifiedPeriods(this.gen(t,this.offset+r).slice(0,1));if("FinancialJuly"===t)return r=a<=2?4:5,this.getItemifiedPeriods(this.gen(t,this.offset+r).slice(0,1));if("FinancialApril"===t)return r=1===a?4:5,this.getItemifiedPeriods(this.gen(t,this.offset+r).slice(0,1));if("Yearly"===t)return this.getItemifiedPeriods(this.gen(t,this.offset+5).slice(0,1));if("SixMonthlyApril"===t){var r=a<2?-1:a>3?1:0,u=a<2||a>3?1:2;return this.getItemifiedPeriods(this.genRev(t,this.offset+r).slice(0,u))}if("SixMonthly"===t)return n=a<=2?0:1,i=n+1,this.getItemifiedPeriods(this.gen(t,this.offset).slice(n,i));if("Quarterly"===t)return e?this.getItemifiedPeriods(this.gen(t,this.offset)):this.getItemifiedPeriods(this.gen(t,this.offset).slice(a-1,a));if("BiMonthly"===t)return n=1===a?0:2===a?1:3===a?3:4,i=n+2,this.getItemifiedPeriods(this.gen(t,this.offset).slice(n,i));if("Monthly"===t)return n=1===a?0:2===a?3:3===a?6:9,i=n+3,this.getItemifiedPeriods(this.gen(t,this.offset).slice(n,i));if("Weekly"===t){for(var d,c,h,p,f=this.gen(t,this.offset),g=[],m=0;m<f.length;m++)if(d=parseInt(f[m].startDate.substring(5,7)),c=parseInt(f[m].endDate.substring(5,7)),h=f[m].startDate.substring(0,4),p=f[m].endDate.substring(0,4),d>=s&&d<=l||c>=s&&c<=l){if(1===a&&p!==this.year||4===a&&h!==this.year)continue;g.push(f[m])}return this.getItemifiedPeriods(g)}if("Daily"===t){for(var y,v=this.gen(t,this.offset),x=[],m=0;m<v.length;m++)y=parseInt(v[m].iso.substring(4,6)),y>=s&&y<=l&&x.push(v[m]);return this.getItemifiedPeriods(x)}return[]},m.prototype.getItemsByTypeByBimonth=function(t,e){var n,i=this.id.slice(4,6),r=parseInt(i),o=2*r-1,a=2*r;if("FinancialOct"===t){var s=o<10,l=a>=10,n=0+(s?-1:0),u=0+(s?1:0)+(l?1:0);return this.getItemifiedPeriods(this.gen(t,this.offset+this.yearOffset+n).slice(0,u))}if("FinancialJuly"===t){var s=o<7,l=a>=7,n=0+(s?-1:0),u=0+(s?1:0)+(l?1:0);return this.getItemifiedPeriods(this.gen(t,this.offset+this.yearOffset+n).slice(0,u))}if("FinancialApril"===t){var s=o<4,l=a>=4,n=0+(s?-1:0),u=0+(s?1:0)+(l?1:0);return this.getItemifiedPeriods(this.gen(t,this.offset+this.yearOffset+n).slice(0,u))}if("Yearly"===t)return this.getItemifiedPeriods(this.gen(t,this.offset+5).slice(0,1));if("SixMonthlyApril"===t){var d=[];return 1===r?d.push(this.gen("SixMonthlyApril",this.offset-1)[1]):2===r?(d.push(this.gen("SixMonthlyApril",this.offset-1)[1]),d.push(this.gen("SixMonthlyApril",this.offset)[0])):r<5?d.push(this.gen("SixMonthlyApril",this.offset)[0]):5===r?(d.push(this.gen("SixMonthlyApril",this.offset)[0]),d.push(this.gen("SixMonthlyApril",this.offset)[1])):d.push(this.gen("SixMonthlyApril",this.offset)[1]),this.getItemifiedPeriods(d)}if("SixMonthly"===t){var c=r<4?0:1,u=r<4?1:2;return this.getItemifiedPeriods(this.gen(t,this.offset).slice(c,u))}if("Quarterly"===t){var c=1===r?0:2===r?0:3===r?1:4===r?2:5===r?2:3,u=1===r?1:2===r?2:3===r?2:4===r?3:4;return this.getItemifiedPeriods(this.gen("Quarterly",this.offset).slice(c,u))}if("BiMonthly"===t)return e?this.getItemifiedPeriods(this.gen(t,this.offset)):this.getItemifiedPeriods(this.gen(t,this.offset).slice(r-1,r));if("Monthly"===t){var c=1===r?0:2===r?2:3===r?4:4===r?6:5===r?8:10,u=1===r?2:2===r?4:3===r?6:4===r?8:5===r?10:12;return this.getItemifiedPeriods(this.gen(t,this.offset).slice(c,u))}if("Weekly"===t){for(var h,p,f,g,m=this.gen(t,this.offset),y=[],v=0;v<m.length;v++)if(h=parseInt(m[v].startDate.substring(5,7)),p=parseInt(m[v].endDate.substring(5,7)),f=m[v].startDate.substring(0,4),g=m[v].endDate.substring(0,4),h>=o&&h<=a||p>=o&&p<=a){if(1===r&&g!==this.year||4===r&&f!==this.year)continue;y.push(m[v])}return this.getItemifiedPeriods(y)}if("Daily"===t){for(var x,b=this.gen(t,this.offset),A=[],v=0;v<b.length;v++)x=parseInt(b[v].iso.substring(4,6)),x>=o&&x<=a&&A.push(b[v]);return this.getItemifiedPeriods(A)}return[]},m.prototype.getItemsByTypeByMonth=function(t,e){var n,i=this.id.slice(4,6),r=parseInt(i);if("FinancialOct"===t)return n=r<=9?4:5,this.getItemifiedPeriods(this.gen(t,this.offset+n).slice(0,1));if("FinancialJuly"===t)return n=r<=6?4:5,this.getItemifiedPeriods(this.gen(t,this.offset+n).slice(0,1));if("FinancialApril"===t)return n=r<=3?4:5,this.getItemifiedPeriods(this.gen(t,this.offset+n).slice(0,1));if("Yearly"===t)return this.getItemifiedPeriods(this.genRev(t,this.offset-5).slice(0,1));if("SixMonthlyApril"===t){var n=r<4?-1:0,o=r<4||r>9?1:2;return this.getItemifiedPeriods(this.genRev(t,this.offset+n).slice(0,o))}if("SixMonthly"===t){var a=r<=6?0:1,s=a+1;return this.getItemifiedPeriods(this.gen(t,this.offset).slice(a,s))}if("Quarterly"===t){var a=r<=3?0:r<=6?1:r<=9?2:3;return s=a+1,this.getItemifiedPeriods(this.gen(t,this.offset).slice(a,s))}if("BiMonthly"===t){var a=r<=2?0:r<=4?1:r<=6?2:r<=8?3:r<=10?4:5;return s=a+1,this.getItemifiedPeriods(this.gen(t,this.offset).slice(a,s))}if("Monthly"===t)return e?this.getItemifiedPeriods(this.gen(t,this.offset)):this.getItemifiedPeriods(this.gen(t,this.offset).slice(r-1,r));if("Weekly"===t){for(var l,u,d,c=this,h=1===r||12===r,p=function(){var e=[];return e=e.concat(h?c.gen(t,c.offset-1):[]),e=e.concat(c.gen(t,c.offset)),e=e.concat(h?c.gen(t,c.offset+1):[])}(),f=this.year+"-"+i,g=[],m=0;m<p.length;m++)d=p[m],l=d.startDate,u=d.endDate,l.substring(0,7)!==f&&u.substring(0,7)!==f||g.push(d);return this.getItemifiedPeriods(g)}if("Daily"===t){for(var y,v=this.gen(t,this.offset),x=[],m=0;m<v.length;m++)y=v[m].iso,y.substring(4,6)===i&&x.push(v[m]);return this.getItemifiedPeriods(x)}return[]},m.prototype.getItemsByTypeByWeek=function(t,e){var n,i=this.id.slice(5,7),r=parseInt(i),o=this.gen("Weekly",this.offset),a=o[r-1],s=parseInt(a.startDate.substring(5,7)),l=parseInt(a.endDate.substring(5,7)),u=parseInt(a.startDate.substring(0,4)),d=parseInt(a.endDate.substring(0,4));if("FinancialOct"===t){var h=s<10||u<this.year,p=l>=10||u>this.year,n=h?-1:0,f=1+(h?1:0)+(p?1:0);return this.getItemifiedPeriods(this.gen("FinancialOct",this.offset+this.yearOffset+n).slice(0,f))}if("FinancialJuly"===t){var h=s<7||u<this.year,p=l>=7||u>this.year,n=h?-1:0,f=1+(h?1:0)+(p?1:0);return this.getItemifiedPeriods(this.gen("FinancialJuly",this.offset+this.yearOffset+n).slice(0,f))}if("FinancialApril"===t){var h=s<4||u<this.year,p=l>=4||u>this.year,n=h?-1:0,f=1+(h?1:0)+(p?1:0);return this.getItemifiedPeriods(this.gen("FinancialApril",this.offset+this.yearOffset+n).slice(0,f))}if("Yearly"===t){var n=u<parseInt(this.year)?-1:0,f=1+(u!==d?1:0);return this.getItemifiedPeriods(this.gen("Yearly",this.offset+this.yearOffset+n).slice(0,f))}if("SixMonthlyApril"===t){var m=[];return(s<4||u<this.year)&&m.push(this.gen("SixMonthlyApril",this.offset-1)[1]),(0,g["default"])(s,4,9)!==s&&(0,g["default"])(l,4,9)!==l||m.push(this.gen("SixMonthlyApril",this.offset)[0]),(l>9||d>this.year)&&m.push(this.gen("SixMonthlyApril",this.offset)[1]),this.getItemifiedPeriods(m)}if("SixMonthly"===t){for(var y=this.gen(t,this.offset),v=(0,c["default"])([Math.ceil(s/6),Math.ceil(l/6)]),x=[],b=0;b<v.length;b++)x.push(y[v[b]-1]);return this.getItemifiedPeriods(x)}if("Quarterly"===t){for(var A=this.gen(t,this.offset),w=(0,c["default"])([Math.ceil(s/3),Math.ceil(l/3)]),S=[],b=0;b<w.length;b++)S.push(A[w[b]-1]);return this.getItemifiedPeriods(S)}if("BiMonthly"===t){for(var E=this.gen(t,this.offset),C=(0,c["default"])([Math.ceil(s/2),Math.ceil(l/2)]),P=[],b=0;b<C.length;b++)P.push(E[C[b]-1]);return this.getItemifiedPeriods(P)}if("Monthly"===t){var M=this.gen(t,this.offset),T=[];if(12===s&&1===l)T.push(this.gen(t,this.offset-1)[11]),T.push(M[0]);else if(1===s&&12===l)T.push(M[11]),T.push(this.gen(t,this.offset+1)[0]);else for(var b=((0,c["default"])([s,l]),0),k=(0,c["default"])([s,l]);b<k.length;b++)T.push(M[k[b]-1]);return this.getItemifiedPeriods(T)}if("Weekly"===t){var o=this.gen(t,this.offset),a=o[r-1];return e?this.getItemifiedPeriods(o):this.getItemifiedPeriods(a)}if("Daily"===t){var I,_,O=this.gen(t,this.offset),a=this.gen("Weekly",this.offset)[r-1],D=[];if(e)return this.getItemifiedPeriods(O);if(a.startDate.slice(0,4)<this.year)for(var R,b=0,L=this.gen(t,this.offset-1).slice(358);b<L.length;b++)R=L[b],R.startDate===a.startDate&&(D=D.concat(L.slice(b)));for(var B,b=0;b<O.length;b++)B=O[b].startDate,B===a.startDate?I=b:B===a.endDate&&(_=b+1);if(D=D.concat(O.slice(I,_)),a.endDate.slice(0,4)>this.year)for(var R,b=0,N=this.gen(t,this.offset+1).slice(0,7);b<N.length&&(R=N[b],D.push(R),R.endDate!==a.endDate);b++);return this.getItemifiedPeriods(D)}return[]},m.prototype.getItemsByTypeByDay=function(t,e){var n,i=this.id.slice(6,8),r=parseInt(i),o=this.id.slice(4,6),a=parseInt(o);if("FinancialOct"===t)return n=a<=9?4:5,this.getItemifiedPeriods(this.gen(t,this.offset+n).slice(0,1));if("FinancialJuly"===t)return n=a<=6?4:5,this.getItemifiedPeriods(this.gen(t,this.offset+n).slice(0,1));if("FinancialApril"===t)return n=a<=3?4:5,this.getItemifiedPeriods(this.gen(t,this.offset+n).slice(0,1));if("Yearly"===t)return this.getItemifiedPeriods(this.genRev(t,this.offset-5).slice(0,1));if("SixMonthlyApril"===t){var n=a<4?-1:0,s=a<4||a>9?1:0,l=s+1;return this.getItemifiedPeriods(this.gen(t,this.offset+n).slice(s,l))}if("SixMonthly"===t){var s=a<=6?0:1,l=s+1;return this.getItemifiedPeriods(this.gen(t,this.offset).slice(s,l))}if("Quarterly"===t){var s=a<=3?0:a<=6?1:a<=9?2:3;return l=s+1,this.getItemifiedPeriods(this.gen(t,this.offset).slice(s,l))}if("BiMonthly"===t){var s=a<=2?0:a<=4?1:a<=6?2:a<=8?3:a<=10?4:5;return l=s+1,this.getItemifiedPeriods(this.gen(t,this.offset).slice(s,l))}if("Monthly"===t)return this.getItemifiedPeriods(this.gen(t,this.offset).slice(a-1,a));if("Weekly"===t){for(var u,d,c,h=this.gen(t,this.offset),p=0;p<h.length;p++)if(d=h[p].startDate,c=h[p].endDate,(d.substring(5,7)===o||c.substring(5,7)===o)&&(d.substring(8,10)<=i||c.substring(8,10)>=i)){u=h[p];break}return this.getItemifiedPeriods(u)}if("Daily"===t){var r,f=this.gen(t,this.offset);if(e)return this.getItemifiedPeriods(f);for(var d,p=0;p<f.length;p++)d=f[p].startDate,d.substring(5,7)===o&&d.substring(8,10)===i&&(r=f[p]);return this.getItemifiedPeriods(r)}return[]},m.prototype.generateDisplayProperties=function(){var t=this,e=t.id,n="Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec".split("|"),i=(parseInt(t.year)-(new Date).getFullYear(),refs.calendarManager.generator,function(t){return t.length>1?"s":""}),r=t.getTypeById(e);"Daily"===r?(this.sortId=e,this.typeSortId="01",this.typeName="Daily",this.displayName=parseInt(this.name.split("-")[2])+" "+n[new Date(this.name).getMonth()]+", "+this.year,this.getContextMenuItemsConfig=function(){var e=[];return e.push({isSubtitle:!0,style:"padding: 5px 5px 5px 5px; font-size: 120%; font-weight:bold",text:this.i18n.drill_up}),function(){e.push({items:t.getItemsByTypeByDay("FinancialApril"),text:'Show <span class="name">financial April '+t.year+"</span>",iconCls:"ns-menu-item-float"})}(),function(){e.push({items:t.getItemsByTypeByDay("FinancialJuly"),text:'Show <span class="name">financial July '+t.year+"</span>",iconCls:"ns-menu-item-float"})}(),function(){e.push({items:t.getItemsByTypeByDay("FinancialOct"),text:'Show <span class="name">financial October '+t.year+"</span>",iconCls:"ns-menu-item-float"})}(),function(){e.push({items:t.getItemsByTypeByDay("Yearly"),text:'Show <span class="name">year '+t.year+"</span>",iconCls:"ns-menu-item-float"})}(),function(){var n=t.getItemsByTypeByDay("SixMonthlyApril");e.push({items:n,text:'Show <span class="name">'+t.getNameByParents(n,"six-month")+"</span>",iconCls:"ns-menu-item-float"})}(),function(){var n=t.getItemsByTypeByDay("SixMonthly");e.push({items:n,text:'Show <span class="name">'+t.getNameByParents(n,"six-month")+"</span>",iconCls:"ns-menu-item-float"})}(),function(){var n=t.getItemsByTypeByDay("Quarterly");e.push({items:n,text:'Show <span class="name">'+t.getNameByParents(n,"quarter")+"</span>",iconCls:"ns-menu-item-float"})}(),function(){var n=t.getItemsByTypeByDay("BiMonthly");e.push({items:n,text:'Show <span class="name">'+t.getNameByParents(n,"bi-month")+"</span>",iconCls:"ns-menu-item-float"})}(),function(){var n=t.getItemsByTypeByDay("Monthly");e.push({items:n,text:'Show <span class="name">'+t.getNameByParents(n,"month")+"</span>",iconCls:"ns-menu-item-float"})}(),function(){e.push({items:t.getItemsByTypeByDay("Weekly"),text:'Show <span class="name">week '+t.year+"</span>",iconCls:"ns-menu-item-float"})}(),e.push({isSubtitle:!0,style:"padding: 5px 5px 5px 5px; font-size: 120%; font-weight:bold",text:this.i18n.daily}),e.push({items:t.getItemsByTypeByDay("Daily"),text:'Show <span class="name">'+t.displayName+"</span> only",iconCls:"ns-menu-item-float"}),e.push({items:t.getItemsByTypeByDay("Daily",!0),text:'Show all <span class="name">days</span> in <span class="name">'+t.year+"</span>",iconCls:"ns-menu-item-float"}),e}):"Weekly"===r?(this.sortId=function(){var t=e.split("W");return t[0]+(1===t[1].length?"000":"00")+t[1]}(),this.typeSortId="02",this.typeName="Weekly",this.displayName="Week "+e.split("W")[1]+", "+this.year,this.getContextMenuItemsConfig=function(){var e=[];return e.push({isSubtitle:!0,style:"padding: 5px 5px 5px 5px; font-size: 120%; font-weight:bold",text:this.i18n.drill_up}),function(){e.push({items:t.getItemsByTypeByWeek("FinancialApril"),text:'Show <span class="name">financial April '+t.year+"</span>",iconCls:"ns-menu-item-float"})}(),function(){e.push({items:t.getItemsByTypeByWeek("FinancialJuly"),text:'Show <span class="name">financial July '+t.year+"</span>",iconCls:"ns-menu-item-float"})}(),function(){var n=t.getItemsByTypeByWeek("FinancialOct");e.push({items:n,text:'Show <span class="name">financial October'+i(n)+" "+t.year+"</span>",iconCls:"ns-menu-item-float"})}(),function(){e.push({items:t.getItemsByTypeByWeek("Yearly"),text:'Show <span class="name">'+t.year+"</span>",iconCls:"ns-menu-item-float"})}(),function(){var n=t.getItemsByTypeByWeek("SixMonthlyApril");e.push({items:n,text:'Show <span class="name">'+t.getNameByParents(n,"six-month")+"</span>",iconCls:"ns-menu-item-float"})}(),function(){var n=t.getItemsByTypeByWeek("SixMonthly");e.push({items:n,text:'Show <span class="name">'+t.getNameByParents(n,"six-month")+"</span>",iconCls:"ns-menu-item-float"})}(),function(){var n=t.getItemsByTypeByWeek("Quarterly");e.push({items:n,text:'Show <span class="name">'+t.getNameByParents(n,"quarter")+"</span>",iconCls:"ns-menu-item-float"})}(),function(){var n=t.getItemsByTypeByWeek("BiMonthly");e.push({items:n,text:'Show <span class="name">'+t.getNameByParents(n,"bi-month")+"</span>",iconCls:"ns-menu-item-float"})}(),function(){var n=t.getItemsByTypeByWeek("Monthly");e.push({items:n,text:'Show <span class="name">'+t.getNameByParents(n,"monthly")+"</span>",iconCls:"ns-menu-item-float"})}(),e.push({isSubtitle:!0,style:"padding: 5px 5px 5px 5px; font-size: 120%; font-weight:bold",text:this.i18n.weekly}),e.push({items:t.getItemsByTypeByWeek("Weekly"),text:'Show <span class="name">'+t.displayName+"</span> only",iconCls:"ns-menu-item-float"}),e.push({items:t.getItemsByTypeByWeek("Weekly",!0),text:'Show all <span class="name">weeks</span> in <span class="name">'+t.year+"</span>",iconCls:"ns-menu-item-float"}),e.push({isSubtitle:!0,style:"padding: 5px 5px 5px 5px; font-size: 120%; font-weight:bold",text:this.i18n.drill_down}),function(){e.push({items:t.getItemsByTypeByWeek("Daily"),text:'Show <span class="name">days</span> in <span class="name">'+t.displayName+"</span>",iconCls:"ns-menu-item-float"})}(),e}):"Monthly"===r?(this.sortId=this.year+"00"+e.slice(4,6),this.typeSortId="03",this.typeName="Monthly",this.displayName=this.name.split(" ")[0]+" "+this.year,this.getContextMenuItemsConfig=function(){var e=[];return e.push({isSubtitle:!0,style:"padding: 5px 5px 5px 5px; font-size: 120%; font-weight:bold",text:this.i18n.drill_up}),function(){var n=t.getItemsByTypeByMonth("FinancialApril");e.push({items:n,text:'Show <span class="name">financial April'+i(n)+" "+t.year+"</span>",iconCls:"ns-menu-item-float"})}(),function(){var n=t.getItemsByTypeByMonth("FinancialJuly");e.push({items:n,text:'Show <span class="name">financial July'+i(n)+" "+t.year+"</span>",iconCls:"ns-menu-item-float"})}(),function(){var n=t.getItemsByTypeByMonth("FinancialOct");e.push({items:n,text:'Show <span class="name">financial October'+i(n)+" "+t.year+"</span>",iconCls:"ns-menu-item-float"})}(),function(){var n=t.getItemsByTypeByMonth("Yearly");e.push({items:n,text:'Show <span class="name">year'+i(n)+" "+t.year+"</span>",iconCls:"ns-menu-item-float"})}(),function(){var n=t.getItemsByTypeByMonth("SixMonthlyApril");e.push({items:n,text:'Show <span class="name">six-month April'+i(n)+" "+t.year+"</span>",iconCls:"ns-menu-item-float"})}(),function(){var n=t.getItemsByTypeByMonth("SixMonthly");e.push({items:n,text:'Show <span class="name">'+t.getNameByParents(n,"six-month")+"</span>",iconCls:"ns-menu-item-float"})}(),function(){var n=t.getItemsByTypeByMonth("Quarterly");e.push({items:n,text:'Show <span class="name">'+t.getNameByParents(n,"quarter")+"</span>",iconCls:"ns-menu-item-float"})}(),function(){var n=t.getItemsByTypeByMonth("BiMonthly");e.push({items:n,text:'Show <span class="name">'+t.getNameByParents(n,"bimonthly")+"</span>",iconCls:"ns-menu-item-float"})}(),e.push({isSubtitle:!0,style:"padding: 5px 5px 5px 5px; font-size: 120%; font-weight:bold",text:this.i18n.monthly}),e.push({items:t.getItemsByTypeByMonth("Monthly"),text:'Show <span class="name">'+t.displayName+"</span> only",iconCls:"ns-menu-item-float"}),e.push({items:t.getItemsByTypeByMonth("Monthly",!0),text:'Show all <span class="name">months</span> in <span class="name">'+t.year+"</span>",iconCls:"ns-menu-item-float"}),e.push({isSubtitle:!0,style:"padding: 5px 5px 5px 5px; font-size: 120%; font-weight:bold",text:this.i18n.drill_down}),function(){e.push({items:t.getItemsByTypeByMonth("Weekly"),text:'Show <span class="name">weeks</span> in <span class="name">'+t.name+"</span>",iconCls:"ns-menu-item-float"})}(),function(){e.push({items:t.getItemsByTypeByMonth("Daily"),text:'Show <span class="name">days</span> in <span class="name">'+t.name+"</span>",iconCls:"ns-menu-item-float"})}(),e}):"BiMonthly"===r?(this.sortId=e.slice(0,4)+"00"+e.slice(4,6),this.typeSortId="04",this.typeName="Bi-monthly",this.displayName=(0,p["default"])(this.name.split(this.year)[0]),this.getContextMenuItemsConfig=function(){var e=[];return e.push({isSubtitle:!0,style:"padding: 5px 5px 5px 5px; font-size: 120%; font-weight:bold",text:this.i18n.drill_up}),function(){var n=t.getItemsByTypeByBimonth("FinancialApril");e.push({items:n,text:'Show <span class="name">financial April'+i(n)+" "+t.year+"</span>",iconCls:"ns-menu-item-float"})}(),function(){var n=t.getItemsByTypeByBimonth("FinancialJuly");e.push({items:n,text:'Show <span class="name">financial July'+i(n)+" "+t.year+"</span>",iconCls:"ns-menu-item-float"})}(),function(){var n=t.getItemsByTypeByBimonth("FinancialOct");e.push({items:n,text:'Show <span class="name">financial October'+i(n)+" "+t.year+"</span>",iconCls:"ns-menu-item-float"})}(),function(){var n=t.getItemsByTypeByBimonth("Yearly");e.push({items:n,text:'Show <span class="name">'+t.year+"</span>",iconCls:"ns-menu-item-float"})}(),function(){var n=t.getItemsByTypeByBimonth("SixMonthlyApril");e.push({items:n,text:'Show <span class="name">'+t.getNameByParents(n,"six-month")+"</span>",iconCls:"ns-menu-item-float"})}(),function(){var n=t.getItemsByTypeByBimonth("SixMonthly");e.push({items:n,text:'Show <span class="name">'+t.getNameByParents(n,"six-month")+"</span>",iconCls:"ns-menu-item-float"})}(),function(){var n=t.getItemsByTypeByBimonth("Quarterly");e.push({items:n,text:'Show <span class="name">'+t.getNameByParents(n,"quarter")+"</span>",iconCls:"ns-menu-item-float"})}(),e.push({isSubtitle:!0,style:"padding: 5px 5px 5px 5px; font-size: 120%; font-weight:bold",text:this.i18n.bimonthly}),e.push({items:t.getItemsByTypeByBimonth("BiMonthly"),text:'Show <span class="name">'+t.displayName+"</span> only",iconCls:"ns-menu-item-float"}),e.push({items:t.getItemsByTypeByBimonth("BiMonthly",!0),text:'Show all <span class="name">bi-months</span> in <span class="name">'+t.year+"</span>",iconCls:"ns-menu-item-float"}),e.push({isSubtitle:!0,style:"padding: 5px 5px 5px 5px; font-size: 120%; font-weight:bold",text:this.i18n.drill_down}),function(){e.push({items:t.getItemsByTypeByBimonth("Monthly"),text:'Show <span class="name">months</span> in <span class="name">'+t.displayName+" "+t.year+"</span>",iconCls:"ns-menu-item-float"})}(),function(){e.push({items:t.getItemsByTypeByBimonth("Weekly"),text:'Show <span class="name">weeks</span> in <span class="name">'+t.displayName+" "+t.year+"</span>",iconCls:"ns-menu-item-float"})}(),function(){e.push({items:t.getItemsByTypeByBimonth("Daily"),text:'Show <span class="name">days</span> in <span class="name">'+t.displayName+" "+t.year+"</span>",iconCls:"ns-menu-item-float"})}(),e}):"Quarterly"===r?(this.sortId=function(){var t=e.split("Q");return t[0]+(1===t[1].length?"000":"00")+t[1]}(),this.typeSortId="05",this.typeName="Quarterly",this.displayName=(0,p["default"])(this.name.split(this.year)[0]),this.getContextMenuItemsConfig=function(){var e=[];return e.push({isSubtitle:!0,style:"padding: 5px 5px 5px 5px; font-size: 120%; font-weight:bold",text:this.i18n.drill_up}),function(){e.push({items:t.getItemsByTypeByQuarter("FinancialApril"),text:'Show <span class="name">financial April '+t.year+"</span>",iconCls:"ns-menu-item-float"})}(),function(){e.push({items:t.getItemsByTypeByQuarter("FinancialJuly"),text:'Show <span class="name">financial July '+t.year+"</span>",iconCls:"ns-menu-item-float"})}(),function(){e.push({items:t.getItemsByTypeByQuarter("FinancialOct"),text:'Show <span class="name">financial October '+t.year+"</span>",iconCls:"ns-menu-item-float"})}(),function(){e.push({items:t.getItemsByTypeByQuarter("Yearly"),text:'Show <span class="name">'+t.year+"</span>",iconCls:"ns-menu-item-float"})}(),function(){var n=t.getItemsByTypeByQuarter("SixMonthlyApril");e.push({items:n,text:'Show <span class="name">'+t.getNameByParents(n,"six-month April")+"</span>",iconCls:"ns-menu-item-float"})}(),function(){var n=t.getItemsByTypeByQuarter("SixMonthly");e.push({items:n,text:'Show <span class="name">'+t.getNameByParents(n,"six-month")+"</span>",iconCls:"ns-menu-item-float"})}(),e.push({isSubtitle:!0,style:"padding: 5px 5px 5px 5px; font-size: 120%; font-weight:bold",text:this.i18n.quarterly}),e.push({items:t.getItemsByTypeByQuarter("Quarterly"),text:'Show <span class="name">'+t.name+"</span> only",iconCls:"ns-menu-item-float"}),e.push({items:t.getItemsByTypeByQuarter("Quarterly",!0),text:'Show all <span class="name">quarters</span> in <span class="name">'+t.year+"</span>",iconCls:"ns-menu-item-float"}),e.push({isSubtitle:!0,style:"padding: 5px 5px 5px 5px; font-size: 120%; font-weight:bold",text:this.i18n.drill_down}),function(){e.push({items:t.getItemsByTypeByQuarter("BiMonthly"),text:'Show <span class="name">bi-months</span> in <span class="name">'+t.name+"</span>",iconCls:"ns-menu-item-float"})}(),function(){e.push({items:t.getItemsByTypeByQuarter("Monthly"),text:'Show <span class="name">months</span> in <span class="name">'+t.name+"</span>",iconCls:"ns-menu-item-float"})}(),function(){e.push({items:t.getItemsByTypeByQuarter("Weekly"),text:'Show <span class="name">weeks</span> in <span class="name">'+t.name+"</span>",iconCls:"ns-menu-item-float"})}(),function(){e.push({items:t.getItemsByTypeByQuarter("Daily"),text:'Show <span class="name">days</span> in <span class="name">'+t.name+"</span>",iconCls:"ns-menu-item-float"})}(),e}):"SixMonthly"===r?(this.sortId=function(){var t=e.split("S");return t[0]+(1===t[1].length?"000":"00")+t[1]}(),this.typeSortId="06",this.typeName="Six-monthly",this.displayName=(0,p["default"])(this.name.split(this.year)[0]),this.getContextMenuItemsConfig=function(){var e=[];return e.push({isSubtitle:!0,style:"padding: 5px 5px 5px 5px; font-size: 120%; font-weight:bold",text:this.i18n.drill_up}),function(){var n=t.getItemsByTypeBySixmonth("FinancialApril");e.push({items:n,text:'Show <span class="name">financial April '+t.year+"</span>",iconCls:"ns-menu-item-float"})}(),function(){var n=t.getItemsByTypeBySixmonth("FinancialJuly");e.push({items:n,text:'Show <span class="name">financial July '+t.year+"</span>",iconCls:"ns-menu-item-float"})}(),function(){var n=t.getItemsByTypeBySixmonth("FinancialOct");e.push({items:n,text:'Show <span class="name">financial October'+i(n)+" "+t.year+"</span>",iconCls:"ns-menu-item-float"})}(),function(){var n=t.getItemsByTypeBySixmonth("Yearly");e.push({items:n,text:'Show <span class="name">year'+i(n)+" "+t.year+"</span>",iconCls:"ns-menu-item-float"})}(),function(){var n=t.getItemsByTypeBySixmonth("SixMonthlyApril");e.push({items:n,text:'Show <span class="name">six-month April'+i(n)+" "+t.year+"</span>",iconCls:"ns-menu-item-float"})}(),e.push({isSubtitle:!0,style:"padding: 5px 5px 5px 5px; font-size: 120%; font-weight:bold",text:this.i18n.sixmonthly}),e.push({items:t.getItemsByTypeBySixmonth("SixMonthly"),text:'Show <span class="name">'+t.name+"</span> only",iconCls:"ns-menu-item-float"}),e.push({items:t.getItemsByTypeBySixmonth("SixMonthly",!0),text:'Show all <span class="name">six-months</span> in <span class="name">'+t.year+"</span>",iconCls:"ns-menu-item-float"}),e.push({isSubtitle:!0,style:"padding: 5px 5px 5px 5px; font-size: 120%; font-weight:bold",text:this.i18n.drill_down}),function(){e.push({items:t.getItemsByTypeBySixmonth("Quarterly"),text:'Show <span class="name">quarters</span> in <span class="name">'+t.name+"</span>",iconCls:"ns-menu-item-float"})}(),function(){e.push({items:t.getItemsByTypeBySixmonth("BiMonthly"),text:'Show <span class="name">bi-months</span> in <span class="name">'+t.name+"</span>",iconCls:"ns-menu-item-float"})}(),function(){e.push({items:t.getItemsByTypeBySixmonth("Weekly"),text:'Show <span class="name">weeks</span> in <span class="name">'+t.name+"</span>",iconCls:"ns-menu-item-float"})}(),function(){e.push({items:t.getItemsByTypeBySixmonth("Daily"),text:'Show <span class="name">days</span> in <span class="name">'+t.name+"</span>",iconCls:"ns-menu-item-float"})}(),e}):"SixMonthlyApril"===r?(this.sortId=function(){var t=e.split("AprilS");return t[0]+(1===t[1].length?"000":"00")+t[1]}(),this.typeSortId="07",this.typeName="Six-monthly April",this.displayName=(0,p["default"])(this.name.split(this.year)[0]),this.getContextMenuItemsConfig=function(){var e=[];return e.push({isSubtitle:!0,style:"padding: 5px 5px 5px 5px; font-size: 120%; font-weight:bold",text:this.i18n.drill_up}),function(){var n=t.getItemsByTypeBySixmonthApril("FinancialApril");e.push({items:n,text:'Show <span class="name">financial Apri '+t.year+"</span>",iconCls:"ns-menu-item-float"})}(),function(){var n=t.getItemsByTypeBySixmonthApril("FinancialJuly");e.push({items:n,text:'Show <span class="name">financial July'+i(n)+" "+t.year+"</span>",iconCls:"ns-menu-item-float"})}(),function(){var n=t.getItemsByTypeBySixmonthApril("FinancialOct");e.push({items:n,text:'Show <span class="name">financial October'+t.year+"</span>",iconCls:"ns-menu-item-float"})}(),function(){var n=t.getItemsByTypeBySixmonthApril("Yearly");e.push({items:n,text:'Show <span class="name">'+(i(n)?"parent years":t.year)+"</span>",iconCls:"ns-menu-item-float"})}(),e.push({isSubtitle:!0,style:"padding: 5px 5px 5px 5px; font-size: 120%; font-weight:bold",text:this.i18n.sixmonthly}),e.push({items:t.getItemsByTypeBySixmonthApril("SixMonthlyApril"),text:'Show <span class="name">'+t.name+"</span> only",iconCls:"ns-menu-item-float"}),e.push({items:t.getItemsByTypeBySixmonthApril("SixMonthlyApril",!0),text:'Show all <span class="name">six-month Aprils</span> in <span class="name">'+t.year+"</span>",iconCls:"ns-menu-item-float"}),e.push({isSubtitle:!0,style:"padding: 5px 5px 5px 5px; font-size: 120%; font-weight:bold",text:this.i18n.drill_down}),function(){var n=t.getItemsByTypeBySixmonthApril("SixMonthly");e.push({items:n,text:'Show <span class="name">six-months</span> in <span class="name">'+t.name+"</span>",iconCls:"ns-menu-item-float"})}(),function(){e.push({items:t.getItemsByTypeBySixmonthApril("Quarterly"),text:'Show <span class="name">quarters</span> in <span class="name">'+t.name+"</span>",iconCls:"ns-menu-item-float"})}(),function(){e.push({items:t.getItemsByTypeBySixmonthApril("BiMonthly"),text:'Show <span class="name">bi-months</span> in <span class="name">'+t.name+"</span>",iconCls:"ns-menu-item-float"})}(),function(){e.push({items:t.getItemsByTypeBySixmonthApril("Weekly"),text:'Show <span class="name">weeks</span> in <span class="name">'+t.name+"</span>",iconCls:"ns-menu-item-float"})}(),function(){e.push({items:t.getItemsByTypeBySixmonthApril("Daily"),text:'Show <span class="name">days</span> in <span class="name">'+t.name+"</span>",iconCls:"ns-menu-item-float"})}(),e}):"Yearly"===r?(this.sortId=e+"0000",this.typeSortId="08",this.typeName="Yearly",this.displayName=this.name,this.getContextMenuItemsConfig=function(){var e=[];return e.push({isSubtitle:!0,style:"padding: 5px 5px 5px 5px; font-size: 120%; font-weight:bold",text:this.i18n.drill_up}),function(){var n=t.getItemsByTypeByYear("FinancialApril");e.push({items:n,text:'Show <span class="name">financial April'+i(n)+" "+t.year+"</span>",iconCls:"ns-menu-item-float"})}(),function(){var n=t.getItemsByTypeByYear("FinancialJuly");e.push({items:n,text:'Show <span class="name">financial July'+i(n)+" "+t.year+"</span>",iconCls:"ns-menu-item-float"})}(),function(){var n=t.getItemsByTypeByYear("FinancialOct");e.push({items:n,text:'Show <span class="name">financial October'+i(n)+" "+t.year+"</span>",iconCls:"ns-menu-item-float"})}(),e.push({isSubtitle:!0,style:"padding: 5px 5px 5px 5px; font-size: 120%; font-weight:bold",text:this.i18n.yearly}),e.push({items:t.getItemsByTypeByYear("Yearly"),text:'Show <span class="name">'+t.displayName+"</span> only",iconCls:"ns-menu-item-float"}),e.push({isSubtitle:!0,style:"padding: 5px 5px 5px 5px; font-size: 120%; font-weight:bold",text:this.i18n.drill_down}),function(){e.push({items:t.getItemsByTypeByYear("SixMonthlyApril"),text:'Show <span class="name">six-month Aprils</span> in <span class="name">'+t.name+"</span>",iconCls:"ns-menu-item-float"})}(),function(){e.push({items:t.getItemsByTypeByYear("SixMonthly"),text:'Show <span class="name">six-months</span> in <span class="name">'+t.name+"</span>",iconCls:"ns-menu-item-float"})}(),function(){e.push({items:t.getItemsByTypeByYear("Quarterly"),text:'Show <span class="name">quarters</span> in <span class="name">'+t.name+"</span>",iconCls:"ns-menu-item-float"})}(),function(){e.push({items:t.getItemsByTypeByYear("BiMonthly"),text:'Show <span class="name">bi-months</span> in <span class="name">'+t.name+"</span>",iconCls:"ns-menu-item-float"})}(),function(){e.push({items:t.getItemsByTypeByYear("Monthly"),text:'Show <span class="name">months</span> in <span class="name">'+t.name+"</span>",iconCls:"ns-menu-item-float"})}(),function(){e.push({items:t.getItemsByTypeByYear("Weekly"),text:'Show <span class="name">weeks</span> in <span class="name">'+t.name+"</span>",iconCls:"ns-menu-item-float"})}(),function(){e.push({
items:t.getItemsByTypeByYear("Daily"),text:'Show <span class="name">days</span> in <span class="name">'+t.name+"</span>",iconCls:"ns-menu-item-float"})}(),e}):"FinancialOct"===r?(this.sortId=e.slice(0,4)+"0003",this.typeSortId="11",this.typeName="Financial October",this.displayName=this.name,this.getContextMenuItemsConfig=function(){var e=[];return e.push({isSubtitle:!0,style:"padding: 5px 5px 5px 5px; font-size: 120%; font-weight:bold",text:this.i18n.drill_up}),function(){var n=t.getItemsByTypeByFinancialOct("FinancialApril");e.push({items:n,text:'Show <span class="name">financial April'+i(n)+" "+t.year+"</span>",iconCls:"ns-menu-item-float"})}(),function(){var n=t.getItemsByTypeByFinancialOct("FinancialJuly");e.push({items:n,text:'Show <span class="name">financial July'+i(n)+" "+t.year+"</span>",iconCls:"ns-menu-item-float"})}(),e.push({isSubtitle:!0,style:"padding: 5px 5px 5px 5px; font-size: 120%; font-weight:bold",text:this.i18n.financial_oct}),e.push({items:t.getItemsByTypeByFinancialOct("FinancialOct"),text:'Show <span class="name">'+t.name+"</span> only",iconCls:"ns-menu-item-float"}),e.push({items:t.getItemsByTypeByFinancialOct("FinancialOct",!0),text:'Show all <span class="name">financial Octobers</span> in <span class="name">'+t.year+"</span>",iconCls:"ns-menu-item-float"}),e.push({isSubtitle:!0,style:"padding: 5px 5px 5px 5px; font-size: 120%; font-weight:bold",text:this.i18n.drill_down}),function(){e.push({items:t.getItemsByTypeByFinancialOct("Yearly"),text:'Show <span class="name">years</span> in <span class="name">'+t.name+"</span>",iconCls:"ns-menu-item-float"})}(),function(){e.push({items:t.getItemsByTypeByFinancialOct("SixMonthlyApril"),text:'Show <span class="name">six-month Aprils</span> in <span class="name">'+t.name+"</span>",iconCls:"ns-menu-item-float"})}(),function(){e.push({items:t.getItemsByTypeByFinancialOct("SixMonthly"),text:'Show <span class="name">six-months</span> in <span class="name">'+t.name+"</span>",iconCls:"ns-menu-item-float"})}(),function(){e.push({items:t.getItemsByTypeByFinancialOct("Quarterly"),text:'Show <span class="name">quarters</span> in <span class="name">'+t.name+"</span>",iconCls:"ns-menu-item-float"})}(),function(){e.push({items:t.getItemsByTypeByFinancialOct("BiMonthly"),text:'Show <span class="name">bi-months</span> in <span class="name">'+t.name+"</span>",iconCls:"ns-menu-item-float"})}(),function(){e.push({items:t.getItemsByTypeByFinancialOct("Monthly"),text:'Show <span class="name">months</span> in <span class="name">'+t.name+"</span>",iconCls:"ns-menu-item-float"})}(),function(){e.push({items:t.getItemsByTypeByFinancialOct("Weekly"),text:'Show <span class="name">weeks</span> in <span class="name">'+t.name+"</span>",iconCls:"ns-menu-item-float"})}(),function(){e.push({items:t.getItemsByTypeByFinancialOct("Daily"),text:'Show <span class="name">days</span> in <span class="name">'+t.name+"</span>",iconCls:"ns-menu-item-float"})}(),e}):"FinancialJuly"===r?(this.sortId=e.slice(0,4)+"0002",this.typeSortId="10",this.typeName="Financial July",this.displayName=this.name,this.getContextMenuItemsConfig=function(){var e=[];return e.push({isSubtitle:!0,style:"padding: 5px 5px 5px 5px; font-size: 120%; font-weight:bold",text:this.i18n.drill_up}),function(){var n=t.getItemsByTypeByFinancialJuly("FinancialApril");e.push({items:n,text:'Show <span class="name">financial April'+i(n)+" "+t.year+"</span>",iconCls:"ns-menu-item-float"})}(),e.push({isSubtitle:!0,style:"padding: 5px 5px 5px 5px; font-size: 120%; font-weight:bold",text:this.i18n.financial_july}),e.push({items:t.getItemsByTypeByFinancialJuly("FinancialJuly"),text:'Show <span class="name">'+t.name+"</span> only",iconCls:"ns-menu-item-float"}),e.push({items:t.getItemsByTypeByFinancialJuly("FinancialJuly",!0),text:'Show all <span class="name">financial Julys</span> in <span class="name">'+t.year+"</span>",iconCls:"ns-menu-item-float"}),e.push({isSubtitle:!0,style:"padding: 5px 5px 5px 5px; font-size: 120%; font-weight:bold",text:this.i18n.drill_down}),function(){e.push({items:t.getItemsByTypeByFinancialJuly("FinancialOct"),text:'Show <span class="name">financial Octobers</span> in <span class="name">'+t.name+"</span>",iconCls:"ns-menu-item-float"})}(),function(){e.push({items:t.getItemsByTypeByFinancialJuly("Yearly"),text:'Show <span class="name">years</span> in <span class="name">'+t.name+"</span>",iconCls:"ns-menu-item-float"})}(),function(){e.push({items:t.getItemsByTypeByFinancialJuly("SixMonthlyApril"),text:'Show <span class="name">six-month Aprils</span> in <span class="name">'+t.name+"</span>",iconCls:"ns-menu-item-float"})}(),function(){e.push({items:t.getItemsByTypeByFinancialJuly("SixMonthly"),text:'Show <span class="name">six-months</span> in <span class="name">'+t.name+"</span>",iconCls:"ns-menu-item-float"})}(),function(){e.push({items:t.getItemsByTypeByFinancialJuly("Quarterly"),text:'Show <span class="name">quarters</span> in <span class="name">'+t.name+"</span>",iconCls:"ns-menu-item-float"})}(),function(){e.push({items:t.getItemsByTypeByFinancialJuly("BiMonthly"),text:'Show <span class="name">bi-months</span> in <span class="name">'+t.name+"</span>",iconCls:"ns-menu-item-float"})}(),function(){e.push({items:t.getItemsByTypeByFinancialJuly("Monthly"),text:'Show <span class="name">months</span> in <span class="name">'+t.name+"</span>",iconCls:"ns-menu-item-float"})}(),function(){e.push({items:t.getItemsByTypeByFinancialJuly("Weekly"),text:'Show <span class="name">weeks</span> in <span class="name">'+t.name+"</span>",iconCls:"ns-menu-item-float"})}(),function(){e.push({items:t.getItemsByTypeByFinancialJuly("Daily"),text:'Show <span class="name">days</span> in <span class="name">'+t.name+"</span>",iconCls:"ns-menu-item-float"})}(),e}):"FinancialApril"===r&&(this.sortId=e.slice(0,4)+"0001",this.typeSortId="09",this.typeName="Financial April",this.displayName=this.name,this.getContextMenuItemsConfig=function(){var e=[];return e.push({isSubtitle:!0,style:"padding: 5px 5px 5px 5px; font-size: 120%; font-weight:bold",text:this.i18n.financial_april}),e.push({items:t.getItemsByTypeByFinancialApril("FinancialApril"),text:'Show <span class="name">'+t.name+"</span> only",iconCls:"ns-menu-item-float"}),e.push({items:t.getItemsByTypeByFinancialApril("FinancialApril",!0),text:'Show all <span class="name">financial Aprils</span> in <span class="name">'+t.year+"</span>",iconCls:"ns-menu-item-float"}),e.push({isSubtitle:!0,style:"padding: 5px 5px 5px 5px; font-size: 120%; font-weight:bold",text:this.i18n.drill_down}),function(){e.push({items:t.getItemsByTypeByFinancialApril("FinancialJuly"),text:'Show <span class="name">financial Julys</span> in <span class="name">'+t.name+"</span>",iconCls:"ns-menu-item-float"})}(),function(){e.push({items:t.getItemsByTypeByFinancialApril("FinancialOct"),text:'Show <span class="name">financial Octobers</span> in <span class="name">'+t.name+"</span>",iconCls:"ns-menu-item-float"})}(),function(){e.push({items:t.getItemsByTypeByFinancialApril("Yearly"),text:'Show <span class="name">years</span> in <span class="name">'+t.name+"</span>",iconCls:"ns-menu-item-float"})}(),function(){e.push({items:t.getItemsByTypeByFinancialApril("SixMonthlyApril"),text:'Show <span class="name">six-month Aprils</span> in <span class="name">'+t.name+"</span>",iconCls:"ns-menu-item-float"})}(),function(){e.push({items:t.getItemsByTypeByFinancialApril("SixMonthly"),text:'Show <span class="name">six-months</span> in <span class="name">'+t.name+"</span>",iconCls:"ns-menu-item-float"})}(),function(){e.push({items:t.getItemsByTypeByFinancialApril("Quarterly"),text:'Show <span class="name">quarters</span> in <span class="name">'+t.name+"</span>",iconCls:"ns-menu-item-float"})}(),function(){e.push({items:t.getItemsByTypeByFinancialApril("BiMonthly"),text:'Show <span class="name">bi-months</span> in <span class="name">'+t.name+"</span>",iconCls:"ns-menu-item-float"})}(),function(){e.push({items:t.getItemsByTypeByFinancialApril("Monthly"),text:'Show <span class="name">months</span> in <span class="name">'+t.name+"</span>",iconCls:"ns-menu-item-float"})}(),function(){e.push({items:t.getItemsByTypeByFinancialApril("Weekly"),text:'Show <span class="name">weeks</span> in <span class="name">'+t.name+"</span>",iconCls:"ns-menu-item-float"})}(),function(){e.push({items:t.getItemsByTypeByFinancialApril("Daily"),text:'Show <span class="name">days</span> in <span class="name">'+t.name+"</span>",iconCls:"ns-menu-item-float"})}(),e})}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.ResponseRowIdCombination=void 0;var r=n(4),o=i(r),a=n(5),s=i(a),l=n(1),u=i(l),d=n(3),c=i(d),h=e.ResponseRowIdCombination=void 0;e.ResponseRowIdCombination=h=function(t,e){var n=this;e=(0,u["default"])(e)?e.reduce(function(t,e){return t+=(0===t.length?"":"-")+e},""):null,e=(0,c["default"])(e)?e:"",n.ids=e},h.prototype.add=function(t){t&&(this.ids+=(0===this.ids.length?"":"-")+t)},h.prototype.get=function(){return this.ids},h.prototype.getNames=function(t,e){var n=this.ids.split("-");return(0,u["default"])(e)&&(n=n.filter(function(t,n){return!(0,o["default"])(e,n)})),n.map(function(e){return t.getNameById(e)})},h.prototype.getIdByIds=function(t){return this.ids.split("-").filter(function(e){return(0,o["default"])((0,s["default"])(t),e)})[0]}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0}),e.PivotTableAxis=void 0;var a,s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},l=n(1),u=i(l),d=n(4),c=i(d),h=n(32),p=i(h),f=n(11),g=i(f),m=n(190),y=i(m),v=n(46),x=i(v),b=n(6),A=i(b),w=n(20),S=n(41),E=(a={},o(a,w.COLUMN_AXIS,"colSpan"),o(a,w.ROW_AXIS,"rowSpan"),a),C=["dy","longitude","latitude"],P=e.PivotTableAxis=function(t,e,n,i){var o=this,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(this.options=s({showTotals:!1,showSubTotals:!1,hideEmpty:!1},a),this.spanType=E[i],this.size=1,this.dims=1,this.numberOfEmpty=0,this.response=n,this.totalLookup={},this.uuidObjectMap={},this.items=[],this.span=[],this.ids=[],this.dimensionNames=[],i===w.COLUMN_AXIS?(this.items=(e.columns||[]).filter(function(t){return!(0,c["default"])(C,t.dimension)}),this.dimensionNames=e.columns?e.columns.getDimensionNames():[]):i===w.ROW_AXIS&&(this.items=(e.rows||[]).filter(function(t){return!(0,c["default"])(C,t.dimension)}),this.dimensionNames=e.rows?e.rows.getDimensionNames():[]),(0,u["default"])(this.items)&&this.items.length){this.type=i;var l=[],d=function(t){return t.filter(function(t){return!t.includes("EMPTY_UID")})},h=e.getDimensionNameIdsMap(n,e.hideNaData?d:null),f=function(){var t=void 0;return o.items.map(function(e){return t=e.sorted?(0,p["default"])(e.items,"id"):h[e.dimension],o.size*=t.length,l.push(o.size),t})}();this.dims=f.length;for(var m=f.map(function(t,e){return o.span.push(o.size/l[e]),(0,y["default"])(t,l[e-1])}),v=m.map(function(t,e){return(0,y["default"])(t,o.span[e],!0)}),b=new Array(this.dims),A=function(t){var e=0,r=void 0,a=v[t];b[t]=a.map(function(a,s){var l={id:a,uuid:(0,x["default"])(),dim:t,leaf:t===o.dims-1,axis:i,isOrganisationUnit:n.hasIdByDimensionName(a,"ou")};return o.uuidObjectMap[l.uuid]=l,0!==t&&(l.parent=b[t-1][s]),s%o.span[t]===0&&(l[o.spanType]=o.span[t],l.children=l.leaf?0:null,l.oldest=!0,l.root=0===t,r=l,e=0),f.length-1>t&&(l.children=f[t+1].length),l.oldestSibling=r,l.siblingPosition=e++,l})},S=0;S<this.dims;S++)A(S);for(var P,M=function(t,e){e=v.map(function(e){return e[t]}),e.length&&o.ids.push(e.join("-")),P=e},T=0;T<this.size;T++)M(T,P);if(b.length)for(var k,I,_,O=this.dims>1?(0,g["default"])(this.span.slice())[1]:this.size,D=b[b.length-1],T=0,R=[];T<D.length;T++){for(k=D[T],R.push(k.uuid),_=k,I=[];_=_.parent;)I.push(!_.root&&_.oldestSibling?_.oldestSibling.uuid:_.uuid);if(k.uuids=I,R.length===O){for(var L,B=T-O+1;B<=T;B++){var N;L=D[B],(N=L.uuids).push.apply(N,r(R))}R=[]}}this.dims=this.dims?this.dims:1,this.xItems={unique:f,gui:m,all:v},this.objects={all:b},this.doHideEmpty=this.options.hideEmpty&&this.type,this.doTotals=this.options.showTotals,this.doSubTotals=this.options.showSubTotals&&this.type&&this.dims>1,this.uniqueFactor=this.getUniqueFactor(),this.spanMap=this.getSpanMap()}};P.prototype.isPositionEmpty=function(t){return!(0,A["default"])(this.totalLookup[t])},P.prototype.isPositionHidden=function(t){return this.doHideEmpty&&this.isPositionEmpty(this.getPositionIndexOffsetHidden(t))},P.prototype.isSubTotalPosition=function(t){return this.doSubTotals&&(t+1)%(this.uniqueFactor+1)===0},P.prototype.isTotalPosition=function(t){return this.doTotals&&t===this.actualSize-1},P.prototype.getPercentage=function(t,e){return(0,S.getPercentageHtml)(t,this.totalLookup[e])},P.prototype.getNextTotalPosition=function(){return this.actualSize-1},P.prototype.getAxisSpan=function(t,e){return this.spanMap[e][Math.floor(t/this.span[e])]},P.prototype.initializeRenderLookup=function(){this.renderLookup=this.createRenderMap()},P.prototype.getNextSubTotalPosition=function(t){return t=this.getPositionIndexWithoutTotals(t),t+Math.floor(t/this.uniqueFactor)+(this.uniqueFactor-t%this.uniqueFactor)},P.prototype.getAxisLabel=function(t){return this.dims?this.response.getNameById(this.dimensionNames[t]):null},P.prototype.getDimensionSpan=function(t,e){return this.span[e]-this.getNumberOfHiddenPreceding(t,e)-this.getNumberOfHiddenProceeding(t,e)-this.getDistanceFromLastPositionDimensionUnitActual(t,e)},P.prototype.getNumberOfHiddenPreceding=function(t,e){return this.getDistanceFromLastPositionDimensionUnitOffset(t,e)-this.getDistanceFromLastPositionDimensionUnitActual(t,e)},P.prototype.getDistanceFromLastPositionDimensionUnitOffset=function(t,e){var n=this.getPositionIndexOffsetHidden(t),i=this.getPositionIndexWithoutTotals(n);return i%this.span[e]},P.prototype.getDistanceFromLastPositionDimensionUnitActual=function(t,e){var n=this.getPositionIndexOffsetHidden(t),i=this.getPositionIndexWithoutTotals(n);return this.normalizePositionIndexOffset(t)-(this.sumAxisSpanUpToIndex(i,e)-this.getAxisSpan(i,e))},P.prototype.getNumberOfHiddenProceeding=function(t,e){return this.getDistanceToNextPositionDimensionUnitOffset(t,e)-this.getDistanceToNextPositionDimensionUnitActual(t,e)},P.prototype.getDistanceToNextPositionDimensionUnitOffset=function(t,e){var n=this.getPositionIndexOffsetHidden(t),i=this.getPositionIndexWithoutTotals(n);return this.span[e]-i%this.span[e]},P.prototype.getDistanceToNextPositionDimensionUnitActual=function(t,e){var n=this.getPositionIndexOffsetHidden(t),i=this.getPositionIndexWithoutTotals(n);return this.getAxisSpan(i,e)-(this.normalizePositionIndexOffset(t)-(this.sumAxisSpanUpToIndex(i,e)-this.getAxisSpan(i,e)))},P.prototype.getPositionIndexOffsetHidden=function(t){return this.doHideEmpty?this.renderLookup[t]:t},P.prototype.getPositionIndexWithoutTotals=function(t){return this.doSubTotals?Math.max(0,t-Math.floor(t/(this.uniqueFactor+1))):t},P.prototype.normalizePositionIndexOffset=function(t){if(this.doSubTotals){var e=this.getPositionIndexOffsetHidden(t);return t-Math.floor(e/(this.uniqueFactor+1))}return t},P.prototype.decrementAxisSpan=function(t,e){this.spanMap[e][Math.floor(t/this.span[e])]-=1},P.prototype.createRenderMap=function(){for(var t=[],e=0;e<this.actualSize;e++)if(this.isPositionEmpty(e)&&this.doHideEmpty){this.numberOfEmpty+=1;for(var n=0;n<this.span.length-1;n++){var i=this.getPositionIndexWithoutTotals(e);this.decrementAxisSpan(i,n)}}else t.push(e);return t},P.prototype.sumAxisSpanUpToIndex=function(t,e){for(var n=0,i=0;i<Math.floor(t/this.span[e])+1;i++)n+=this.spanMap[e][i];return n},P.prototype.getSpanMap=function(){return this.span||(this.span=[]),Array.from(this.span,function(t){return(0,S.defaultProxyGenerator)(t)})},P.prototype.getActualSize=function(){var t=this.size;return t?(this.doSubTotals&&(t+=this.size/this.uniqueFactor),this.doTotals&&(t+=1),t):1},P.prototype.getUniqueFactor=function(){return this.xItems&&this.xItems.unique?this.xItems.unique.length<2?1:this.size/this.xItems.unique[0].length:null}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.AboutWindow=void 0;var r=n(2),o=i(r),a=e.AboutWindow=void 0;e.AboutWindow=a=function(t){var e=t.appManager,n=t.uiManager,i=(t.instanceManager,t.i18nManager.get()),r=e.getApiPath();return Ext.create("Ext.window.Window",{title:i.about,bodyStyle:"background:#fff; padding:6px",modal:!0,resizable:!1,destroyOnBlur:!0,getData:function(){var t=this;Ext.Ajax.request({url:encodeURI(r+"/system/info.json"),success:function(n){var r=Ext.decode(n.responseText),a="padding:3px",s='<div class="user-select">';(0,o["default"])(r)?(s+='<div style="'+a+'"><b>'+i.time_since_last_data_update+": </b>"+r.intervalSinceLastAnalyticsTableSuccess+"</div>",s+='<div style="'+a+'"><b>'+i.version+": </b>"+r.version+"</div>",s+='<div style="'+a+'"><b>'+i.revision+": </b>"+r.revision+"</div>",s+='<div style="'+a+'"><b>'+i.username+": </b>"+e.userAccount.username+"</div>",s+="</div>"):s+="No system info found",t.update(s)},failure:function(e){t.update(e.status+"\n"+e.statusText+"\n"+e.responseText)},callback:function(){t.show(),n.enableRightClick();var e=n.get("aboutButton")||{};e.rendered&&(n.setAnchorPosition(t,e),t.hasDestroyOnBlurHandler||n.addDestroyOnBlurHandler(t))}})},listeners:{hide:function(){n.disableRightClick()},destroy:function(){n.disableRightClick()}}})}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.EastRegion=void 0;var r=n(28),o=n(30),a=n(31),s=n(44),l=n(72),u=n(11),d=i(u),c=e.EastRegion=void 0;e.EastRegion=c=function(t){var e=t.uiManager,n=t.uiConfig,i=t.instanceManager,u=t.appManager,c=t.i18nManager,h=c.get(),p=u.getPath(),f=u.getApiPath(),g=500,m=function(e,n,r){var a=e||i.getStateFavoriteId();i.getSharingById(a,function(e){(0,o.InterpretationWindow)(t,e,n,r).show()},{allowForbidden:!0})},y=function(t){return t.user.id==u.userAccount.id||u.isAdmin},v=function(t){return t.user.id==u.userAccount.id||u.isAdmin},x=function(t,e,n){return(n?'<span class="bold">[</span> ':"")+'<span class="eastPanelLink'+(e?" bold":"")+'">'+t+"</span>"+(n?' <span class="bold">]</span>':"")},b=function(t,n,r,o,a){var s=[f,i.apiEndpoint,t,r].join("/"),l=n?"DELETE":"POST";Ext.Ajax.request({url:encodeURI(s),method:l,success:function(){a(!n)},failure:function(t){e.alert(o)}})},A=function(t){return t.subscribed?"subscriber-enabled":"subscriber-disabled"},w=function(t){return t.subscribed?h.unsubscribe_title:h.subscribe_title},S=function(t,e,n){return b(t,e,"subscriber",h.subscribe_toggle_error,n)},E=function(e){var n;if(i.isStateFavorite()){var r=h.show_more,o=h.show_less,l=h.edit,u=function(n){var a=[];void 0==n&&(n=h.no_description);var u=n.length>g,d=n.substring(0,g)+" ... ";if(n=n.replace(/\n/g,"<br />"),d=d.replace(/\n/g,"<br />"),a.push({xtype:"label",itemId:"descriptionLabel",html:u?d:n,cls:"interpretationActions"}),u){var c=n;a.push({xtype:"label",html:x(r,!1,!0),cls:"interpretationActions",isShortDescriptionDisplayed:!0,style:"margin: 1px 3px 0;",listeners:{render:function(t){t.getEl().on("click",function(){this.isShortDescriptionDisplayed?(this.up("#descriptionPanel").down("#descriptionLabel").setText(c,!1),this.getEl().dom.innerHTML=x(o,!1,!0)):(this.up("#descriptionPanel").down("#descriptionLabel").setText(d,!1),this.getEl().dom.innerHTML=x(r,!1,!0)),this.isShortDescriptionDisplayed=!this.isShortDescriptionDisplayed,this.up("#descriptionPanel").doLayout()},t)}}})}return e&&e.canUpdate&&e.canUpdate()&&a.push({xtype:"label",html:x(l,!1,!0),cls:"interpretationActions",style:"margin: 1px 3px 0;",listeners:{render:function(e){e.getEl().on("click",function(){(0,s.RenameWindow)(t,i.getStateFavorite()).show()},e)}}}),a},d=function(t){var e=h["public"]+": ";if(e+="r-------"==t.publicAccess?h.read:"rw------"==t.publicAccess?h.read_write:h.none,void 0!=t.userGroupAccesses)if(e+=" + ",t.userGroupAccesses.length>2)e+=t.userGroupAccesses.length+" "+h.groups;else for(var n=0;n<t.userGroupAccesses.length;n++)n>0&&(e+=", "),e+=h.group+" "+t.userGroupAccesses[n].displayName;return e},c=function(t,e){return Ext.Ajax.request({url:encodeURI(f+"/dataStatistics/favorites/"+e+".json"),method:"GET",scope:this,success:function(e){t.setValue(Ext.decode(e.responseText).views)}}),h.loading+".."},p=e&&e.canUpdate&&e.canUpdate();n=[{xtype:"panel",itemId:"descriptionPanel",bodyStyle:"border-style:none;",style:"margin-bottom:5px; padding-right: 32px",items:[u(e.displayDescription)]},{xtype:"button",style:"position: absolute; top: 0px; right: 10px; border: none",baseCls:"subscriber",iconCls:A(e),listeners:{render:function(t){var n=Ext.create("Ext.tip.ToolTip",{target:t.getEl(),html:w(e),bodyStyle:"background-color: white;border",listeners:{beforeshow:function(t){n.update(w(e))}}});t.getEl().on("click",function(){S(e.id,e.subscribed,function(n){e.subscribed=n,t.setIconCls(A(e))})},t)}}},{xtype:"displayfield",fieldLabel:h.owner,labelStyle:"padding-top:0",style:"margin-bottom:3px",itemId:"owner",value:void 0!=e.user?e.user.displayName:"",cls:"interpretationDetailsField"},{xtype:"displayfield",itemId:"created",fieldLabel:h.created,labelStyle:"padding-top:0",style:"margin-bottom:3px",value:e.created,cls:"interpretationDetailsField"},{xtype:"displayfield",itemId:"lastUpdated",fieldLabel:h.last_updated,labelStyle:"padding-top:0",style:"margin-bottom:3px",value:e.lastUpdated,cls:"interpretationDetailsField"},{xtype:"displayfield",itemId:"numberViews",fieldLabel:h.views,labelStyle:"padding-top:0",style:"margin-bottom:3px",value:h.loading+"..",cls:"interpretationDetailsField",listeners:{render:function(t){c(t,e.id)}}},{xtype:"displayfield",itemId:"sharing",fieldLabel:h.sharing,labelStyle:"padding-top:0",style:"margin-bottom:3px",value:d(e)+(p?'<span style="padding-left:10px">'+x(l,!1,!0)+"</span>":""),cls:"interpretationDetailsField",listeners:{render:function(e){p&&e.getEl().on("click",function(){i.getSharingById(i.getStateFavoriteId(),function(e){(0,a.SharingWindow)(t,e).show()})},e)}}}]}else n=[{xtype:"label",text:h.no_current_favorite,cls:"interpretationActions",style:"padding:4px 1px;"}];return{xtype:"panel",bodyStyle:"border-style:none",style:"padding:6px;",itemId:"noFavoriteDetailsPanel",defaults:{style:"margin-top: 1px;"},items:[n]}},C={xtype:"panel",cls:"ns-panel-title-east-default first",title:h.details,itemId:"detailsPanel",addAndUpdateFavoritePanel:function(t){this.removeAll(!0),this.add(E(t))},tools:[{type:"triple-chevron-right",cls:"tool-triple-chevron-right",handler:function(){e.toggleCollapseRegion("eastRegion"),e.get("centerRegion").toggleEastRegion()}}],items:E()},P=function(n,o,a){var s=3,c=function(e,n){return{xtype:"panel",bodyStyle:"border-style:none",layout:"column",itemId:"commentPanel-"+(e?e.id:"new"),hidden:!n||!o.access||!o.access.update,style:"margin-top: 1px;",cls:"comment greyBackground",items:[{xtype:"panel",bodyStyle:"border-style:none",items:[{xtype:"label",cls:"avatar",text:u.userAccount.firstName[0]+u.userAccount.surname.split(" ")[u.userAccount.surname.split(" ").length-1][0]}],columnWidth:.11},{xtype:"panel",bodyStyle:"border-style:none",autoWidth:!0,layout:"fit",flex:1,items:[{xtype:"textarea",itemId:"commentArea",cls:"commentArea",emptyText:h.write_your_interpretation,value:e&&e.text,submitEmptyText:!1,mentionToolbar:(0,l.MentionToolbar)(t),flex:1,border:0,enableKeyEvents:!0,setCursorAtEnd:function(){var t=this.getEl().query("textarea")[0];t&&t.setSelectionRange(t.value.length,t.value.length)},listeners:{keypress:function(t,n){n.getKey()!=n.ENTER||n.shiftKey||S(t,e)},keyup:function(t,e){this.mentionToolbar.displayMentionSuggestion(t,e)},destroy:function(t,e){this.mentionToolbar.hide()}}},{xtype:"panel",bodyStyle:"border-style:none",items:[{xtype:"label",html:x(h.post_comment),cls:"link",listeners:{render:function(t){t.getEl().on("click",function(){S(this.up("panel").up("panel").down("#commentArea"),e)},t)}}},{xtype:"label",text:"·",hidden:!e,style:"margin-left: 5px; margin-right: 5px;"},{xtype:"label",html:x(h.cancel),hidden:!e,cls:"link",listeners:{render:function(t){t.getEl().on("click",function(){k(this,e)},t)}}}]}],columnWidth:.89}]}},g=function(t){var n=[];(0,d["default"])(t,"ASC","lastUpdated");for(var i=0;i<t.length;i++){var a=t[i];n.push({xtype:"panel",bodyStyle:"border-style:none;",id:"commentContent-"+a.id,cls:"comment greyBackground",layout:"column",hidden:i>s-1,items:[{xtype:"panel",bodyStyle:"border-style:none",items:[{xtype:"label",cls:"avatar",text:a.user.displayName.split(" ")[0][0]+a.user.displayName.split(" ")[a.user.displayName.split(" ").length-1][0]}],columnWidth:.11},{xtype:"panel",bodyStyle:"border-style:none",items:[{xtype:"panel",style:"margin-bottom: 3px;",bodyStyle:"border-style:none",items:[{xtype:"label",html:x(a.user.displayName,!0),cls:"link bold",style:"margin-right: 7px;",listeners:{render:function(){this.getEl().on("click",function(){window.location.href=p+"/dhis-web-messaging/profile.action?id="+a.user.id})}}},{xtype:"label",text:a.text}]},{xtype:"label",style:"color: #666",hidden:!o.access||!o.access.update,text:r.DateManager.getTimeDifference(a.lastUpdated)+" "+h.ago},{xtype:"label",html:x(h.reply),style:"margin-right: 5px; margin-left: 5px",hidden:!o.access||!o.access.update,listeners:{render:function(t){return function(e){e.getEl().on("click",function(){M(this,t.user)},this)}}(a)}},{xtype:"label",text:"·",hidden:!v(a),style:"margin-right: 5px;"},{xtype:"label",html:x(h.edit),hidden:!v(a),style:"margin-right: 5px;",listeners:{render:function(t){return function(e){e.getEl().on("click",function(){T(this,t)},this)}}(a)}},{xtype:"label",text:"·",hidden:!v(a),style:"margin-right: 5px;"},{xtype:"label",html:x(h.delete_),style:"margin-right: 5px;",hidden:!v(a),listeners:{render:function(t){return function(n){n.getEl().on("click",function(){var n=this;e.confirmCommentDelete(function(){P(n,t)})},this)}}(a)}}],columnWidth:.89}]}),n.push(c(a,!1))}return t.length>3&&t.length>s&&n.push({xtype:"panel",bodyStyle:"border-style:none",style:"margin-top: 1px;",cls:"comment greyBackground",items:[{xtype:"label",text:"["+(t.length-s)+" "+h.more_comments+"]",cls:"link",listeners:{render:function(e){e.getEl().on("click",function(){s=t.length,this.up("#interpretationPanel"+o.id).updateInterpretationPanelItems()},e)}}}]}),n.push(c(null,!1)),n},b=function(t){for(var e=u.userAccount.id,n=0;n<t.likedBy.length;n++)if(t.likedBy[n].id==e)return!0;return!1},A=function(t){Ext.Ajax.request({url:encodeURI(f+"/interpretations/"+o.id+".json?fields=*,user[id,displayName,userCredentials[username]],likedBy[id,displayName],comments[id,lastUpdated,text,user[id,displayName,userCredentials[username]]]"),method:"GET",scope:this,success:function(e){o=JSON.parse(e.responseText),t.updateInterpretationPanelItems(o)}})},w=function(){var t=this;b(o)?Ext.Ajax.request({url:encodeURI(f+"/interpretations/"+o.id+"/like"),method:"DELETE",success:function(){A(t.up("#interpretationPanel"+o.id))}}):Ext.Ajax.request({url:encodeURI(f+"/interpretations/"+o.id+"/like"),method:"POST",success:function(){A(t.up("#interpretationPanel"+o.id))}})},S=function(t,e){var n=t.getValue();if(""!=n.trim()){var i=encodeURI(f+"/interpretations/"+o.id+"/comments");Ext.Ajax.request({url:e?i+"/"+e.id:i,method:e?"PUT":"POST",params:n,headers:{"Content-Type":"text/plain"},success:function(){A(t.up("#interpretationPanel"+o.id))}})}},E=function(t){m(null,o,function(){var e=t.up("#interpretationPanel"+o.id);e.updateInterpretationPanelItems(o)})},C=function(){Ext.Ajax.request({url:encodeURI(f+"/interpretations/"+o.id),method:"DELETE",success:function(){i.getById(i.getStateCurrent().id)}})},P=function(t,e){Ext.Ajax.request({url:encodeURI(f+"/interpretations/"+o.id+"/comments/"+e.id),method:"DELETE",success:function(){A(t.up("#interpretationPanel"+o.id))}})},M=function(t,e){var n=t.up("#interpretationPanel"+o.id),i=n.down("#commentPanel-new");i.show();var r=i.down("#commentArea"),a=u.userAccount.id,s=e&&e.userCredentials&&e.userCredentials.username&&a!==e.id;if(r.focus(),s){var l="@"+e.userCredentials.username+" ";r.setValue(l),r.setCursorAtEnd()}else r.setValue("")},T=function(t,e){var n=t.up("#commentContent-"+e.id),i=n.next();n.hide(),i.show()},k=function(t,e){var n=t.up("#commentPanel-"+e.id),i=n.prev();n.hide(),i.show()},I=function(){for(var t="",e=0;e<o.likedBy.length;e++)t+=o.likedBy[e].displayName+"</br>";return t},_=function(t,n){var i=[{xtype:"panel",bodyStyle:"border-style:none",style:"margin-bottom: 6px;",items:[{xtype:"label",html:x(t.user.displayName,!0),style:"margin-right:7px;",listeners:{render:function(){var e=this.getEl();e.on("click",function(){window.location.href=p+"/dhis-web-messaging/profile.action?id="+t.user.id})}}},{xtype:"label",style:"color:#666",text:r.DateManager.getYYYYMMDD(t.lastUpdated,!0)}]},{xtype:"panel",bodyStyle:"border-style:none",style:"margin-bottom: 8px;",items:[{xtype:"label",text:t.text}]},{xtype:"panel",bodyStyle:"border-style:none",cls:"likeContainer",itemId:"likePanelUnselected",hidden:n,items:[{xtype:"label",html:'<div class="thumbs_up greyBackground">'+t.likes+" "+h.people_like_this+'<span style="padding:0 5px">·</span>'+t.comments.length+" "+h.people_commented+"</div>"}]},{xtype:"panel",bodyStyle:"border-style:none",style:"margin-top: 1px;",itemId:"likePanelSelected",hidden:!n,items:[{xtype:"panel",bodyStyle:"border-style:none",style:"margin-bottom: 5px;",hidden:!t.access||!t.access.read,items:[{xtype:"label",html:x(b(t)?h.unlike:h.like),style:"margin-right: 5px;",listeners:{render:function(t){t.getEl().on("click",w,this)}}},{xtype:"label",hidden:!t.access||!t.access.update,text:"·",style:"margin-right: 5px;"},{xtype:"label",hidden:!t.access||!t.access.update,html:x(h.reply),style:"margin-right: 5px;",listeners:{render:function(e){e.getEl().on("click",function(){M(this,t.user)},this)}}},{xtype:"label",text:"·",hidden:!y(t),style:"margin-right: 5px;"},{xtype:"label",html:x(h.edit),hidden:!y(t),style:"margin-right: 5px;",listeners:{render:function(t){t.getEl().on("click",function(){E(this)},this)}}},{xtype:"label",text:"·",hidden:!y(t),style:"margin-right: 5px;"},{xtype:"label",html:x(h.delete_),hidden:!y(t),style:"margin-right: 5px;",listeners:{render:function(t){t.getEl().on("click",function(){e.confirmInterpretationDelete(function(){C()})},this)}}}]},{xtype:"panel",bodyStyle:"border-style:none",cls:"likeContainer",items:[{xtype:"label",html:'<div class="thumbs_up greyBackground">'+x(t.likes+" "+h.people)+" "+h.like_this+"</div>",listeners:{render:function(e){t.likedBy.length>0&&Ext.create("Ext.tip.ToolTip",{target:e.getEl(),html:I(),bodyStyle:"background-color: white;border"})}}}]}]},{xtype:"panel",hidden:!n,bodyStyle:"border-style:none",itemId:"comments",items:[g(t.comments)]}];return i},O={xtype:"panel",bodyStyle:"border-style:none;",style:"padding:6px; border-bottom:1px solid #d0d0d0;",cls:"clickable",instanceManager:i,interpretation:o,displayingComments:a,itemId:"interpretationPanel"+o.id,updateInterpretationPanelItems:function(t){void 0!=t&&(this.interpretation=t),this.removeAll(!0),this.add(_(this.interpretation,this.displayingComments)),this.displayingComments?this.removeCls("clickable"):this.addCls("clickable")},expandComments:function(){if(!this.displayingComments){for(var t=0;t<this.up("#interpretationsPanel").items.items.length;t++)void 0!=this.up("#interpretationsPanel").items.items[t].interpretation&&(this.up("#interpretationsPanel").items.items[t].displayingComments=this.up("#interpretationsPanel").items.items[t].id==this.id,this.up("#interpretationsPanel").items.items[t].updateInterpretationPanelItems());
this.up("[xtype='panel']").down("#shareInterpretation").hide(),this.up("[xtype='panel']").down("#backToToday").show(),e.updateInterpretation(o)}},items:_(o,a),listeners:{render:function(t){t.body.on("click",this.expandComments,this)},scope:O}};return O},M=function(t,e,n){var r=[],o={xtype:"panel",bodyStyle:"border-style:none",style:"padding:6px; border-width:0 0 1px 0; border-style:solid;",hidden:n||!t||!t.canRead||!t.canRead(),itemId:"shareInterpretation",items:[{xtype:"label",html:x(h.write_interpretation),cls:"interpretationActions",listeners:{render:function(t){t.getEl().on("click",function(){m()},t)}}}]},a={xtype:"panel",bodyStyle:"border-style:none",style:"padding:6px; border-width:0; border-bottom:1px solid #d0d0d0",items:[{xtype:"label",text:h.no_interpretations,cls:"interpretationActions"}]},s={xtype:"panel",bodyStyle:"border-style:none",style:"padding:6px; border:1px solid #dadada; border-width:0 0 1px 0;",hidden:!n,itemId:"backToToday",items:[{xtype:"label",html:x("<< "+h.clear_interpretation),cls:"interpretationActions link",listeners:{render:function(t){t.getEl().on("click",function(){i.getById(i.getStateCurrent().id)},t)}}}]};i.isStateFavorite()&&!i.isStateDirty()?(r.push(o),void 0==e?r.push(a):r.push(s)):r.push(a);var l={xtype:"panel",bodyStyle:"border-style:none",style:"border-width:0",items:r};return l},T={xtype:"panel",cls:"ns-panel-title-east-default",bodyStyle:"border-bottom-width: 0",title:h.interpretations,itemId:"interpretationsPanel",displayingInterpretation:!1,getInterpretationPanel:P,getTopInterpretationsPanel:M,addAndUpdateInterpretationsPanel:function(t){t=t||{},this.removeAll(!0);var e=t.interpretations,n=t.interpretationId;if(this.add(this.getTopInterpretationsPanel(t,e,void 0!=n)),void 0!=e&&e.length>0)for(var i=0;i<e.length;i++)e[i].id!=n&&void 0!=n||this.add(this.getInterpretationPanel(t,e[i],e[i].id==n))},items:M()},k=Ext.create("Ext.panel.Panel",{region:"east",openInterpretationWindow:m,preventHeader:!0,collapsible:!0,collapseMode:"mini",collapsed:!0,autoScroll:!0,border:!1,width:n.west_width+e.getScrollbarSize().width,items:[C,T],cls:"eastPanel",setState:function(t){this.getComponent("detailsPanel").addAndUpdateFavoritePanel(t),this.getComponent("interpretationsPanel").addAndUpdateInterpretationsPanel(t)},listeners:{expand:function(){this.doLayout()}}});return k}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FavoriteButton=void 0;var i=n(43),r=n(44),o=n(31),a=n(30),s=n(168),l=n(172),u=e.FavoriteButton=void 0;e.FavoriteButton=u=function(t){var e=(t.appManager,t.uiManager),n=t.instanceManager,u=t.i18nManager.get();return Ext.create("Ext.button.Button",{text:u.favorites,menu:{},handler:function(d){d.menu=Ext.create("Ext.menu.Menu",{closeAction:"destroy",shadow:!1,showSeparator:!1,items:function(){var d=function(t){return t+"&nbsp;&nbsp;&nbsp;"},c=Ext.create("Ext.menu.Item",{text:d(u.new_),iconCls:"ns-menu-item-favorite-new",disabled:!n.isStateCurrent(),handler:function(){n.isStateUnsaved()?e.confirmUnsaved(u.new_favorite,function(){n.setState()}):n.setState()}});e.reg(c,"newItem");var h=Ext.create("Ext.menu.Item",{text:d(u.open),iconCls:"ns-menu-item-favorite-open",handler:function(){e.reg((0,i.FavoriteWindow)(t,"open"),"favoriteWindow").show()}});e.reg(h,"openItem");var p=Ext.create("Ext.menu.Item",{text:d(u.save),iconCls:"ns-menu-item-favorite-save",disabled:!n.isStateDirty(),handler:function(){var t=n.getStateCurrent(),i=n.getStateFavorite();return i?(t.apply(i,["id","name","description"]),void t.clone().put(t.id,function(){n.getById(t.id,function(t,i){n.getReport(t,i,!1,!1,function(){e.unmask()})})},!0,!0)):void f.handlerFn()}});e.reg(p,"saveItem");var f=Ext.create("Ext.menu.Item",{text:d(u.save_as),iconCls:"ns-menu-item-favorite-save",disabled:!n.isStateCurrent(),handlerFn:function(){(0,i.FavoriteWindow)(t,"saveas").show()},handler:function(){this.handlerFn()}});e.reg(f,"saveAsItem");var g=Ext.create("Ext.menu.Item",{text:d(u.rename),iconCls:"ns-menu-item-favorite-rename",disabled:!n.isStateFavorite(),handler:function(){(0,r.RenameWindow)(t,n.getStateFavorite()).show()}});e.reg(f,"renameItem");var m=Ext.create("Ext.menu.Item",{text:d(u.translate),iconCls:"ns-menu-item-favorite-translate",disabled:!n.isStateFavorite(),handler:function(){(0,l.TranslateWindow)(t,n.getStateFavorite()).show()}});e.reg(f,"translateItem");var y=Ext.create("Ext.menu.Item",{text:d(u.share),iconCls:"ns-menu-item-favorite-share",disabled:function(){var t=n.getStateFavorite();return!(t&&(!t.getAccess()||t.getAccess().manage))}(),handler:function(){n.getSharingById(n.getStateFavoriteId(),function(e){(0,o.SharingWindow)(t,e).show()})}});e.reg(v,"interpretationItem");var v=Ext.create("Ext.menu.Item",{text:d(u.write_interpretation),iconCls:"ns-menu-item-favorite-interpretation",disabled:!n.isStateFavorite(),handler:function(){n.getSharingById(n.getStateFavoriteId(),function(e){(0,a.InterpretationWindow)(t,e).show()})}});e.reg(v,"interpretationItem");var x=Ext.create("Ext.menu.Item",{text:d(u.get_link),iconCls:"ns-menu-item-favorite-link",disabled:!n.isStateFavorite(),handler:function(){(0,s.LinkWindow)(t).show()}});e.reg(x,"linkItem");var b=Ext.create("Ext.menu.Item",{text:d(u.delete_),iconCls:"ns-menu-item-favorite-delete",disabled:!n.isStateFavorite(),handler:function(){e.confirmDelete(u.delete_favorite,function(){n.getStateFavorite().del(function(){n.setState()})})}});return e.reg(b,"deleteItem"),[c,"-",h,"-",p,f,"-",g,m,"-",y,v,x,"-",b]}(),listeners:{show:function(){e.setAnchorPosition(d.menu,d)},hide:function(){d.menu.destroy()},destroy:function(t){d.menu=null}}}),d.menu.show()}})}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=e.GridHeaders=void 0;e.GridHeaders=n=function(t){return Ext.create("Ext.toolbar.Toolbar",$.extend(t,{cls:"d2analysis-gridheaders"}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InterpretationItem=void 0;var i=n(30),r=e.InterpretationItem=void 0;e.InterpretationItem=r=function(t){var e=t.instanceManager,n=(t.i18nManager,t.i18nManager.get());return Ext.create("Ext.menu.Item",{text:n.write_interpretation+"&nbsp;&nbsp;",iconCls:"ns-menu-item-tablelayout",disabled:!0,xable:function(){this.setDisabled(!e.isStateSaved())},handler:function(){(0,i.InterpretationWindow)(t).show()}})}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=e.MentionToolbar=void 0;e.MentionToolbar=n=function(t){var e=t.appManager,n=t.i18nManager,i=(t.uiManager,n.get()),r=function(n,i){new t.api.Request(t,{baseUrl:e.getApiPath()+"/users.json",type:"json",params:["query="+n,"fields=displayName,userCredentials[username]","order=displayName:asc"],success:function(t){i(t.users)}}).run()},o=Ext.create("Ext.panel.Panel",{floating:!0,layout:{type:"table",columns:1},items:[],zIndex:9999,cls:"mentions",_lastText:null,_isOpen:!1,createMentionLabelsForUser:function(t,e,n){return t.map(function(t){return{xtype:"label",html:t.displayName+" ("+t.userCredentials.username+")",listeners:{render:function(i){i.getEl().parent().on("click",function(){e.splice(-1,1);var i=e.join("@")+"@"+t.userCredentials.username;n.setValue(i),this.hide()},i)}}}})},displayMentionSuggestion:function(t,e){var n=this,a=t.getValue().substring(0,$(e.target).prop("selectionStart"));if(a!==this._lastText){this._lastText=a;var s=a.split("@"),l=s[s.length-1];s.length>1&&l==l.replace(" ","").replace(/(?:\r\n|\r|\n)/g,"")?(this._isOpen=!0,r(l,function(r){if(n._isOpen){o.removeAll(!0);var a=n.createMentionLabelsForUser(r,s,t);0===a.length?o.hide():(o.add({html:i.users_matching+" @"+l,cls:"mentionsTitle"}),o.add(a),o.show().alignTo(e.target,"bl-tl"))}})):(this._isOpen=!1,o.hide())}},listeners:{show:function(t){t.hasDestroyOnBlurHandlerGlobal||Ext.getBody().on("click",function(){t.hide()}),t.hasDestroyOnBlurHandlerGlobal=!0}}});return o}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=e.PluginItem=void 0;e.PluginItem=n=function(t){var e=t.appManager,n=t.instanceManager,i=t.uiManager,r=(t.i18nManager,t.i18nManager.get());return Ext.create("Ext.menu.Item",{text:r.embed_in_web_page+"&nbsp;&nbsp;",iconCls:"ns-menu-item-datasource",disabled:!0,xable:function(){this.setDisabled(!n.isStateCurrent())},handler:function(){var t,o,a="",s="v"+parseFloat(e.systemInfo.version.split(".").join("")),l=n.getStateCurrent();a+="<html>\n<head>\n",a+='<link rel="stylesheet" href="//dhis2-cdn.org/'+s+'/ext/resources/css/ext-plugin-gray.css" />\n',a+='<script src="//dhis2-cdn.org/'+s+'/ext/ext-all.js"></script>\n',a+='<script src="//dhis2-cdn.org/'+s+'/plugin/table.js"></script>\n',a+="</head>\n\n<body>\n",a+='<div id="table1"></div>\n\n',a+="<script>\n\n",a+="Ext.onReady(function() {\n\n",a+="DHIS.getTable("+JSON.stringify(l.toPlugin("table1"),null,2)+");\n\n",a+="});\n\n",a+="</script>\n\n",a+="</body>\n</html>",t=Ext.create("Ext.form.field.TextArea",{width:700,height:400,readOnly:!0,cls:"ns-textarea monospaced",value:a}),o=Ext.create("Ext.window.Window",{title:r.embed_in_web_page+(l.displayName?'<span style="font-weight:normal">&nbsp;|&nbsp;&nbsp;'+l+"</span>":""),layout:"fit",modal:!0,resizable:!1,items:t,destroyOnBlur:!0,bbar:["->",{text:"Select",handler:function(){t.selectText()}}],listeners:{show:function(t){i.setAnchorPosition(t,"shareButton"),i.enableRightClick(),t.hasDestroyOnBlurHandler||i.addDestroyOnBlurHandler(t)},hide:function(){i.disableRightClick()}}}),o.show()}})}},function(t,e){"use strict";function n(t){return"undefined"!=typeof t}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n},function(t,e){"use strict";function n(t,e,n){return t=parseFloat(t),isNaN(e)||(t=Math.max(t,e)),isNaN(n)||(t=Math.min(t,n)),t}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n},function(t,e){"use strict";function n(t,e){var n;if(t)for(n in e)void 0===t[n]&&(t[n]=e[n]);return t}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n},function(t,e){"use strict";function n(t,e,n,i){return t.replace(new RegExp(e.replace(/([\/\,\!\\\^\$\{\}\[\]\(\)\.\*\+\?\|\<\>\-\&])/g,"\\$&"),i?"gi":"g"),"string"==typeof n?n.replace(/\$/g,"$$$$"):n)}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};e["default"]=function(t){return(0,a["default"])(t)?r({},s,{text:t}):{text:null}};var o=n(9),a=i(o),s={align:"low",margin:15,style:{color:"#222",textShadow:"0 0 #999",fontSize:"13px"}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e){var n=e.rows[0].dimension,i=(0,o["default"])(t.dimensions[n])?t.dimensions[n]:[];return i.map(function(e){return t.items[e].name})};var r=n(12),o=i(r)},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e){return t[0].data.map(function(e,n){return t.reduce(function(t,e){return t+e.data[n]},0)}).map(function(t){return e&&0===t?null:t})}},[671,9,50,12,17],function(t,e){"use strict";function n(t){return"number"==typeof t&&parseFloat(t)==parseInt(t,10)&&!isNaN(t)}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n},function(t,e){(function(t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=Number.isFinite||function(e){return"number"==typeof e&&t.isFinite(e)}}).call(e,function(){return this}())},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(400),u=i(l),d=n(401),c=i(d),h=n(402),p=i(h),f=n(399),g=i(f),m=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),s(e,[{key:"fromModel",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this,i=t.columns||[],r=t.rows||[];i.concat(r).forEach(function(t){var e=t.dimension;t.filter&&(e+=":"+t.filter),n=n.addDimension(e,t.items.map(function(t){return t.id}))});var o=t.filters||[];return o.forEach(function(t){n=e?n.addDimension(t.dimension,t.items.map(function(t){return t.id})):n.addFilter(t.dimension,t.items.map(function(t){return t.id}))}),n}}]),e}((0,u["default"])((0,c["default"])((0,p["default"])(g["default"]))));e["default"]=m},function(t,e){function n(t){return t===!0||t===!1||i(t)&&a.call(t)==r}function i(t){return!!t&&"object"==typeof t}var r="[object Boolean]",o=Object.prototype,a=o.toString;t.exports=n},function(t,e,n){(function(t,n){function i(t){return function(e){return t(e)}}function r(t,e){return null==t?void 0:t[e]}function o(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}function a(t){return F.call(t)}function s(t){return f(t)&&Z(t)==y}function l(t){if(!p(t)||d(t))return!1;var e=h(t)||o(t)?V:E;return e.test(c(t))}function u(t,e){var n=r(t,e);return l(n)?n:void 0}function d(t){return!!N&&N in t}function c(t){if(null!=t){try{return U.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function h(t){var e=p(t)?F.call(t):"";return e==g||e==m}function p(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function f(t){return!!t&&"object"==typeof t}var g="[object Function]",m="[object GeneratorFunction]",y="[object Map]",v="[object Object]",x="[object Promise]",b="[object Set]",A="[object WeakMap]",w="[object DataView]",S=/[\\^$.*+?()[\]{}|]/g,E=/^\[object .+?Constructor\]$/,C="object"==typeof t&&t&&t.Object===Object&&t,P="object"==typeof self&&self&&self.Object===Object&&self,M=C||P||Function("return this")(),T="object"==typeof e&&e&&!e.nodeType&&e,k=T&&"object"==typeof n&&n&&!n.nodeType&&n,I=k&&k.exports===T,_=I&&C.process,O=function(){try{return _&&_.binding("util")}catch(t){}}(),D=O&&O.isMap,R=Function.prototype,L=Object.prototype,B=M["__core-js_shared__"],N=function(){var t=/[^.]+$/.exec(B&&B.keys&&B.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),U=R.toString,j=L.hasOwnProperty,F=L.toString,V=RegExp("^"+U.call(j).replace(S,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),H=u(M,"DataView"),W=u(M,"Map"),z=u(M,"Promise"),G=u(M,"Set"),Y=u(M,"WeakMap"),X=c(H),q=c(W),K=c(z),Q=c(G),J=c(Y),Z=a;(H&&Z(new H(new ArrayBuffer(1)))!=w||W&&Z(new W)!=y||z&&Z(z.resolve())!=x||G&&Z(new G)!=b||Y&&Z(new Y)!=A)&&(Z=function(t){var e=F.call(t),n=e==v?t.constructor:void 0,i=n?c(n):void 0;if(i)switch(i){case X:return w;case q:return y;case K:return x;case Q:return b;case J:return A}return e});var $=D?i(D):s;n.exports=$}).call(e,function(){return this}(),n(52)(t))},function(t,e){function n(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}t.exports=n},function(t,e,n){(function(t,n){function i(t){return function(e){return t(e)}}function r(t,e){return null==t?void 0:t[e]}function o(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}function a(t){return F.call(t)}function s(t){if(!p(t)||d(t))return!1;var e=h(t)||o(t)?V:E;return e.test(c(t))}function l(t){return f(t)&&Z(t)==b}function u(t,e){var n=r(t,e);return s(n)?n:void 0}function d(t){return!!N&&N in t}function c(t){if(null!=t){try{return U.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function h(t){var e=p(t)?F.call(t):"";return e==g||e==m}function p(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function f(t){return!!t&&"object"==typeof t}var g="[object Function]",m="[object GeneratorFunction]",y="[object Map]",v="[object Object]",x="[object Promise]",b="[object Set]",A="[object WeakMap]",w="[object DataView]",S=/[\\^$.*+?()[\]{}|]/g,E=/^\[object .+?Constructor\]$/,C="object"==typeof t&&t&&t.Object===Object&&t,P="object"==typeof self&&self&&self.Object===Object&&self,M=C||P||Function("return this")(),T="object"==typeof e&&e&&!e.nodeType&&e,k=T&&"object"==typeof n&&n&&!n.nodeType&&n,I=k&&k.exports===T,_=I&&C.process,O=function(){try{return _&&_.binding("util")}catch(t){}}(),D=O&&O.isSet,R=Function.prototype,L=Object.prototype,B=M["__core-js_shared__"],N=function(){var t=/[^.]+$/.exec(B&&B.keys&&B.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),U=R.toString,j=L.hasOwnProperty,F=L.toString,V=RegExp("^"+U.call(j).replace(S,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),H=u(M,"DataView"),W=u(M,"Map"),z=u(M,"Promise"),G=u(M,"Set"),Y=u(M,"WeakMap"),X=c(H),q=c(W),K=c(z),Q=c(G),J=c(Y),Z=a;(H&&Z(new H(new ArrayBuffer(1)))!=w||W&&Z(new W)!=y||z&&Z(z.resolve())!=x||G&&Z(new G)!=b||Y&&Z(new Y)!=A)&&(Z=function(t){var e=F.call(t),n=e==v?t.constructor:void 0,i=n?c(n):void 0;if(i)switch(i){case X:return w;case q:return y;case K:return x;case Q:return b;case J:return A}return e});var $=D?i(D):l;n.exports=$}).call(e,function(){return this}(),n(52)(t))},function(t,e){function n(t){return!!t&&"object"==typeof t}function i(t){return"string"==typeof t||!s(t)&&n(t)&&a.call(t)==r}var r="[object String]",o=Object.prototype,a=o.toString,s=Array.isArray;t.exports=i},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAQCAYAAAAbBi9cAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AMeChwOIa4e0gAAAQtJREFUOMvlkj9Kg0EQxd8slsFGsfLbN/uNImhhsBeskjqFCCJY24mFNhYqXsUbiBfQIyiIIEo8hH+za5PE1Zg9gL7yN7zHm9kF/pfqKmyaZztnRs7V1PVxzP0MCVVoi6SzJHjNDIuA3CXBdIllTXTDvKaabOUGo74E6nGJfTXxodUPWcsM80aNSj0psawJO/2Q4V1MuWLU50DdLbGBHACIk20IuuldLoeTXtoC0JMUL4osD/LNpU4Eum4CN4PB/VN3T1I8EHG3Rt8cx35/duq5eX0Iszo5XKfyh0a+Gf1yiY0evdIr8/o4U1fuu1GjkQvj2Mg/anBqNQHXjQ93lK15KjHuIGG/xP6oPgFIPWmq9LOmhgAAAABJRU5ErkJggg=="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAQCAYAAAAbBi9cAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AMeCh401ZSl4gAAASJJREFUOMvl0L9KA0EQx/HfXgwBiyPETryZ2Z2YIiAKtgqxiaCFjWDhA4j4CjYGbH0DBcEHsAiIpfoUgnIEW8EYBP+AtxZKitxl7XXKT/HdmQX+9ijxcT2hnd/MEXccSXduadGMNkoAUKtWb2Gii1ocfz4Nnq/HWXkqvqpk0eF7/3WzP+ifFG/FNK/MH5rQfsjsjMRKkjqW7vgTmRaUJasT7YXs+3RJLcvNysa6KYw5ooayvGhCRyGz0zKpLD1lOQeAaDTkTbQGoISSOQuZKftleJDP/GluG2HpKEumzLMhc8wtJfGWbDsXsSwHyvKmzM2QOea2kniXyFY+IrL782ozZMNNErs62pgAAOPxCPjGfa93N/yDYqt4b7bTh/QS/2e+APm4a833Y1DsAAAAAElFTkSuQmCC"},23,,,function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Layout=void 0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o=n(9),a=i(o),s=n(50),l=i(s),u=n(92),d=i(u),c=n(17),h=i(c),p=n(48),f=i(p),g=n(62),m=e.Layout=function(t,e,n,i){var o=this;e=(0,h["default"])(e)?e:{},r(o,new g.Layout(t,e,n)),o.prototype=g.Layout.prototype,o.stripAxes(),o.type=t.chartConfig.s2c[e.type]||t.chartConfig.client[e.type]||t.chartConfig.client.column,o.showValues=(0,d["default"])(e.showData)?e.showData:!(0,d["default"])(e.showValues)||e.showValues,o.percentStackedValues=!!(0,d["default"])(e.percentStackedValues)&&e.percentStackedValues,o.cumulativeValues=!!(0,d["default"])(e.cumulativeValues)&&e.cumulativeValues,o.hideEmptyRowItems=(0,a["default"])(e.hideEmptyRowItems)?e.hideEmptyRowItems:"NONE",o.regressionType=(0,a["default"])(e.regressionType)?e.regressionType:"NONE",o.completedOnly=!!(0,d["default"])(e.completedOnly)&&e.completedOnly,o.targetLineValue=(0,l["default"])(e.targetLineValue)?e.targetLineValue:null,o.targetLineTitle=(0,a["default"])(e.targetLineLabel)&&!(0,f["default"])(e.targetLineLabel)?e.targetLineLabel:(0,a["default"])(e.targetLineTitle)&&!(0,f["default"])(e.targetLineTitle)?e.targetLineTitle:null,o.baseLineValue=(0,l["default"])(e.baseLineValue)?e.baseLineValue:null,o.baseLineTitle=(0,a["default"])(e.baseLineLabel)&&!(0,f["default"])(e.baseLineLabel)?e.baseLineLabel:(0,a["default"])(e.baseLineTitle)&&!(0,f["default"])(e.baseLineTitle)?e.baseLineTitle:null,o.sortOrder=(0,l["default"])(e.sortOrder)?e.sortOrder:0,o.aggregationType=(0,a["default"])(e.aggregationType)?e.aggregationType:"DEFAULT",o.rangeAxisMaxValue=(0,l["default"])(e.rangeAxisMaxValue)?e.rangeAxisMaxValue:null,o.rangeAxisMinValue=(0,l["default"])(e.rangeAxisMinValue)?e.rangeAxisMinValue:null,o.rangeAxisSteps=(0,l["default"])(e.rangeAxisSteps)?e.rangeAxisSteps:null,o.rangeAxisDecimals=(0,l["default"])(e.rangeAxisDecimals)?e.rangeAxisDecimals:null,o.rangeAxisTitle=(0,a["default"])(e.rangeAxisLabel)&&!(0,f["default"])(e.rangeAxisLabel)?e.rangeAxisLabel:(0,a["default"])(e.rangeAxisTitle)&&!(0,f["default"])(e.rangeAxisTitle)?e.rangeAxisTitle:null,o.domainAxisTitle=(0,a["default"])(e.domainAxisLabel)&&!(0,f["default"])(e.domainAxisLabel)?e.domainAxisLabel:(0,a["default"])(e.domainAxisTitle)&&!(0,f["default"])(e.domainAxisTitle)?e.domainAxisTitle:null,o.noSpaceBetweenColumns=!!(0,d["default"])(e.noSpaceBetweenColumns)&&e.noSpaceBetweenColumns,o.hideLegend=!!(0,d["default"])(e.hideLegend)&&e.hideLegend,o.hideTitle=!!(0,d["default"])(e.hideTitle)&&e.hideTitle,o.title=(0,a["default"])(o.title)&&!(0,f["default"])(o.title)?o.title:null,o.hideSubtitle=!!(0,d["default"])(e.hideSubtitle)&&e.hideSubtitle,o.subtitle=(0,a["default"])(e.subtitle)&&!(0,f["default"])(e.subtitle)?e.subtitle:null,o.parentGraphMap=(0,h["default"])(e.parentGraphMap)?e.parentGraphMap:null,(0,h["default"])(e.domainAxisStyle)&&(o.domainAxisStyle=e.domainAxisStyle),(0,h["default"])(e.rangeAxisStyle)&&(o.rangeAxisStyle=e.rangeAxisStyle),(0,h["default"])(e.legendStyle)&&(o.legendStyle=e.legendStyle),(0,h["default"])(e.seriesStyle)&&(o.seriesStyle=e.seriesStyle),o.yearlySeries=e.yearlySeries,r(o,i),o.getRefs=function(){return t}};m.prototype=g.Layout.prototype,m.prototype.clone=function(){var t=this,e=this.getRefs(),n=new e.api.Layout(e,JSON.parse(JSON.stringify(t)));return n.setResponse(t.getResponse()),n.setAccess(t.getAccess()),n.setDataDimensionItems(t.getDataDimensionItems()),n},m.prototype.toPost=function(){var t=this,e=t.getRefs();t.toPostSuper(),t.type=e.chartConfig.c2s[t.type]||t.type,t.showData=t.showValues,delete t.showValues,t.regression=t.showTrendLine,delete t.showTrendLine,t.targetLineLabel=t.targetLineTitle,delete t.targetLineTitle,t.baseLineLabel=t.baseLineTitle,delete t.baseLineTitle,t.domainAxisLabel=t.domainAxisTitle,delete t.domainAxisTitle,t.rangeAxisLabel=t.rangeAxisTitle,delete t.rangeAxisTitle},m.prototype.doLegendSet=function(){return"gauge"===this.type&&this.hasDimension("dx")}},function(t,e,n){n(116),t.exports=n(18).Array.fill},function(t,e,n){n(117),t.exports=n(18).Array.findIndex},function(t,e,n){n(118),t.exports=n(18).Array.find},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var i=n(27);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){"use strict";var i=n(59),r=n(114),o=n(58);t.exports=function(t){for(var e=i(this),n=o(e.length),a=arguments.length,s=r(a>1?arguments[1]:void 0,n),l=a>2?arguments[2]:void 0,u=void 0===l?n:r(l,n);u>s;)e[s++]=t;return e}},function(t,e,n){var i=n(27),r=n(109),o=n(61)("species");t.exports=function(t){var e;return r(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!r(e.prototype)||(e=void 0),i(e)&&(e=e[o],null===e&&(e=void 0))),void 0===e?Array:e}},function(t,e,n){var i=n(102);t.exports=function(t,e){return new(i(t))(e)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var i=n(27),r=n(19).document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){t.exports=!n(38)&&!n(56)(function(){return 7!=Object.defineProperty(n(105)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var i=n(54);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e,n){var i=n(54);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,e,n){var i=n(100),r=n(107),o=n(115),a=Object.defineProperty;e.f=n(38)?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return a(t,e,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var i=n(19),r=n(40),o=n(106),a=n(60)("src"),s="toString",l=Function[s],u=(""+l).split(s);n(18).inspectSource=function(t){return l.call(t)},(t.exports=function(t,e,n,s){var l="function"==typeof n;l&&(o(n,"name")||r(n,"name",e)),t[e]!==n&&(l&&(o(n,a)||r(n,a,t[e]?""+t[e]:u.join(String(e)))),t===i?t[e]=n:s?t[e]?t[e]=n:r(t,e,n):(delete t[e],r(t,e,n)))})(Function.prototype,s,function(){return"function"==typeof this&&this[a]||l.call(this)})},function(t,e,n){var i=n(19),r="__core-js_shared__",o=i[r]||(i[r]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,e,n){var i=n(57),r=Math.max,o=Math.min;t.exports=function(t,e){return t=i(t),t<0?r(t+e,0):o(t,e)}},function(t,e,n){var i=n(27);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var i=n(39);i(i.P,"Array",{fill:n(101)}),n(37)("fill")},function(t,e,n){"use strict";var i=n(39),r=n(53)(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),i(i.P+i.F*a,"Array",{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(37)(o)},function(t,e,n){"use strict";var i=n(39),r=n(53)(5),o="find",a=!0;o in[]&&Array(1)[o](function(){a=!1}),i(i.P+i.F*a,"Array",{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(37)(o)},function(t,e,n){e=t.exports=n(49)(),e.push([t.id,'.x-body,.x-btn-default-toolbar-small .x-btn-inner,.x-form-field,.x-form-item,.x-form-item-label,.x-grid-cell-inner,.x-panel-header-text-default,body{font-size:11px;font-family:Helvetica Neue,Helvetica,Arial,"sans-serif"!important}#init{display:table;margin:300px auto;font-size:13px;color:#444}#init .brand{font-weight:600;padding-right:5px}::-webkit-scrollbar{width:8px;height:7px;border:0 none}::-webkit-scrollbar-track:horizontal{background-color:#ddd;margin:0 2px;border-bottom:1px solid #fff}::-webkit-scrollbar-thumb:horizontal{background-color:#bbb;border-bottom:1px solid #fff}::-webkit-scrollbar-track:vertical{background-color:#e1e1e1;margin:1px 0;border-right:1px solid #fff}::-webkit-scrollbar-thumb:vertical{background-color:#bbb;border-right:1px solid #fff}.user-select{-webkit-touch-callout:text;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}.x-scroller-vertical{border:0 none}.disabled{opacity:.4;cursor:default!important}.disabled-toolbar{opacity:1}.x-splitter{display:none}.fixed{position:fixed}.pointer{cursor:pointer}.text-medium{font-weight:600}.highcharts-container *{font-family:Helvetica Neue,Helvetica,Arial,Roboto,sans-serif}.spinner{width:20px;height:20px;margin:50px auto;background-color:#aaa;border-radius:100%;-webkit-animation:sk-scaleout .8s infinite ease-in-out;animation:sk-scaleout .8s infinite ease-in-out}@-webkit-keyframes sk-scaleout{0%{-webkit-transform:scale(0)}to{-webkit-transform:scale(1);opacity:0}}@keyframes sk-scaleout{0%{-webkit-transform:scale(0);transform:scale(0)}to{-webkit-transform:scale(1);transform:scale(1);opacity:0}}.ns-viewport-text *{padding:3px 10px;font-size:13px;color:#777}.ns-viewport-text h3{font-size:13px;font-weight:500;color:#333;padding:0 0 8px}.x-panel-body{font-size:11px;border-color:#dadada}.x-panel .x-grid-body{border-style:none}.ns-panel-title-data,.ns-panel-title-dimension,.ns-panel-title-organisationunit,.ns-panel-title-period{height:17px;background-repeat:no-repeat;padding-left:22px}.ns-panel-title-data{background-image:url('+n(270)+")}.ns-panel-title-period{background-image:url("+n(305)+")}.ns-panel-title-organisationunit{background-image:url("+n(304)+")}.ns-panel-title-dimension{background-image:url("+n(271)+")}.x-webkit .x-form-empty-field{line-height:14px}.x-form-text,textarea.x-form-field{font-size:10px}.x-form-item-label{font-size:11px;color:#111}.ns-combo .x-form-text{padding-left:5px}.ns-combo .small .x-form-field{padding-top:2px}.ns-combo input{border-radius:1px 0 0 0}.ns-trigger-filter .x-form-trigger{height:22px!important;background:url("+n(267)+") 0 0 no-repeat;border-top:1px solid #b5b8c8;border-right:1px solid #b5b8c8}.ns-trigger-filter-focused .x-form-trigger{border:1px solid #a1a1a1;border-left:0 none}.ns-trigger-filter .x-form-trigger-over{background:url("+n(266)+") 0 0 no-repeat}.x-fit-item{border-style:none}.x-boundlist-item{color:#333;padding:3px 2px 3px 4px;font-size:10px;border:1px solid transparent}.x-boundlist-item-over{background-color:#e1e1e1;border-color:#e1e1e1}.x-boundlist-selected{background-color:#d3d3d3;border-color:#d3d3d3}.ns-multiselect{color:#111}.ns-toolbar-multiselect-left .x-docked-top{border-top-left-radius:1px;border-right:0 none}.ns-toolbar-multiselect-right .x-docked-top{border-top-right-radius:1px}.ns-toolbar-multiselect-leftright .x-docked-top{border-top-left-radius:1px;border-top-right-radius:1px}.ns-toolbar-multiselect-left .ns-toolbar-multiselect-left-label,.ns-toolbar-multiselect-leftright .ns-toolbar-multiselect-leftright-label,.ns-toolbar-multiselect-right .ns-toolbar-multiselect-right-label{font-size:11px;color:#222}.ns-toolbar-multiselect-left .ns-toolbar-multiselect-left-label{padding-left:6px}.ns-toolbar-multiselect-right .ns-toolbar-multiselect-right-label{padding-right:7px}.ns-toolbar-multiselect-leftright .ns-toolbar-multiselect-leftright-label{padding-left:4px}.ns-toolbar-multiselect-left .x-boundlist-item-over,.ns-toolbar-multiselect-right .x-boundlist-item-over{background-color:transparent;border-color:transparent}.ns-toolbar-multiselect-left .x-boundlist-selected,.ns-toolbar-multiselect-right .x-boundlist-selected{background-color:#e5e5e5;border-color:#e5e5e5}.ns-toolbar-multiselect-left .x-panel-body{border-right:0 none}.x-form-cb-label-after{padding-left:1px;font-size:11px;color:#333;position:relative;top:-1px}.x-form-checkbox{background-image:url("+n(265)+")}.x-form-cb-wrap{padding-top:2px;line-height:12px}.ns-checkbox .x-form-item-label{padding-left:5px}.ns-checkbox .x-form-cb-label-after{margin-left:3px;font-size:11px}.x-toolbar .x-toolbar-separator-horizontal{height:15px;border-right:1px solid #f2f2f2}.x-toolbar.x-item-disabled{opacity:1}.x-toolbar-default{border-color:#dadada;background-image:none;background-color:#f6f6f6}.x-tool-triple-chevron-left{background-image:url("+n(90)+")!important}.x-tool-triple-chevron-right{background-image:url("+n(91)+")!important}.tool-triple-chevron-right img{width:20px!important}.ns-toolbar-btn-menu{margin-top:4px}.x-menu-body{border-color:#bbb;border-radius:2px}.x-menu-item-active .x-menu-item-link{border-radius:0;border-color:#e1e1e1;background-color:#e1e1e1;background-image:none}.x-menu-body{padding:0}.x-box-inner{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.x-menu-body .x-box-inner,.x-menu-item{background-color:#fafafa}.x-menu-item-link{padding:4px 5px 4px 26px}.x-menu-item-text{color:#111}.ns-menu-item-noicon .x-menu-item-link{padding-left:10px}.ns-menu-item-advanced,.ns-menu-item-datasource,.ns-menu-item-image,.ns-menu-item-scheme,.ns-menu-item-selected,.ns-menu-item-tablelayout,.ns-menu-item-unselected{padding-left:18px}.ns-menu-item-image{background-image:url("+n(275)+")}.ns-menu-item-tablelayout{background-image:url("+n(277)+")}.ns-menu-item-datasource{background-image:url("+n(274)+")}.ns-menu-item-advanced{background-image:url("+n(273)+")}.ns-menu-item-scheme{background-image:url("+n(276)+")}.ns-menu-item-selected{background-image:url("+n(264)+")}.ns-menu-item-unselected{background-image:url("+n(263)+")}.ns-btn-menu{margin-top:2px}.ns-menu-item-favorite-new{background-image:url("+n(282)+")}.ns-menu-item-favorite-open{background-image:url("+n(283)+")}.ns-menu-item-favorite-save{background-image:url("+n(286)+")}.ns-menu-item-favorite-restore{background-image:url("+n(285)+")}.ns-menu-item-favorite-rename{background-image:url("+n(284)+")}.ns-menu-item-favorite-share{background-image:url("+n(287)+")}.ns-menu-item-favorite-interpretation{background-image:url("+n(280)+")}.ns-menu-item-favorite-link{background-image:url("+n(281)+")}.ns-menu-item-favorite-delete{background-image:url("+n(279)+")}.ns-menu-item-favorite-translate{background-image:url("+n(288)+")}.x-btn-arrow{background-image:url("+n(255)+")!important}.x-btn-default-toolbar-small,.x-btn-default-toolbar-small-over,.x-btn-default-toolbar-small-pressed{border-radius:1px}.x-btn-default-toolbar-small-over,.x-btn-default-toolbar-small-pressed{border-color:#bbb}.x-btn-default-toolbar-small-icon button{width:32px!important}.x-btn-default-toolbar-small-icon .x-btn-icon{width:32px;height:32px}.x-btn-default-small{border-radius:1px}.x-btn-default-toolbar-small-pressed{border-color:#bbb;background-image:none;background-color:#d6d6d6;background-image:-webkit-gradient(linear,50% 0,50% 100%,color-stop(0,#d1d1d1),color-stop(100%,#e5e5e5));background-image:-webkit-linear-gradient(top,#d1d1d1,#e5e5e5);background-image:linear-gradient(top,#d1d1d1,#e5e5e5)}.ns-button-icon-type-column{background:url("+n(269)+") no-repeat}.ns-button-icon-type-columnstacked{background:url("+n(268)+") no-repeat}.ns-button-icon-type-bar{background:url("+n(261)+") no-repeat}.ns-button-icon-type-barstacked{background:url("+n(260)+") no-repeat}.ns-button-icon-type-line{background:url("+n(301)+") no-repeat}.ns-button-icon-type-area{background:url("+n(254)+") no-repeat}.ns-button-icon-type-pie{background:url("+n(306)+") no-repeat}.ns-button-icon-type-radar{background:url("+n(307)+") no-repeat}.ns-button-icon-type-gauge{background:url("+n(292)+") no-repeat}.ns-button-icon-gear{width:22px!important;height:22px!important;background:url("+n(293)+") no-repeat}.ns-button-icon-table{background:url("+n(311)+") no-repeat}.ns-button-icon-chart{background:url("+n(262)+") no-repeat}.ns-button-icon-map{background:url("+n(302)+") no-repeat}.ns-button-icon-arrowleft{background:url("+n(256)+") no-repeat}.ns-button-icon-arrowleftdouble{background:url("+n(257)+") no-repeat}.ns-button-icon-arrowlefttriple{background:url("+n(90)+") no-repeat;width:26px!important}.ns-button-icon-arrowright{background:url("+n(258)+") no-repeat}.ns-button-icon-arrowrightdouble{background:url("+n(259)+") no-repeat}.ns-button-icon-arrowrighttriple{background:url("+n(91)+") no-repeat;width:26px!important}.ns-button-icon-search{background:url("+n(308)+") 1px 1px no-repeat}.ns-button-icon-nodeselectchild{background:url("+n(303)+') 1px 1px no-repeat}.ns-button-organisationunitselection .x-btn-center{width:18px!important}.ns-button-icon.x-btn-default-toolbar-small-disabled{-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=25)";opacity:.25}.x-tip{border-radius:2px;padding:1px 4px;border:1px solid #111;background-color:#111}.x-tip .x-tip-body{font-size:10px;color:#fff;-webkit-text-stroke:.2px #fff}.x-tip-anchor{border-top-color:#111}.x-mask-msg{padding:0;border:0 none;background-image:none;background-color:transparent}.x-mask-msg div{background-position:11px}.x-mask-msg .x-mask-loading{border:0 none;background-color:#000;color:#fff;border-radius:2px;padding:12px 14px 12px 30px;opacity:.65}.x-grid-row-selected .x-grid-cell{background-color:#eaeaea!important;border-style:solid;border-color:transparent}.ns-grid-row-icon-dashboard,.ns-grid-row-icon-delete,.ns-grid-row-icon-edit,.ns-grid-row-icon-overwrite,.ns-grid-row-icon-sharing{width:16px;height:16px;cursor:pointer}.ns-grid-row-icon-edit{background:url('+n(296)+") no-repeat}.ns-grid-row-icon-overwrite{background:url("+n(297)+") no-repeat;margin-left:4px}.ns-grid-row-icon-sharing{background:url("+n(298)+") no-repeat;margin-left:4px}.ns-grid-row-icon-dashboard{background:url("+n(294)+") no-repeat;margin-left:4px}.ns-grid-row-icon-delete{background:url("+n(295)+") no-repeat;margin-left:4px}.ns-grid-row-icon-disabled img.ns-grid-row-icon-dashboard,.ns-grid-row-icon-disabled img.ns-grid-row-icon-sharing{cursor:pointer!important}.ns-grid .x-grid-cell-inner,.ns-grid .x-grid-cell-inner *{font-size:11px!important}.ns-grid .x-grid-cell-inner{padding-top:3px;padding-bottom:3px}.ns-grid .x-column-header-text{color:#333}.ns-grid .x-grid-header-ct{border-bottom-width:1px!important;border-bottom-color:#d6d6d6}.ns-grid .x-grid-body{border:1px solid #d6d6d6;border-top:0 none!important}.ns-grid .x-grid-dirty-cell{background-image:none}.ns-grid .x-grid-row{vertical-align:middle}.ns-grid .x-grid-row .x-grid-cell{border-top:0 none}.ns-grid .link,.ns-grid .link *{cursor:pointer;cursor:hand;color:#001eff;text-decoration:underline}.x-window .x-window-header-text-default{font-size:10px;text-transform:uppercase;text-align:center;color:#444;padding-left:8px;padding-top:1px}.ns-window-title-favorite{padding-left:19px;background-image:url("+n(291)+")}.ns-window-title-interpretation{padding-left:19px;background-image:url("+n(299)+")}.ns-window-title-datatable{padding-left:19px;background-image:url("+n(272)+")}.ns-window-title-messagebox{padding-left:16px;background-position-y:1px}.ns-window-title-messagebox.error{background-image:url("+n(278)+")}.ns-window-title-messagebox.warning{background-image:url("+n(313)+")}.ns-window-confirm-list .x-panel-body{color:#444;font-size:10px;border-style:none}.ns-label-period-heading,.ns-label-period-heading-options{font-size:11px;font-weight:700;color:#333;line-height:18px}.ns-label-period-heading-options{background-color:#e1e1e1;padding:1px 5px;border-radius:2px}.ns-label-info{font-size:10px!important;color:#666;padding-left:4px;height:22px;line-height:21px}.ns-textfield-alt1 .x-form-field,.ns-textfield .x-form-field{height:26px;padding-left:4px;border-radius:1px;font-size:11px;color:#333}.ns-textfield .x-form-item-label{padding-left:5px;line-height:20px}.ns-textfield-alt1 .x-form-item-label{padding-left:5px;line-height:8px}.x-tree-icon-leaf{background-image:url("+n(300)+")}.ns-tree.x-tree-panel .x-grid-row .x-grid-cell-inner{height:17px;font-size:10px}.ns-tree .x-grid-table{width:100%!important}.ns-tree .x-grid-row-selected .x-grid-cell,.ns-tree .x-grid-row-selected .x-grid-rowwrap-div{background-color:#e0e0e0;border-radius:2px 2px 2px 2px}.ns-tree .x-grid-cell{border-radius:2px 2px 2px 2px}#treepanel-contextmenu{border-radius:3px;border:1px solid #ddd}.ns-statusbar .x-panel-body-default{padding:5px 0 0 6px;border:0 none;background-color:transparent;color:#111;vertical-align:top;font-size:10px;line-height:14px}.ns-accordion .x-accordion-item .x-accordion-hd{padding:6px 5px 4px 8px;border:0 none;cursor:pointer;border-radius:0;background-image:none;background-color:#e0e0e0;background-image:-webkit-gradient(linear,50% 0,50% 100%,color-stop(0,#dedede),color-stop(100%,#e6e6e6))!important;background-image:-webkit-linear-gradient(top,#ddd,#e6e6e6)!important;background-image:linear-gradient(top,#ddd,#e6e6e6)!important}.ns-accordion .collapsed .x-accordion-hd{padding-bottom:5px!important}.ns-accordion .x-accordion-item{border-radius:1px;border:1px solid #c5c5c5;border-bottom:0 none}.ns-accordion .ns-accordion-last{border:1px solid #c5c5c5}.ns-accordion .x-accordion-hd .x-panel-header-text{font-weight:700;cursor:pointer}.ns-accordion .x-accordion-body{padding:1px;border-top:1px solid #c5c5c5!important}.ns-accordion .x-accordion-hd-sibling-expanded{-o-box-shadow:none;box-shadow:none}.ns-accordion .ns-toolbar-multiselect-left,.ns-accordion .ns-toolbar-multiselect-right{margin-bottom:0}.ns-accordion .ns-combo .x-form-text,.ns-accordion .ns-combo .x-form-trigger{height:24px;padding-top:1px}.ns-accordion .ns-combo .x-form-item-label{padding:4px 0 0}.ns-accordion .x-component.x-panel-header-text-container.x-box-item.x-component-default{width:100%!important}.ns-textarea .x-form-field{font-size:11px;line-height:14px!important}.ns-textarea.monospaced textarea{font-family:Monospace,Consolas,Courier New,Courier\\ 10 Pitch!important;padding:4px;border:0 none}.favorite-li{padding:0}.favorite-li:hover{color:#222}.ns-chart-tips{border-radius:2px;padding:1px 4px 2px;border:2px solid #777;background-color:#f1f1f1}.ns-chart-tips .x-tip-body{background-color:#f1f1f1;font-size:13px;font-weight:400;color:#444;-webkit-text-stroke:0}.legend3Lines .x-legend .x-legend-items{display:inline-block!important}.legend3Lines .x-legend .x-legend-item{float:left!important;width:205px!important;overflow:hidden}.legend3Lines .x-legend{height:110px!important;width:400px!important}.x-tip{height:auto!important}.x-tip,.x-tip-body,.x-tip-body span{width:auto!important;background-color:grey!important;border:0}.eastPanel .clickable,.eastPanel .clickable div,.eastPanel .clickable label{cursor:pointer!important}.eastPanel .thumbs_up{background-image:url("+n(312)+");background-position:5px 5px;padding:7px 25px;background-repeat:no-repeat}.eastPanel .greyBackground,.eastPanel .greyBackground div{background-color:#efefef}.eastPanel .comment{padding:5px;margin-top:1px}.eastPanel .eastPanelLink{cursor:pointer;color:#3162c5}.eastPanel .eastPanelLink:hover{color:#1c3974}.eastPanel .bold{font-weight:700}.eastPanel .interpretationActions{line-height:16px}.eastPanel .interpretationDetailsField{white-space:nowrap;font-weight:700;line-height:18px}.eastPanel .avatar{height:30px;width:30px;border-radius:50%;display:inline-block;background-color:#bdbdbd;text-align:center;line-height:30px;font-size:14px;color:#000;font-weight:700}.eastPanel .commentArea textarea{margin-bottom:5px;font-size:12px}.ns-panel-title-east-default .x-panel-header{background:#e6e6e6;border-top-width:0;border-left-width:0;box-shadow:none;-webkit-box-shadow:none;padding-top:8px;padding-bottom:7px;padding-left:7px}.ns-panel-title-east-default.first .x-panel-header{border-top-width:1px}.ns-panel-title-east-default .x-panel-body{border-left:0}.eastPanel .favorite-icon button{padding:0;border:0;cursor:pointer;background-color:#fff}.eastPanel .favorite-inner{display:none}.eastPanel .favorite-icon{width:24px;height:24px;display:inline-block}.eastPanel .favorite-enabled{background-image:url("+n(290)+");background-repeat:no-repeat;background-position:2px 2px}.eastPanel .favorite-disabled{background-image:url("+n(289)+");background-repeat:no-repeat;background-position:2px 2px}.eastPanel .subscriber-icon button{padding:0;border:0;cursor:pointer;background-color:#fff}.eastPanel .subscriber-inner{display:none}.eastPanel .subscriber-icon{width:24px;height:24px;display:inline-block}.eastPanel .subscriber-enabled{background-image:url("+n(310)+");background-repeat:no-repeat;background-position:2px 2px}.eastPanel .subscriber-disabled{background-image:url("+n(309)+");background-repeat:no-repeat;background-position:2px 2px}.mentions{background-color:#fff;padding:2px;box-shadow:-1px -1px 4px 0 #888}.mentions,.mentions>div{max-height:220px}.mentions,.mentions div{border:none}.mentions td:hover{color:#1c3974;background-color:#efefef}.mentions td{color:#3162c5;padding:1px}.mentions td label{cursor:pointer}.mentions .mentionsTitle{font-weight:700;width:300px}.mentions table{overflow-y:auto;display:block;max-height:295px}",""]);
},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Axis=void 0;var r=n(5),o=i(r),a=e.Axis=void 0;e.Axis=a=function s(t,e){var n=[],i=t.api,s=i.Axis,r=i.Dimension;return e=(0,o["default"])(e),e.forEach(function(e){n.push(new r(t,e).val())}),n.log=function(t,n){n||console.log(t,this,e)},n.val=function(t){return this.length?this:(this.log("(Axis) No dimensions",t),null)},n.add=function(e,i){var o=i?e:new r(t,e).val();o&&n.push(o)},n.clone=function(){return s(t,this)},n.empty=function(){for(var t=n.slice(0),e=0,i=n.length;e<i;e++)n.pop();return t},n.getRecordIds=function(t,e){var i=e?"":[];return n.forEach(function(n,r,o){n.getRecordIds(t,null,!0).forEach(function(t,n,r){e?i+=t+(n!==r.length-1?", ":""):i.push(t)}),e&&(i+=r!==o.length-1?" - ":"")}),i},n.getRecordNames=function(t,e,i){var r=i?"":[];return n.forEach(function(n,o,a){n.getRecordNames(t,e,!0).forEach(function(t,e,n){i?r+=t+(e!==n.length-1?", ":""):r.push(t)}),i&&(r+=o!==a.length-1?" - ":"")}),r},n.getDimension=function(t){return this.find(function(e){return e.dimension===t})},n.getDimensionNames=function(){var t=[];return this.forEach(function(e){t.push(e.dimension)}),t},n.has=function(t){return!!n.getDimension(t)},n.sorted=function(){return n.clone().sort(function(t,e){return t.dimension>e.dimension})},n.extendRecords=function(t){n.forEach(function(e){e.extendRecords(t)})},n.strip=function(){for(var t=[];n.length>1;)t.push(n.pop());return t.reverse()},n.toPlugin=function(){delete n.klass,n.forEach(function(t){t.toPlugin()})},n.replaceDimensionByName=function(t){for(var e=0;e<this.length;++e)this[e].dimension===t.dimension&&(this[e]=t)},n}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Layout=void 0;var r=n(1),o=i(r),a=n(23),s=i(a),l=n(74),u=i(l),d=n(6),c=i(d),h=n(2),p=i(h),f=n(3),g=i(f),m=n(10),y=i(m),v=n(4),x=i(v),b=n(5),A=i(b),w=n(32),S=i(w),E=n(11),C=i(E),P=n(28),M=e.Layout=void 0;e.Layout=M=function(t,e,n,i){var r=this;t=(0,p["default"])(t)?t:{};var a=t.api,l=a.Axis,d=a.Sorting;e=(0,p["default"])(e)?e:{},$.extend(e,n);var c,h,f,m=t.appManager.getApiPath(),v="/analytics",x="json";r.columns=l(t,e.columns).val(!0),r.rows=l(t,e.rows).val(!0),r.filters=l(t,e.filters).val(!0),h=(0,p["default"])(e.access)?e.access:null,f=(0,o["default"])(e.dataDimensionItems)?e.dataDimensionItems:null,(0,g["default"])(e.id)&&(r.id=e.id),(0,g["default"])(e.interpretationId)&&(r.interpretationId=e.interpretationId),(0,g["default"])(e.name)&&(r.name=e.name),r.displayName=(0,y["default"])([e.displayName,e.displayShortName,e.name,e.shortName]).find(function(t){return(0,g["default"])(t)}),r.title=(0,y["default"])([e.displayShortName,e.title]).find(function(t){return(0,g["default"])(t)}),r.favorite=!!(0,s["default"])(e.favorite)&&e.favorite,r.subscribed=!!(0,s["default"])(e.subscribed)&&e.subscribed,(0,g["default"])(e.description)&&(r.description=e.description),(0,p["default"])(e.sorting)&&(0,u["default"])(e.sorting.id)&&(0,g["default"])(e.sorting.direction)&&(r.sorting=new d(t,e.sorting)),(0,g["default"])(e.displayProperty)&&(r.displayProperty=e.displayProperty),(0,A["default"])(e.userOrgUnit).length&&(r.userOrgUnit=(0,A["default"])(e.userOrgUnit)),(0,g["default"])(e.startDate)&&(r.startDate=e.startDate),(0,g["default"])(e.endDate)&&(r.endDate=e.endDate),P.DateManager.getYYYYMMDD(e.relativePeriodDate)&&(r.relativePeriodDate=P.DateManager.getYYYYMMDD(e.relativePeriodDate)),(0,g["default"])(e.displayDescription)&&(r.displayDescription=e.displayDescription),(0,A["default"])(e.interpretations).length&&(r.interpretations=(0,o["default"])(e.interpretations)?e.interpretations:null),P.DateManager.getYYYYMMDD(e.lastUpdated)&&(r.lastUpdated=P.DateManager.getYYYYMMDD(e.lastUpdated)),P.DateManager.getYYYYMMDD(e.created)&&(r.created=P.DateManager.getYYYYMMDD(e.created)),(0,p["default"])(e.user)&&(r.user=e.user),(0,g["default"])(e.publicAccess)&&(r.publicAccess=e.publicAccess),(0,A["default"])(e.userGroupAccesses).length&&(r.userGroupAccesses=e.userGroupAccesses),e.el&&(0,g["default"])(e.el)&&(r.el=e.el),(0,A["default"])(e.translations).length&&(r.translations=e.translations),$.extend(r,i),r.getResponse=function(){return c},r.setResponse=function(t){c=t},r.getAccess=function(){return h},r.canRead=function(){return!!h&&h.read},r.canUpdate=function(){return!!h&&h.update},r.setAccess=function(t){h=t},r.getDataDimensionItems=function(){return f},r.setDataDimensionItems=function(t){f=t},r.getDefaultPath=function(){return m},r.getDefaultSource=function(){return v},r.getDefaultFormat=function(){return x},r.getRequestPath=function(e,n){return(m||t.appManager.getPath())+(e||v)+(null===n?"":"."+(n||x))},r.getRefs=function(){return t}},M.prototype.log=function(t,e){e||console.log(t,this)},M.prototype.alert=function(t,e){e||alert(t)},M.prototype.apply=function(t,e){var n=this;if(!(0,p["default"])(t))return n;var i=["name","description"];return e=(0,o["default"])(e)?e:i,e.forEach(function(e){n[e]=t[e]}),n},M.prototype.toRows=function(t){this.rows=(0,y["default"])(this.rows.concat(this.columns.empty(),t?this.filters.empty():[]))},M.prototype.getAxes=function(t){return(0,y["default"])([this.columns,this.rows,t?this.filters:null])},M.prototype.getUserOrgUnitUrl=function(){if((0,o["default"])(this.userOrgUnit)&&this.userOrgUnit.length)return"userOrgUnit="+this.userOrgUnit.join(";")},M.prototype.applyInterpretation=function(t){this.setResponse(null),this.relativePeriodDate=t.created,this.interpretationId=t.id},M.prototype.setSharing=function(t){this.publicAccess=t.publicAccess,this.externalAccess=t.externalAccess,this.userGroupAccesses=t.userGroupAccesses,this.userAccesses=t.userAccesses},M.prototype.hasDimension=function(t,e){return this.getAxes(e).some(function(e){return e.has(t)})},M.prototype.getDimensions=function(t,e,n){var i=[];return n=(0,y["default"])(n?(0,A["default"])(n):this.getAxes(t)),n.forEach(function(t){i=i.concat(t)}),e?i.sort(function(t,e){return t.dimension>e.dimension}):i},M.prototype.getRecords=function(t,e){var n=[];return this.getAxes(t).forEach(function(t){t.forEach(function(t){n=n.concat(t.getRecords(null,e))})}),n},M.prototype.extendRecords=function(t){this.getAxes(!0).forEach(function(e){e.extendRecords(t)})},M.prototype.stripAxes=function(t,e){var n=this,i=n.getRefs(),r=i.api.Axis;e||n.filters||(n.filters=new r(i)),n.getAxes(t).forEach(function(t){t.strip().forEach(function(t){e||n.filters.add(t)})})},M.prototype.replaceDimensionByName=function(t,e){this.getAxes(e).forEach(function(e){e.has(t.dimension)&&e.replaceDimensionByName(t)})},M.prototype.getRecordIds=function(t){var e=[];return this.getRecords(t).forEach(function(t){e.push(t.id)}),e},M.prototype.getDimension=function(t){return this.getDimensions(!0).find(function(e){return e.dimension===t})},M.prototype.getDimensionNames=function(t,e,n){var i=(0,S["default"])(this.getDimensions(t,!1,n),"dimension");return e?i.sort():i},M.prototype.getDimensionNameIdsMap=function(t,e){var n={};return t=t||this.getResponse(),this.getDimensions(!0).forEach(function(i){var r=i.getRecordIds(!1,t);e&&(r=e(r)),n[i.dimension]=r}),n},M.prototype.removeDimensionItems=function(t){this.getDimensions(t).forEach(function(t){t.removeItems()})},M.prototype.val=function(t){var e=this.getRefs(),n=e.i18nManager;return this.columns||this.rows?this.hasDimension(e.dimensionConfig.get("period").dimensionName,!0)?this:(this.alert(n.get("at_least_one_period_must_be_specified_as_column_row_or_filter"),t),null):(this.alert(n.get("at_least_one_dimension_must_be_specified_as_row_or_column"),t),null)},M.prototype.toPlugin=function(t){var e,n=this,i=this.getRefs(),r=i.appManager,o=i.optionConfig;if(n.id)e={id:n.id};else{e=n.clone(),e.getAxes(!0).forEach(function(t){t.toPlugin()});var a=["showRowTotals","showColTotals","showColSubTotals","showRowSubTotals","showDimensionLabels","showValues"],s=["hideEmptyRows","hideEmptyColumns","stickyColumnDimension","stickyRowDimension","skipRounding","showHierarchy","completedOnly","hideLegend","hideTitle","title","legendSet","sorting","targetLineValue","targetLineTitle","baseLineValue","baseLineTitle","rangeAxisMaxValue","rangeAxisMinValue","rangeAxisSteps","rangeAxisDecimals","rangeAxisTitle","domainAxisTitle","regression","cumulative","sortOrder","topLimit"],l=["klass","name","parentGraphMap","reportingPeriod","organisationUnit","parentOrganisationUnit","cumulative","sortOrder","topLimit","displayDescription","displayName","interpretations","lastUpdated","created","user","publicAccess","userGroupAccesses","prototype","url"];a.forEach(function(t){e[t]&&delete e[t]}),s.forEach(function(t){e[t]||delete e[t]}),l.forEach(function(t){delete e[t]}),e.displayDensity===o.getDisplayDensity("normal").id&&delete e.displayDensity,e.fontSize===o.getFontSize("normal").id&&delete e.fontSize,e.digitGroupSeparator===o.getDigitGroupSeparator("space").id&&delete e.digitGroupSeparator,e.aggregationType===o.getAggregationType("def").id&&delete e.aggregationType,e.numberType===o.getNumberType("value").id&&delete e.numberType,e.dataApprovalLevel&&e.dataApprovalLevel.id===o.getDataApprovalLevel("def").id&&delete e.dataApprovalLevel,"NONE"===e.regressionType&&delete e.regressionType}return e.url=r.getPath(),t&&(e.el=t),e},M.prototype.toPostSuper=function(){delete this.klass,delete this.getResponse,delete this.setResponse,delete this.getAccess,delete this.canRead,delete this.canUpdate,delete this.setAccess,delete this.getDataDimensionItems,delete this.setDataDimensionItems,delete this.getRequestPath,this.getDimensions(!0).forEach(function(t){t.toPost()}),this.rowTotals=this.showRowTotals,delete this.showRowTotals,this.colTotals=this.showColTotals,delete this.showColTotals,this.rowSubTotals=this.showRowSubTotals,delete this.showRowSubTotals,this.colSubTotals=this.showColSubTotals,delete this.showColSubTotals,this.reportParams={paramReportingPeriod:this.reportingPeriod,paramOrganisationUnit:this.organisationUnit,paramParentOrganisationUnit:this.parentOrganisationUnit},delete this.reportingPeriod,delete this.organisationUnit,delete this.parentOrganisationUnit,delete this.parentGraphMap,delete this.id,delete this.el,delete this.displayDescription,delete this.interpretations,delete this.lastUpdated,delete this.created,delete this.user,delete this.publicAccess,delete this.userGroupAccesses,delete this.displayName},M.prototype.toSession=function(){var t=this,e=t.getResponse();return t.extendRecords(e),t},M.prototype.sort=function(t){var e,n,i,r=this,o=r.getRefs(),a=o.api,s=a.Record,l=(a.Dimension,a.ResponseRowIdCombination),u=this.sorting.id,d=this.sorting.direction,h=this.rows[0],p=this.getResponse(),f=t?t.idValueMap:p.getIdValueMap(r),m=[];(0,g["default"])(u)&&(e=this.getDimensionNameIdsMap(p)[h.dimension],e.forEach(function(t){var e=new l(o,[u,t]).get();n=parseFloat(f[e]),i={id:t,sortingId:(0,c["default"])(n)?n:Number.MAX_VALUE*-1},m.push(i)}),(0,C["default"])(m,d,"sortingId"),h.items=m.map(function(t){return new s(o,t)}),h.sorted=!0,this.sorting.id=u)},M.prototype.hasRecordIds=function(t,e){var n=this.getRecordIds(e),i=!1;return t=(0,A["default"])(t),t.forEach(function(t){(0,x["default"])(n,t)&&(i=!0)}),i},M.prototype.getFirstDxId=function(){return this.getDimension("dx").getRecordIds()[0]},M.prototype.del=function(t,e,n){var i=this,r=this.getRefs(),o=r.instanceManager;o.delById(i.id,t,e,n)},M.prototype.toPost=function(){var t=this;t.toPostSuper()},M.prototype.isDimensionInRows=function(t){return this.rows.getDimensionNames().indexOf(t)!==-1},M.prototype.toPut=function(){this.toPost()},M.prototype.isPeriodInRows=function(){return this.isDimensionInRows("pe")},M.prototype.isOrganisationUnitInRows=function(){return this.isDimensionInRows("ou")},M.prototype.post=function(t,e,n){var i=this,r=this.getRefs(),o=r.appManager,a=r.instanceManager,s=r.uiManager,l=o.getApiPath(),u=a.apiEndpoint,d=l+"/"+u;e&&s.mask(),i.id&&a.getSharingById(i.id,function(t){(0,p["default"])(t)&&(0,p["default"])(t.object)&&i.setSharing(t.object)}),i.toPost();var c=new r.api.Request(r,{baseUrl:d,type:"ajax",method:"POST",data:JSON.stringify(i),success:function(e,i,r){var o=(r.getResponseHeader("location")||"").split("/").pop();(0,g["default"])(o)||console.log("Layout post","Invalid id",o),n&&s.unmask(),t&&t(o,i,r)}});c.run()},M.prototype.put=function(t,e,n,i){var r=this,o=this.getRefs(),a=o.appManager,s=o.instanceManager,l=o.uiManager,u=a.getApiPath(),d=s.apiEndpoint,c=u+"/"+d+"/"+t;n&&l.mask(),s.getSharingById(r.id,function(a){r.toPut(),(0,p["default"])(a)&&(0,p["default"])(a.object)&&r.setSharing(a.object);var s=new o.api.Request(o,{baseUrl:c,type:"ajax",method:"PUT",data:JSON.stringify(r),success:function(n,r,o){i&&l.unmask(),e&&e(t,r,o)},error:function(t){(0,x["default"])([403],parseInt(t.httpStatusCode))&&(t.message=i18n.you_do_not_have_access_to_all_items_in_this_favorite||t.message),n&&l.unmask(),l.alert(t)}});s.run()})},M.prototype.patch=function(t,e,n,i){var r=this,o=this.getRefs(),a=o.appManager,s=o.instanceManager,l=o.uiManager,u=a.getApiPath(),d=s.apiEndpoint,c=u+"/"+d+"/"+r.id;if((0,p["default"])(t)){n&&l.mask();var h=new o.api.Request(o,{baseUrl:c,type:"ajax",method:"PATCH",data:JSON.stringify(t),dataType:"text",headers:a.defaultRequestHeaders,success:function(t,n,r){i&&l.unmask(),e&&e(null,n,r)}});h.run()}},M.prototype.req=function(t,e,n,i,r){var a=this.getRefs(),s=a.api.Request,l=a.optionConfig,u=a.appManager,d=new s(a),c=l.getAggregationType("def").id,h=this.displayProperty||u.getAnalyticsDisplayProperty();return this.getDimensions(!1,n).forEach(function(t){d.add(t.url(n))}),this.filters&&this.filters.forEach(function(t){var e=!(r&&t.isRequired());d.add(t.url(n,null,e))}),this.skipRounding&&d.add("skipRounding=true"),d.add("displayProperty="+h.toUpperCase()),this.completedOnly&&d.add("completedOnly=true"),i?(d.add("tableLayout=true"),d.add("columns="+this.getDimensionNames(!1,!1,this.columns).join(";")),d.add("rows="+this.getDimensionNames(!1,!1,this.rows).join(";")),this.hideEmptyColumns&&d.add("hideEmptyColumns=true"),this.hideEmptyRows&&d.add("hideEmptyRows=true"),this.showHierarchy&&d.add("showHierarchy=true")):(this.showHierarchy&&d.add("hierarchyMeta=true"),(0,g["default"])(this.aggregationType)&&this.aggregationType!==c&&d.add("aggregationType="+this.aggregationType),(0,o["default"])(this.userOrgUnit)&&this.userOrgUnit.length&&d.add(this.getUserOrgUnitUrl()),(0,p["default"])(this.dataApprovalLevel)&&(0,g["default"])(this.dataApprovalLevel.id)&&"DEFAULT"!==this.dataApprovalLevel.id&&d.add("approvalLevel="+this.dataApprovalLevel.id),this.relativePeriodDate&&d.add("relativePeriodDate="+this.relativePeriodDate),this.measureCriteria&&d.add("measureCriteria="+this.measureCriteria)),this.hasRecordIds(u.userIdDestroyCacheKeys,!0)&&d.add("user="+u.userAccount.id),d.setBaseUrl(this.getRequestPath(t,e)),d},M.prototype.data=function(t,e){var n=this.getRefs(),i=n.uiManager,r=this.req(t,null),o=this.req(t,null,!0),a=function(t){!(0,p["default"])(t)||409!=t.status&&503!==t.status||(i.unmask(),(0,g["default"])(t.responseText)&&i.alert(JSON.parse(t.responseText)))};return r.setType(this.getDefaultFormat()),o.setType(this.getDefaultFormat()),r.add("skipData=true"),o.add("skipMeta=true"),r.add("includeMetadataDetails=true"),o.add("includeNumDen=true"),r.setError(a),o.setError(a),{metaData:r.run(),data:o.run()}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.OrganisationUnit=void 0;var r=n(5),o=i(r),a=e.OrganisationUnit=void 0;e.OrganisationUnit=a=function(t,e){var n=this;n.id=e.id,n.refs=t,n.i18n=t.i18nManager.get(),n.ancestors=[],n.level=null},a.prototype.getLevel=function(){return this.level},a.prototype.setLevel=function(t){this.level=t},a.prototype.getAncestors=function(){return this.ancestors},a.prototype.setAncestors=function(t){this.ancestors=(0,o["default"])(t)},a.prototype.getInstanceManager=function(){return this.refs.instanceManager},a.prototype.getAppManager=function(){return this.refs.appManager},a.prototype.getUpperLevels=function(){return this.getAncestors()},a.prototype.getAncestorsRequest=function(t){var e=this.refs.api.Request,n=new e(refs,{baseUrl:this.getAppManager().getApiPath()+"/organisationUnits/"+this.id+".json",type:"json",params:["fields=id,level,ancestors[id,level,displayName~rename(name)]","paging=false"]});return t?n.run():n},a.prototype.getOrganisationUnitLevels=function(){return this.getAppManager().organisationUnitLevels},a.prototype.getResponse=function(){return this.getInstanceManager().getStateCurrent().getResponse()},a.prototype.getRootAncestor=function(){var t=this.getAncestors().slice().sort(function(t,e){return t.level>e.level});return t.length?t[0]:this},a.prototype.getParent=function(){var t=this.getAncestors().slice().sort(function(t,e){return t.level>e.level});return t.length?t[t.length-1]:null},a.prototype.getHierarchyName=function(){var t=this;return this.getOrganisationUnitLevels().find(function(e){return e.level===t.getLevel()}).name},a.prototype.isRoot=function(){var t=this.getRootAncestor();return!!t&&this.getLevel()===t.level},a.prototype.getName=function(){return this.getResponse().getNameById(this.id)},a.prototype.getSublevels=function(){var t=this,e=this.getLevel(),n=this.getOrganisationUnitLevels().filter(function(t){return t.level>e});return n=n.map(function(e){return{id:t.id,name:e.name.toLowerCase(),level:e.level}})},a.prototype.getContextMenuItemsConfig=function(){var t=this,e=[],n=this.getSublevels(),i=this.getUpperLevels();return i.length>0&&(e.push({isSubtitle:!0,style:"padding: 5px 5px 5px 5px; font-size: 120%; font-weight:bold",html:this.i18n.drill_up}),i.forEach(function(t){e.push({items:[{id:t.id}],text:'Show <span class="name">'+t.name+"</span>",iconCls:"ns-menu-item-float"})})),e.push({isSubtitle:!0,style:"padding: 5px 5px 5px 5px; font-size: 120%; font-weight:bold",html:this.getHierarchyName()}),e.push({items:[{id:this.id}],text:'Show only <span class="name">'+this.getName()+"</span>",iconCls:"ns-menu-item-float"}),this.getParent()&&e.push({items:[{id:this.getParent().id+";LEVEL-"+this.getLevel()}],text:'Show all <span class="name">'+this.getHierarchyName()+" units in "+this.getParent().name+"</span>",iconCls:"ns-menu-item-float"}),n.length>0&&!function(){var i=t.getRootAncestor();e.push({isSubtitle:!0,style:"padding: 5px 5px 5px 5px; font-size: 120%; font-weight:bold",html:t.i18n.drill_down}),n.forEach(function(n){e.push({items:[{id:n.id+";LEVEL-"+n.level}],text:'Show all <span class="name">'+n.name.toLowerCase()+" units in "+t.getName()+"</span>",iconCls:"ns-menu-item-float"})}),n.forEach(function(n){i.level!==t.getLevel()&&e.push({items:[{id:i.id+";LEVEL-"+n.level}],text:'Show all <span class="name">'+n.name+" units</span>",iconCls:"ns-menu-item-float"})})}(),e}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Record=void 0;var r=n(3),o=i(r),a=n(2),s=i(a),l=e.Record=void 0;e.Record=l=function(t,e){var n=this;e=(0,s["default"])(e)?e:{},n.id=e.id,n.name=e.name,n.objectName=e.objectName,(0,o["default"])(e.dimensionItemType)&&(n.dimensionItemType=e.dimensionItemType)},l.prototype.log=function(t,e){e||console.log(t,this)},l.prototype.val=function(t){return this&&(0,o["default"])(this.id)?this:(this.log("(Record) Id is not a string",t),null)},l.prototype.setName=function(t,e){this.name=t||this.name||(this.id&&e?e.getNameById(this.id):null)},l.prototype.toPlugin=function(){delete this.klass},l.prototype.toPost=function(){delete this.klass,delete this.name,delete this.dimensionItemType}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Request=void 0;var r=n(3),o=i(r),a=n(1),s=i(a),l=n(2),u=i(l),d=n(24),c=i(d),h=n(34),p=i(h),f=n(10),g=i(f),m=n(4),y=i(m),v=n(5),x=i(v),b=e.Request=void 0;e.Request=b=function(t,e){var n=this;e=(0,u["default"])(e)?e:{},n.method=(0,o["default"])(e.method)?e.method:"GET",n.headers=(0,u["default"])(e.headers)?e.headers:t.appManager.defaultRequestHeaders,n.dataType=(0,o["default"])(e.dataType)?e.dataType:"json",n.contentType=(0,o["default"])(e.contentType)?e.contentType:null,n.success=(0,c["default"])(e.success)?e.success:function(){n.defaultSuccess()},n.error=(0,c["default"])(e.error)?e.error:function(){n.defaultError()},n.complete=(0,c["default"])(e.complete)?e.complete:function(){n.defaultComplete()},n.type=(0,o["default"])(e.type)?e.type:"ajax",n.baseUrl=(0,o["default"])(e.baseUrl)?e.baseUrl:"",n.params=(0,x["default"])(e.params),n.data=e.data?e.data:null,n.manager=e.manager||null,n.beforeRun=(0,c["default"])(e.beforeRun)?e.beforeRun:null,n.afterRun=(0,c["default"])(e.afterRun)?e.afterRun:null,n.defaultSuccess=function(){var t=this;t.manager&&t.manager.ok(t)},n.defaultError=function(){},n.defaultComplete=function(){}},b.prototype.log=function(t,e){e||console.log(t,this)},b.prototype.alert=function(t,e){e||alert(t)},b.prototype.handle=function(t,e){var n,i=this.url();if((0,y["default"])([413,414],t))if(isIE())n="Too many items selected (url has "+i.length+" characters). Internet Explorer accepts maximum 2048 characters.";else{var r=i.length>8e3?"8000":i.length>4e3?"4000":"2000";n="Too many items selected (url has "+i.length+" characters). Please reduce to less than "+r+" characters."}n&&(n+="\n\nHint: A good way to reduce the number of items is to use relative periods and level/group organisation unit selection modes.",this.alert(n))},b.prototype.add=function(t){var e=this;if((0,o["default"])(t))e.params.push(t);else if((0,s["default"])(t))t.forEach(function(t){(0,o["default"])(t)&&e.params.push(t)});else if((0,u["default"])(t))for(var n in t)t.hasOwnProperty(n)&&!(0,p["default"])(t[n])&&e.params.push(n+"="+t[n]);return this},b.prototype.setBaseUrl=function(t){(0,o["default"])(t)&&(this.baseUrl=t)},b.prototype.setType=function(t){(0,o["default"])(t)&&(this.type=t)},b.prototype.setManager=function(t){this.manager=t},b.prototype.setSuccess=function(t){(0,c["default"])(t)&&(this.success=t)},b.prototype.setError=function(t){(0,c["default"])(t)&&(this.error=t)},b.prototype.setBeforeRun=function(t){(0,c["default"])(t)&&(this.beforeRun=t)},b.prototype.setComplete=function(t){(0,c["default"])(t)&&(this.complete=t)},b.prototype.url=function(t){var e=(0,g["default"])([].concat(this.params,(0,x["default"])(t)));return this.baseUrl+(e.length?"?"+e.join("&"):"")},b.prototype.run=function(t){var e=this,n=encodeURI(this.url());t=(0,u["default"])(t)?t:{};var i=t.success||e.success,r=t.error||e.error,o=t.complete||e.complete,a=function(){(0,c["default"])(e.afterRun)&&e.afterRun(),o()};if(!e.beforeRun||e.beforeRun()!==!1){if("json"===e.type)return $.getJSON(n,i).error(r).complete(o);var s=t.method||e.method,l=t.headers||e.headers,d=t.dataType||e.dataType,h=t.contentType||e.contentType,p=t.data||e.data,f={};return f.url=n,f.method=s,f.type=s,f.data=p,l&&(f.headers=l),d&&(f.dataType=d),h&&(f.contentType=h),f.success=i,f.error=r,f.complete=a,$.ajax(f)}}},function(e,n,i){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(n,"__esModule",{value:!0}),n.Response=void 0;var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},l=i(10),u=r(l),d=i(4),c=r(d),h=i(5),p=r(h),f=i(188),g=r(f),m=i(11),y=r(m),v=i(22),x=r(v),b=i(76),A=r(b),w=i(33),S=r(w),E=i(23),C=r(E),P=i(74),M=(r(P),i(34)),T=r(M),k=i(6),I=(r(k),i(25)),_=r(I),O=i(2),D=r(O),R=i(3),L=r(R),B=i(180),N=r(B),U=n.Response=function(t,e){var n=this;e=(0,D["default"])(e)?e:{};var i=(t.appManager,t.indexedDbManager),r=t.i18nManager,o=t.api,l=o.ResponseHeader,d=o.ResponseRow,h=r.get(),p="EMPTY_UID",f={EMPTY_UID:"N/A",0:h.no||"No",1:h.yes||"Yes"},g="ouname",m="ou",v=["psi","ps","eventdate","longitude","latitude","ouname","oucode","eventdate","eventdate"],b=["dy"].concat(v),A=function(t,e){return!(0,c["default"])(b,t.name)&&(0,T["default"])(e)},w=function(t,e){return!(0,c["default"])(v,t.name)&&(0,T["default"])(e)},S=function(t){return n.headers.find(function(e){return e.name===t})},E=function(t){return void 0!==S(t)};n.getPrefixedId=function(t,e){return(e||"")+"_"+t},n.getSortedUniqueRowIdStringsByHeader=function(t){var e=(0,N["default"])(t.valueType),i=(0,N["default"])("STRING");return(0,y["default"])((0,u["default"])((0,x["default"])(n.rows.map(function(n){return e(n.getAt(t.index))})))).map(function(t){return i(t)})},n.getNameByIdsByValueType=function(t,e){return"BOOLEAN"===e?f[t]:t},n.optionCodeIdMap=function(){var t=e.metaData.dimensions,i=e.metaData.items,r={};return e.headers.filter(function(t){return(0,L["default"])(t.optionSet)}).forEach(function(e){var o=t[e.name],l=o.map(function(t){return a({},i[t].code,t)}).reduce(function(t,e){return s(t,e)},{});l[""]=n.getPrefixedId(p,e.name),r[e.name]=l}),r}(),n.headers=(e.headers||[]).map(function(n,i){var r=e.metaData.dimensions,o=A(n,r[n.name])?{isPrefix:!0}:{},a=w(n,r[n.name])?{isCollect:!0}:{};return new l(t,n,s({},o,a,{index:i}))}),n.rows=function(){var i=n.headers.filter(function(t){return t.optionSet}),r=n.headers.filter(function(t){return"BOOLEAN"===t.valueType}),o=e.rows;return i.length&&(o=o.slice(),i.forEach(function(t){var e=n.getPrefixedId(p,t.name),i=!1;o.forEach(function(r){var o=n.optionCodeIdMap[t.name][r[t.index]];o&&(r[t.index]=o,i===!1&&o===e&&(i=!0))}),t.hasEmptyValues=i})),r.length&&(o=o.slice(),r.forEach(function(t){var e=!1;o.forEach(function(n){""===n[t.index]&&(n[t.index]=p,e=!0)}),t.hasEmptyValues=e})),o.map(function(e){return d(t,e)})}(),n.metaData=function(){var t=s({},e.metaData),r=t.dimensions,o=t.items;if(n.headers.filter(function(t){return!(0,c["default"])(v,t.name)}).forEach(function(e){var a;if(e.hasEmptyValues){var s=n.getPrefixedId(p,e.name);r[e.name].push(s),o[s]={code:"",name:"N/A"}}e.isCollect&&(r[e.name]=n.getSortedUniqueRowIdStringsByHeader(e)),a=r[e.name],e.isPrefix&&(r[e.name]=a.map(function(t){return n.getPrefixedId(t,e.name)}),e.optionSet?r[e.name].forEach(function(n,r){var s=a[r],l=e.optionSet,u=i.getCachedOptionName(s,l);o[n]={name:t.items[u]?t.items[u].name:u}}):r[e.name].forEach(function(t,i){var r=a[i],s=e.valueType,l=n.getNameByIdsByValueType(r,s);o[t]={name:l}}))}),E(g)&&E(m))for(var a,l,u,d=S(g).getIndex(),h=S(m).getIndex(),f=0;f<n.rows.length;f++)a=n.rows[f],l=a.getAt(h),void 0===o[l]&&(u=a.getAt(d),o[l]={name:u});return t}(),n.nameHeaderMap=function(){var t={};return n.headers.forEach(function(e){t[e.name]=e}),t}(),n.idValueMap,n.sortedRows,n.getRefs=function(){return t}};U.prototype.sortOrganisationUnitsHierarchy=function(){for(var t=this,e=this.metaData.dimensions.ou,n=function(n){var i=e[n],r=t.metaData.ouHierarchy[i],o=[i],a=[];r.split("/").reverse().forEach(function(t){o.unshift(t)}),o.map(function(e){t.metaData.items[e]&&a.push(t.metaData.items[e].name)}),e[n]={id:i,fullName:a.join(" / ")}},i=0;i<e.length;++i)n(i);(0,y["default"])(e,null,"fullName"),this.metaData.dimensions.ou=e.map(function(t){return t.id})},U.prototype.clone=function(){var t=this.getRefs(),e=t.api.Response;return new e(t,this)},U.prototype.getHeaderByName=function(t){return this.nameHeaderMap[t]},U.prototype.getHeaderByIndex=function(t){return this.headers[t]},U.prototype.getHeaderIndexByName=function(t){var e=this.nameHeaderMap[t]||{};return e.index},U.prototype.getOptionSetHeaders=function(){return t.headers.filter(function(t){return(0,L["default"])(t.optionSet)||isArray(t.optionSet)})},U.prototype.getNameById=function(t){return(this.metaData.items[t]||{}).name||t},U.prototype.getHierarchyNameById=function(t,e,n){var i=this.metaData,r="",o=i.items;if(e&&i.ouHierarchy.hasOwnProperty(t)){var a=(0,u["default"])(i.ouHierarchy[t].split("/"));a.forEach(function(t){r+=(n?'<span class="text-weak">':"")+o[t].name+(n?"</span>":"")+" / "})}return r},U.prototype.getIdsByDimensionName=function(t){return this.metaData.dimensions?this.metaData.dimensions[t]||[]:[]},U.prototype.addMetaDataItems=function(t){this.metaData.items=s(this.metaData.items,t)},U.prototype.addOuHierarchyDimensions=function(){var t,e=this,n=e.headers,i=e.metaData.ouHierarchy,r=e.rows,o=0,a=[],s=[],l="ou";if(i){for(var d=0;d<n.length;d++)if(n[d].name===l){t=d;break}for(var d=0;d<r.length;d++)o=Math.max(o,(0,u["default"])(i[r[d][t]].split("/")).length);for(var d=0;d<o;d++)a.push("");for(var c,h,d=0;d<r.length;d++)c=r[d],h=(0,A["default"])((0,u["default"])(i[c[t]].split("/")),(0,S["default"])(a)),(0,g["default"])(c,t,h);for(var d=0;d<o;d++)s.push({column:"Organisation unit",hidden:!1,meta:!0,name:"ou",type:"java.lang.String"});return(0,g["default"])(n,t,s),e}},U.prototype.printResponseCSV=function(){for(var t,e=this,n=e.headers,i=e.metaData.items,r=e.rows,o="",a=0;a<n.length;a++)o+='"'+n[a].column+'"'+(a<n.length-1?",":"\n");for(var a=0;a<r.length;a++)for(var s,l,u=0;u<r[a].length;u++)s=r[a][u],l=n[u].meta,o+='"'+(l&&i[s]&&(0,L["default"])(i[s].name)?i[s].name:s)+'"',o+=u<r[a].length-1?",":"\n";t=document.createElement("a"),t.setAttribute("href","data:text/csv;charset=utf-8,"+encodeURIComponent(o)),t.setAttribute("download","data.csv"),t.click()},U.prototype.getSize=function(t){var e=1;if(t.columns)for(var n,i,r,o=0;o<t.columns.length;o++)i=t.columns[o].dimension,n=this.metaData.dimensions[i],n&&(r=n.length),e*=0===r?1:r;if(t.rows)for(var a,s,l,u=0;u<t.rows.length;u++)s=t.rows[u].dimension,a=this.metaData.dimensions[s],a&&(l=a.length),e*=0===l?1:l;return e},U.prototype.getFilteredHeaders=function(t){return this.headers.filter(function(e){return(0,c["default"])(t,e.name)})},U.prototype.getOrganisationUnitsIds=function(){return this.metaData.dimensions.ou},U.prototype.getHeaderNameByIndex=function(t){return this.getHeaderByIndex(t).name},U.prototype.getHeaderIndexOrder=function(t){var e=this;return t.map(function(t){return e.getHeaderIndexByName(t)})},U.prototype.getIdsByDimensionNames=function(t){var e=this;return(0,u["default"])(t.reduce(function(t,n){return t.concat(e.getIdsByDimensionName(n)||[])},[]))},U.prototype.getItemName=function(t,e,n){return this.getHierarchyNameById(t,e)+this.getNameById(t)},U.prototype.getItemAggregationType=function(t){return this.metaData.items[t].totalAggregationType},U.prototype.getRecordsByDimensionName=function(t){var e=this,n=this.getRefs(),i=n.api.Record,r=this.getIdsByDimensionName(t)||[],o=r.map(function(t){return new i(n,{id:t,name:e.getNameById(t)}).val()});return(0,u["default"])(o)},U.prototype.getValueHeader=function(){return this.getHeaderByName("value")},U.prototype.getNumeratorHeader=function(){return this.getHeaderByName("numerator")},U.prototype.getDenominatorHeader=function(){return this.getHeaderByName("denominator")},U.prototype.getFactorHeader=function(){return this.getHeaderByName("factor")},U.prototype.hasIdByDimensionName=function(t,e){return(0,c["default"])(this.getIdsByDimensionName(e),t)},U.prototype.getValueHeaderIndex=function(){return this.getValueHeader()?this.getValueHeader().getIndex():null},U.prototype.getNumeratorHeaderIndex=function(){return this.getNumeratorHeader()?this.getNumeratorHeader().getIndex():null},U.prototype.getDenominatorHeaderIndex=function(){return this.getDenominatorHeader()?this.getDenominatorHeader().getIndex():null},U.prototype.getFactorHeaderIndex=function(){return this.getFactorHeader()?this.getFactorHeader().getIndex():null},U.prototype.getSortedRows=function(){if(this.sortedRows)return this.sortedRows;var t=this.getValueHeaderIndex(),e=this.rows.filter(function(e){return(0,_["default"])(e[t])});return e.forEach(function(e){return e.toFloat(t)}),(0,y["default"])(e,"DESC",t),this.sortedRows=e},U.prototype.getIdValueMap=function(t){
return this.idValueMap=this.getIdMap(t,"value")},U.prototype.getIdDenominatorMap=function(t){return this.idDenominatorMap=this.getIdMap(t,"denominator")},U.prototype.getIdNumeratorMap=function(t){return this.idNumeratorMap=this.getIdMap(t,"numerator")},U.prototype.getIdFactorMap=function(t){return this.idFactorMap=this.getIdMap(t,"factor")},U.prototype.getIdMap=function(t,e){var n=this,i=this.getRefs(),r=i.api.ResponseRowIdCombination,o=(0,u["default"])(this.getHeaderIndexOrder(t.getDimensionNames())),a={};return this.rows.forEach(function(t){var s=new r(i),l=void 0,u=void 0,d=void 0;o.forEach(function(e){d=n.getHeaderByIndex(e),u=t.getAt(e),l=d.isPrefix?n.getPrefixedId(u,d.name):u,s.add(l)}),t.setIdCombination(s),a[s.get()]=t.getAt(n.getHeaderByName(e).getIndex())}),a},U.prototype.getAllIdMap=function(t){var e=this,n=this.getRefs(),i=n.api.ResponseRowIdCombination,r=(0,u["default"])(this.getHeaderIndexOrder(t.getDimensionNames())),o={};return this.rows.forEach(function(t){var a=new i(n),s=void 0,l=void 0,u=void 0;r.forEach(function(n){u=e.getHeaderByIndex(n),l=t.getAt(n),s=u.isPrefix?e.getPrefixedId(l,u.name):l,a.add(s)}),t.setIdCombination(a),o[a.get()]={value:t.getAt(e.getHeaderByName("value").getIndex()),denominator:t.getAt(e.getHeaderByName("denominator").getIndex()),numerator:t.getAt(e.getHeaderByName("numerator").getIndex()),factor:t.getAt(e.getHeaderByName("factor").getIndex())}}),o},U.prototype.getValue=function(t,e){var n=this.getRefs(),i=n.refs.api,r=t instanceof i?t.get():t;return this.getIdValueMap(e)[r]},U.prototype.getExtremalRows=function(t,e,n){t=(0,_["default"])(t)?parseInt(t):10,e=!(0,C["default"])(e)||e,n=!(0,C["default"])(n)||n;var i=this.getSortedRows(),r=i.length;return[].concat(o(e?i.slice(0,t):[]),o(n?i.slice(r-t,r):[]))},U.prototype.getValues=function(t,e){var n=this;return(0,p["default"])(t).map(function(t){return n.getValue(t,e)})}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.ResponseHeader=void 0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o=n(2),a=i(o),s=n(25),l=i(s),u=e.ResponseHeader=void 0;e.ResponseHeader=u=function(t,e,n){var i=this;i.isPrefix=!1,i.isCollect=!1,i.index,e=(0,a["default"])(e)?e:{},r(i,e,n)},u.prototype.setIndex=function(t){(0,l["default"])(t)&&(this.index=parseInt(t))},u.prototype.getIndex=function(t){return this.index}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.ResponseRow=void 0;var r=n(5),o=i(r),a=e.ResponseRow=void 0;e.ResponseRow=a=function(t,e){var n=(0,o["default"])(e);return n.getAt=function(t){return this[t]},n.setIdCombination=function(t){n.idCombination=t},n.getNames=function(e,i){return n.idCombination||n.setIdCombination(new t.api.ResponseRowIdCombination(t,n)),n.idCombination.getNames(e,i)},n.toFloat=function(t){n[t]=parseFloat(n[t])},n.getRowHtml=function(t,e,i,r){e=e?' class="'+e+'"':"",i=i?' class="'+i+'"':"";var o=' style="padding:0 5px"';return"<tr"+e+">"+n.getNames(t,r).map(function(t){return"<td"+i+o+">"+t+"</td>"}).join("")+"</tr>"},n.idCombination,n}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=e.Sorting=void 0;e.Sorting=n=function(t,e){var n=this;n.id=e.id||null,n.direction=e.direction||null,n.emptyFirst=e.emptyFirst||!1;var i={asc:"DESC",desc:"ASC"};n.getKeyMap=function(){return i}},n.prototype.toggleDirection=function(){this.direction=this.getKeyMap()[(this.direction||"").toLowerCase()]}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=e.ChartConfig=void 0;e.ChartConfig=n=function(){var t=this;t.client={series:"series",category:"category",filter:"filter",column:"column",stackedcolumn:"stackedcolumn",bar:"bar",stackedbar:"stackedbar",line:"line",area:"area",pie:"pie",radar:"radar",gauge:"gauge"},t.server={column:"COLUMN",stackedcolumn:"STACKED_COLUMN",bar:"BAR",stackedbar:"STACKED_BAR",line:"LINE",area:"AREA",pie:"PIE",radar:"RADAR",gauge:"GAUGE"},t.consts={domain:"domain_",targetLine:"targetline_",baseLine:"baseline_",trendLine:"trendline_"},t.style={inset:30,fontFamily:"Arial,Sans-serif,Roboto,Helvetica,Consolas"},t.theme={dv1:["#94ae0a","#1d5991","#a61120","#ff8809","#7c7474","#a61187","#ffd13e","#24ad9a","#a66111","#414141","#4500c4","#1d5700"]},t.c2s={},t.s2c={},function(){Object.keys(t.client).forEach(function(e){t.c2s[t.client[e]]=t.server[e]}),Object.keys(t.server).forEach(function(e){t.s2c[t.server[e]]=t.client[e]})}()}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.DimensionConfig=void 0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o=n(5),a=i(o),s=n(7),l=i(s),u=e.DimensionConfig=void 0;e.DimensionConfig=u=function(){var t,e=this,n={},i={dx:"data",co:"category",pe:"period",ou:"organisationUnit"},o="aggregated_values";e.dataType={aggregated_values:"AGGREGATED_VALUES",individual_cases:"EVENTS"},e.dataTypeUrl={AGGREGATED_VALUES:"/events/aggregate",EVENTS:"/events/query"},e.valueType={numeric_types:["NUMBER","UNIT_INTERVAL","PERCENTAGE","INTEGER","INTEGER_POSITIVE","INTEGER_NEGATIVE","INTEGER_ZERO_OR_POSITIVE"],text_types:["TEXT","LONG_TEXT","LETTER","PHONE_NUMBER","EMAIL"],boolean_types:["BOOLEAN","TRUE_ONLY"],date_types:["DATE","DATETIME"],aggregate_aggregatable_types:["BOOLEAN","TRUE_ONLY","TEXT","LONG_TEXT","LETTER","INTEGER","INTEGER_POSITIVE","INTEGER_NEGATIVE","INTEGER_ZERO_OR_POSITIVE","NUMBER","UNIT_INTERVAL","PERCENTAGE","COORDINATE"],tracker_aggregatable_types:["NUMBER","UNIT_INTERVAL","PERCENTAGE","INTEGER","INTEGER_POSITIVE","INTEGER_NEGATIVE","INTEGER_ZERO_OR_POSITIVE","BOOLEAN","TRUE_ONLY"]};var s=function(){n=r(n,{data:{value:"data",name:t.get("data")||"Data",id:"dx",dimensionName:"dx",objectName:"dx"},category:{name:t.get("assigned_categories")||"Assigned categories",id:"co",dimensionName:"co",objectName:"co"},indicator:{value:"indicator",name:t.get("indicators")||"Indicators",dimensionName:"dx",objectName:"in"},dataElement:{value:"dataElement",name:t.get("data_elements")||"Data elements",dimensionName:"dx",objectName:"de"},operand:{value:"operand",name:t.get("operand")||"Operand",dimensionName:"dx",objectName:"dc"},dataSet:{value:"dataSet",name:t.get("data_sets")||"Data sets",dimensionName:"dx",objectName:"ds"},eventDataItem:{value:"eventDataItem",name:t.get("event_data_items")||"Event data items",dimensionName:"dx",objectName:"di"},programIndicator:{value:"programIndicator",name:t.get("program_indicators")||"Program indicators",dimensionName:"dx",objectName:"pi"},period:{value:"period",name:t.get("periods")||"Periods",id:"pe",dimensionName:"pe",objectName:"pe"},fixedPeriod:{value:"period"},relativePeriod:{value:"relativePeriod"},startEndDate:{value:"dates",name:t.get("start_end_dates")},organisationUnit:{value:"organisationUnit",name:t.get("i18n.organisation_units")||"Organisation units",id:"ou",dimensionName:"ou",objectName:"ou"},dimension:{value:"dimension"},value:{value:"value"}})};e.init=function(){s()},e.add=function(t){(0,a["default"])(t).forEach(function(t){t.dimensionName=t.dimensionName||t.id,t.objectName=t.objectName||t.id,n[t.id]=t})},e.get=function(t){var e=i;return t?n[t]||n[e[t]]:n},e.getDimensionNameMap=function(){var t={};for(var e in n)n.hasOwnProperty(e)&&(t[n[e].dimensionName]=n[e]);return t},e.getObjectNameMap=function(){var t={};for(var e in n)n.hasOwnProperty(e)&&(t[n[e].objectName]=n[e]);return t},e.getDefaultDataType=function(){return e.dataType[o]},e.setI18nManager=function(e){t=e}},u.prototype.applyTo=function(t){var e=this;(0,l["default"])(t).forEach(function(t){t.dimensionConfig=e})}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.OptionConfig=void 0;var r=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=n(7),a=i(o),s=n(11),l=i(s),u=n(77),d=i(u),c=e.OptionConfig=void 0;e.OptionConfig=c=function(){var t,e,n,i,r,o,a,s,u,d,c,h,p,f,g=this,m=function(){e={comfortable:{index:1,id:"COMFORTABLE",name:t.get("comfortable")||"Comfortable"},normal:{index:2,id:"NORMAL",name:t.get("normal")||"Normal"},compact:{index:3,id:"COMPACT",name:t.get("compact")||"Compact"}}},y=function(){n={large:{index:1,id:"LARGE",name:t.get("large")||"Large"},normal:{index:2,id:"NORMAL",name:t.get("normal")||"Normal"},small:{index:3,id:"SMALL",name:t.get("small")||"Small"}}},v=function(){i={none:{index:1,id:"NONE",name:t.get("none")||"None",value:""},space:{index:2,id:"SPACE",name:t.get("space")||"Space",value:"&nbsp;"},comma:{index:3,id:"COMMA",name:t.get("comma")||"Comma",value:","}}},x=function(){r={def:{index:1,id:"DEFAULT",name:t.get("by_data_element")||"By data element"},count:{index:2,id:"COUNT",name:t.get("count")||"Count"},avg:{index:3,id:"AVERAGE",name:t.get("average")||"Average"},"avg-sum-org-unit":{index:3,id:"AVERAGE_SUM_ORG_UNIT",name:t.get("average_sum_org_unit")||"Average (sum in org unit hierarchy)"},sum:{index:3,id:"SUM",name:t.get("sum")||"Sum"},stddev:{index:4,id:"STDDEV",name:t.get("stddev")||"Standard deviation"},variance:{index:5,id:"VARIANCE",name:t.get("variance")||"Variance"},min:{index:6,id:"MIN",name:t.get("min")||"Min"},max:{index:7,id:"MAX",name:t.get("max")||"Max"},last:{index:8,id:"LAST",name:t.get("last")||"Last value"},"last-average-org-unit":{index:9,id:"LAST_AVERAGE_ORG_UNIT",name:t.get("last_average_org_unit")||"Last value (average in org unit hierarchy)"}}},b=function(){o={value:{index:1,id:"VALUE",name:t.get("value")||"Value"},percentofrow:{index:2,id:"ROW_PERCENTAGE",name:t.get("percent_of_row")||"Percentage of row"},percentofcolumn:{index:3,id:"COLUMN_PERCENTAGE",name:t.get("percent_of_column")||"Percentage of column"}}},A=function(){a={event:{index:1,id:"EVENT",name:t.get("event")||"Event"},enrollment:{index:2,id:"ENROLLMENT",name:t.get("enrollment")||"Enrollment"},trackedentityinstance:{index:3,id:"TRACKED_ENTITY_INSTANCE",name:t.get("tracked_entity_instance")||"Tracked entity instance"}}},w=function(){s={def:{index:1,id:"DEFAULT",name:t.get("show_all_data")||"Show all data"}}},S=function(){u={reportingRates:{index:1,id:"REPORTING_RATE",name:t.get("reporting_rates")||"Reporting rates"},reportingRatesOnTime:{index:2,id:"REPORTING_RATE_ON_TIME",name:t.get("reporting_rates_on_time")||"Reporting rates on time"},actualReports:{index:3,id:"ACTUAL_REPORTS",name:t.get("actual_reports")||"Actual reports"},actualReportsOnTime:{index:4,id:"ACTUAL_REPORTS_ON_TIME",name:t.get("actual_reports_on_time")||"Actual reports on time"},expectedReports:{index:5,id:"EXPECTED_REPORTS",name:t.get("expected_reports")||"Expected reports"}}},E=function(){d={fill:{index:2,id:"FILL",name:t.get("background_color")||"Background color"},text:{index:3,id:"TEXT",name:t.get("text_color")||"Text color"}}},C=function(){c={fixed:{index:1,id:"FIXED",name:t.get("all_data_items")||"All"},by_data_item:{index:2,id:"BY_DATA_ITEM",name:t.get("by_data_item")||"By data item"}}},P=function(){h={def:{index:1,id:"DEFAULT",name:t.get("all")||"All"},active:{index:2,id:"ACTIVE",name:t.get("active")||"Active"},completed:{index:3,id:"COMPLETED",name:t.get("completed")||"Completed"},cancelled:{index:4,id:"CANCELLED",name:t.get("cancelled")||"Cancelled"}}},M=function(){p={def:{index:1,id:"DEFAULT",name:t.get("all")||"All"},active:{index:2,id:"ACTIVE",name:t.get("active")||"Active"},completed:{index:3,id:"COMPLETED",name:t.get("completed")||"Completed"},scheduled:{index:4,id:"SCHEDULE",name:t.get("scheduled")||"Scheduled"},overdue:{index:5,id:"OVERDUE",name:t.get("overdue")||"Overdue"},skipped:{index:6,id:"SKIPPED",name:t.get("skipped")||"Skipped"}}},T=function(){f={eventdate:{index:1,id:"EVENT_DATE",name:t.get("event_date")||"Event date"},created:{index:2,id:"CREATED",name:t.get("created_date")||"Created date"},lastupdated:{index:3,id:"LAST_UPDATED",name:t.get("last_updated")||"Last updated date"},enrollmentdate:{index:4,id:"ENROLLMENT_DATE",name:t.get("enrollment_date")||"Enrollment date"},incidentdate:{index:5,id:"INCIDENT_DATE",name:t.get("incident_date")||"Incident date"},duedate:{index:6,id:"DUE_DATE",name:t.get("due_date")||"Due date"},completeddate:{index:7,id:"COMPLETED_DATE",name:t.get("completed_date")||"Completed date"}}},k=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(t[n]);return(0,l["default"])(e,"ASC","index"),e};g.init=function(){m(),y(),v(),x(),b(),A(),w(),S(),E(),C(),P(),M(),T()},g.getDisplayDensity=function(t){return t?e[t]:e},g.getFontSize=function(t){return t?n[t]:n},g.getDigitGroupSeparator=function(t){return t?i[t]:i},g.getAggregationType=function(t){return t?r[t]:r},g.getNumberType=function(t){return t?o[t]:o},g.getOutputType=function(t){return t?a[t]:a},g.getDataApprovalLevel=function(t){return t?s[t]:s},g.getDataSetMetric=function(t){return t?u[t]:u},g.getLegendDisplayStyle=function(t){return t?d[t]:d},g.getLegendDisplayStrategy=function(t){return t?c[t]:c},g.getProgramStatus=function(t){return t?h[t]:h},g.getEventStatus=function(t){return t?p[t]:p},g.getTimeField=function(t){return t?f[t]:f},g.getDisplayDensityRecords=function(){return k(e)},g.getFontSizeRecords=function(){return k(n)},g.getDigitGroupSeparatorRecords=function(){return k(i)},g.getAggregationTypeRecords=function(){return k(r)},g.getNumberTypeRecords=function(){return k(o)},g.getOutputTypeRecords=function(){return k(a)},g.getDataSetMetricRecords=function(){return k(u)},g.getLegendDisplayStyleRecords=function(){return k(d)},g.getLegendDisplayStrategyRecords=function(){return k(c)},g.getProgramStatusRecords=function(){return k(h)},g.getEventStatusRecords=function(){return k(p)},g.getTimeFieldRecords=function(){return k(f)},g.getDigitGroupSeparatorIdMap=function(){var t={};for(var e in i)i.hasOwnProperty(e)&&(t[i[e].id]=i[e]);return t},g.setI18nManager=function(e){t=e}},c.prototype.applyTo=function(t){var e=this;(0,a["default"])(t).forEach(function(t){t.optionConfig=e})},c.prototype.getDigitGroupSeparatorValueById=function(t){var e=this,n=e.getDigitGroupSeparatorIdMap()[t];return n?n.value:""},c.prototype.prettyPrint=function(t,e,n){var i=this,o=i.getDigitGroupSeparator("space").id,a=i.getDigitGroupSeparator("none").id,s=i.getDigitGroupSeparator("none").value;if(e=e||o,e===a)return t;var l=(""+t).split("."),u=r(l,2),c=u[0],h=u[1],p=c.replace(/\B(?=(\d{3})+(?!\d))/g,i.getDigitGroupSeparatorValueById(e)||s)+(h?"."+h:"");return n&&(p=(0,d["default"])(p,"&nbsp;"," ")),p}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.PeriodConfig=void 0;var r=n(7),o=i(r),a=e.PeriodConfig=void 0;e.PeriodConfig=a=function(){var t,e,n=this,i=function(){e={Daily:t.get("daily")||"Daily",Weekly:t.get("weekly")||"Weekly",WeeklyWednesday:t.get("weekly_wednesday")||"Weekly (Start Wednesday)",WeeklyThursday:t.get("weekly_thursday")||"Weekly (Start Thursday)",WeeklySaturday:t.get("weekly_saturday")||"Weekly (Start Saturday)",WeeklySunday:t.get("weekly_sunday")||"Weekly (Start Sunday)",Monthly:t.get("monthly")||"Monthly",BiMonthly:t.get("bimonthly")||"BiMonthly",Quarterly:t.get("quarterly")||"Quarterly",SixMonthly:t.get("sixmonthly")||"SixMonthly",SixMonthlyApril:t.get("sixmonthly_april")||"SixMonthly April",Yearly:t.get("yearly")||"Yearly",FinancialOct:t.get("financial_oct")||"Financial year (Start October)",FinancialJuly:t.get("financial_july")||"Financial year (Start July)",FinancialApril:t.get("financial_april")||"Financial year (Start April)"}};n.init=function(){i()},n.getPeriodTypeRecords=function(){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({id:n,name:e[n]});return t},n.setI18nManager=function(e){t=e}},a.prototype.applyTo=function(t){var e=this;(0,o["default"])(t).forEach(function(t){t.periodConfig=e})}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.UiConfig=void 0;var r=n(7),o=i(r),a=e.UiConfig=void 0;e.UiConfig=a=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"aggregate",this),e={aggregate:{west_width:424,west_fieldset_width:420,west_width_padding:2,west_fill:2,west_fill_accordion_indicator:81,west_fill_accordion_dataelement:81,west_fill_accordion_dataset:81,west_fill_accordion_eventdataitem:81,west_fill_accordion_programindicator:81,west_fill_accordion_period:340,west_fill_accordion_organisationunit:58,west_fill_accordion_group:31,west_maxheight_accordion_indicator:400,west_maxheight_accordion_dataelement:400,west_maxheight_accordion_dataset:400,west_maxheight_accordion_period:513,west_maxheight_accordion_organisationunit:900,west_maxheight_accordion_group:340,west_maxheight_accordion_options:449,west_scrollbarheight_accordion_indicator:300,west_scrollbarheight_accordion_dataelement:300,west_scrollbarheight_accordion_dataset:300,west_scrollbarheight_accordion_period:450,west_scrollbarheight_accordion_organisationunit:450,west_scrollbarheight_accordion_group:300,east_tbar_height:31,east_gridcolumn_height:30,form_label_width:55,window_favorite_ypos:100,window_confirm_width:250,window_share_width:500,grid_favorite_width:420,grid_row_height:27,treepanel_minheight:135,treepanel_maxheight:400,treepanel_fill_default:310,treepanel_toolbar_menu_width_group:140,treepanel_toolbar_menu_width_level:120,multiselect_minheight:100,multiselect_maxheight:250,multiselect_fill_default:345,multiselect_fill_reportingrates:315},tracker:{west_width:452,west_fill:2,west_fill_accordion_indicator:56,west_fill_accordion_dataelement:59,west_fill_accordion_dataset:31,west_fill_accordion_period:365,west_fill_accordion_organisationunit:58,west_maxheight_accordion_indicator:450,west_maxheight_accordion_dataset:350,west_maxheight_accordion_period:405,west_maxheight_accordion_organisationunit:500,west_scrollbarheight_accordion_indicator:300,west_scrollbarheight_accordion_dataset:250,west_scrollbarheight_accordion_period:405,west_scrollbarheight_accordion_organisationunit:350,east_tbar_height:31,east_gridcolumn_height:30,form_label_width:55,window_favorite_ypos:100,window_confirm_width:250,window_share_width:500,grid_favorite_width:420,grid_row_height:27,treepanel_minheight:135,treepanel_maxheight:400,treepanel_fill_default:310,treepanel_toolbar_menu_width_group:140,treepanel_toolbar_menu_width_level:120,multiselect_minheight:100,multiselect_maxheight:250,multiselect_fill_default:345,multiselect_fill_reportingrates:315}};t.checkout=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;$.extend(t,e[n])},function(){t.checkout()}()},a.prototype.applyTo=function(t){var e=this;(0,o["default"])(t).forEach(function(t){t.uiConfig=e})}},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.constants=e.ux=e.override=e.util=e.init=e.ui=e.config=e.manager=e.table=e.api=e.StatusBar=e.LimitContainer=e.GroupSetContainer=e.DataElementStringContainer=e.DataElementIntegerContainer=e.DataElementDateContainer=e.DataElementBooleanContainer=e.extChartOverrides=e.extOverrides=e.Plugin=e.SimpleRegression=e.categoryOptionGroupSetsInit=e.userFavoritesInit=e.dataApprovalLevelsInit=e.dimensionsInit=e.optionSetsInit=e.legendSetsInit=e.organisationUnitLevelsInit=e.rootNodesInit=e.isAdminInit=e.authViewUnapprovedDataInit=e.i18nInit=e.WestRegionTrackerItems=e.WestRegionAggregateItems=e.IntegrationButton=e.ChartTypeToolbar=e.ChartDownloadButtonItems=e.GridHeaders=e.AboutWindow=e.PluginItem=e.InterpretationItem=e.InterpretationWindow=e.FavoriteButton=e.FavoriteWindow=e.EastRegion=e.NorthRegion=e.Viewport=e.ChartConfig=e.UiConfig=e.OptionConfig=e.PeriodConfig=e.DimensionConfig=e.TableManager=e.InstanceManager=e.UiManager=e.IndexedDbManager=e.SessionStorageManager=e.RequestManager=e.I18nManager=e.CalendarManager=e.DateManager=e.AppManager=e.EventDataTable=e.PivotTable=e.PivotTableAxis=e.Sorting=e.Response=e.ResponseRowIdCombination=e.ResponseRow=e.ResponseHeader=e.Request=e.Period=e.Layout=e.Axis=e.Dimension=e.Record=void 0,n(96),n(98);var o=n(123),a=n(63),s=n(120),l=n(121),u=n(64),d=n(124),c=n(126),h=n(127),p=n(65),f=n(125),g=n(128),m=n(66),y=n(158),v=n(157),x=n(20),b=r(x),A=n(146),w=n(28),S=n(147),E=n(148),C=n(151),P=n(152),M=n(149),T=n(154),k=n(150),I=n(153),_=n(130),O=n(132),D=n(131),R=n(133),L=n(129),B=n(173),N=n(169),U=n(68),j=n(43),F=n(69),V=n(30),H=n(71),W=n(73),z=n(67),G=n(70),Y=n(160),X=n(161),q=n(166),K=n(174),Q=n(175),J=n(139),Z=n(135),$=n(140),tt=n(144),et=n(143),nt=n(141),it=n(142),rt=n(138),ot=n(137),at=n(145),st=n(136),lt=n(177),ut=n(176),dt=n(179),ct=i(dt),ht=n(156),pt=n(155),ft=n(181),gt=n(182),mt=n(183),yt=n(184),vt=n(185),xt=n(186),bt=n(187);e.Record=o.Record,e.Dimension=a.Dimension,e.Axis=s.Axis,e.Layout=l.Layout,e.Period=u.Period,e.Request=d.Request,e.ResponseHeader=c.ResponseHeader,e.ResponseRow=h.ResponseRow,e.ResponseRowIdCombination=p.ResponseRowIdCombination,e.Response=f.Response,e.Sorting=g.Sorting,e.PivotTableAxis=m.PivotTableAxis,e.PivotTable=y.PivotTable,e.EventDataTable=v.EventDataTable,e.AppManager=A.AppManager,e.DateManager=w.DateManager,e.CalendarManager=S.CalendarManager,e.I18nManager=E.I18nManager,e.RequestManager=C.RequestManager,e.SessionStorageManager=P.SessionStorageManager,e.IndexedDbManager=M.IndexedDbManager,e.UiManager=T.UiManager,e.InstanceManager=k.InstanceManager,e.TableManager=I.TableManager,e.DimensionConfig=_.DimensionConfig,e.PeriodConfig=O.PeriodConfig,e.OptionConfig=D.OptionConfig,e.UiConfig=R.UiConfig,e.ChartConfig=L.ChartConfig,e.Viewport=B.Viewport,e.NorthRegion=N.NorthRegion,e.EastRegion=U.EastRegion,e.FavoriteWindow=j.FavoriteWindow,e.FavoriteButton=F.FavoriteButton,e.InterpretationWindow=V.InterpretationWindow,e.InterpretationItem=H.InterpretationItem,e.PluginItem=W.PluginItem,e.AboutWindow=z.AboutWindow,e.GridHeaders=G.GridHeaders,e.ChartDownloadButtonItems=Y.ChartDownloadButtonItems,e.ChartTypeToolbar=X.ChartTypeToolbar,e.IntegrationButton=q.IntegrationButton,e.WestRegionAggregateItems=K.WestRegionAggregateItems,e.WestRegionTrackerItems=Q.WestRegionTrackerItems,e.i18nInit=J.i18nInit,e.authViewUnapprovedDataInit=Z.authViewUnapprovedDataInit,e.isAdminInit=$.isAdminInit,e.rootNodesInit=tt.rootNodesInit,e.organisationUnitLevelsInit=et.organisationUnitLevelsInit,e.legendSetsInit=nt.legendSetsInit,e.optionSetsInit=it.optionSetsInit,e.dimensionsInit=rt.dimensionsInit,e.dataApprovalLevelsInit=ot.dataApprovalLevelsInit,e.userFavoritesInit=at.userFavoritesInit,e.categoryOptionGroupSetsInit=st.categoryOptionGroupSetsInit,e.SimpleRegression=lt.SimpleRegression,e.Plugin=ut.Plugin,e.extOverrides=ht.extOverrides,e.extChartOverrides=pt.extChartOverrides,e.DataElementBooleanContainer=ft.DataElementBooleanContainer,e.DataElementDateContainer=gt.DataElementDateContainer,e.DataElementIntegerContainer=mt.DataElementIntegerContainer,e.DataElementStringContainer=yt.DataElementStringContainer,e.GroupSetContainer=vt.GroupSetContainer,e.LimitContainer=xt.LimitContainer,e.StatusBar=bt.StatusBar;e.api={Record:o.Record,Dimension:a.Dimension,Axis:s.Axis,Layout:l.Layout,Period:u.Period,Request:d.Request,ResponseHeader:c.ResponseHeader,ResponseRow:h.ResponseRow,ResponseRowIdCombination:p.ResponseRowIdCombination,Response:f.Response,Sorting:g.Sorting},e.table={PivotTableAxis:m.PivotTableAxis,PivotTable:y.PivotTable,EventDataTable:v.EventDataTable},e.manager={AppManager:A.AppManager,DateManager:w.DateManager,CalendarManager:S.CalendarManager,I18nManager:E.I18nManager,RequestManager:C.RequestManager,SessionStorageManager:P.SessionStorageManager,IndexedDbManager:M.IndexedDbManager,UiManager:T.UiManager,InstanceManager:k.InstanceManager,TableManager:I.TableManager},e.config={DimensionConfig:_.DimensionConfig,PeriodConfig:O.PeriodConfig,OptionConfig:D.OptionConfig,UiConfig:R.UiConfig,ChartConfig:L.ChartConfig},e.ui={Viewport:B.Viewport,NorthRegion:N.NorthRegion,EastRegion:U.EastRegion,FavoriteWindow:j.FavoriteWindow,FavoriteButton:F.FavoriteButton,InterpretationWindow:V.InterpretationWindow,InterpretationItem:H.InterpretationItem,PluginItem:W.PluginItem,AboutWindow:z.AboutWindow,GridHeaders:G.GridHeaders,ChartDownloadButtonItems:Y.ChartDownloadButtonItems,ChartTypeToolbar:X.ChartTypeToolbar,IntegrationButton:q.IntegrationButton,WestRegionAggregateItems:K.WestRegionAggregateItems,WestRegionTrackerItems:Q.WestRegionTrackerItems},e.init={i18nInit:J.i18nInit,authViewUnapprovedDataInit:Z.authViewUnapprovedDataInit,isAdminInit:$.isAdminInit,rootNodesInit:tt.rootNodesInit,organisationUnitLevelsInit:et.organisationUnitLevelsInit,legendSetsInit:nt.legendSetsInit,optionSetsInit:it.optionSetsInit,dimensionsInit:rt.dimensionsInit,dataApprovalLevelsInit:ot.dataApprovalLevelsInit,userFavoritesInit:at.userFavoritesInit,categoryOptionGroupSetsInit:st.categoryOptionGroupSetsInit},e.util={SimpleRegression:lt.SimpleRegression,Plugin:ut.Plugin,dom:ct},e.override={extOverrides:ht.extOverrides,extChartOverrides:pt.extChartOverrides},e.ux={DataElementBooleanContainer:ft.DataElementBooleanContainer,DataElementDateContainer:gt.DataElementDateContainer,DataElementIntegerContainer:mt.DataElementIntegerContainer,DataElementStringContainer:yt.DataElementStringContainer,GroupSetContainer:vt.GroupSetContainer,LimitContainer:xt.LimitContainer,StatusBar:bt.StatusBar},e.constants={PivotTableConstants:b["default"]}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=e.authViewUnapprovedDataInit=void 0;e.authViewUnapprovedDataInit=n=function(t){var e=t.appManager,n=t.requestManager;return{baseUrl:e.getApiPath()+"/me/authorization/F_VIEW_UNAPPROVED_DATA",success:function(t){e.viewUnapprovedData=t,n.ok(this)}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=e.categoryOptionGroupSetsInit=void 0;e.categoryOptionGroupSetsInit=n=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=t.appManager,i=t.requestManager,r=(t.dimensionConfig,n.getApiPath()),o=n.getDisplayPropertyUrl();return{baseUrl:r+"/categoryOptionGroupSets.json",params:["fields=id,"+o+",dataDimensionType","paging=false"].concat(e),success:function(t){n.addCategoryOptionGroupSets(t.categoryOptionGroupSets),i.ok(this)}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=e.dataApprovalLevelsInit=void 0;e.dataApprovalLevelsInit=n=function(t){var e=t.appManager,n=t.requestManager,i=e.getApiPath();e.getDisplayPropertyUrl();return{baseUrl:i+"/dataApprovalLevels.json",params:["order=level:asc","fields=id,displayName~rename(name),level","paging=false"],success:function(t){e.addDataApprovalLevels(t.dataApprovalLevels),n.ok(this)}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=e.dimensionsInit=void 0;e.dimensionsInit=n=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=t.appManager,i=t.requestManager,r=t.dimensionConfig,o=n.getApiPath(),a=n.getDisplayPropertyUrl();return{baseUrl:o+"/dimensions.json",params:["fields=id,"+a+",dimensionType","paging=false"].concat(e),success:function(t){n.addDimensions(t.dimensions),r.add(t.dimensions),i.ok(this)}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=e.i18nInit=void 0;e.i18nInit=n=function(t){var e=t.appManager,n=t.requestManager,i=t.i18nManager,r=e.getUiLocale(),o=e.isUiLocaleDefault(),a=e.defaultUiLocale;return{baseUrl:"i18n/i18n_app.properties",type:"ajax",dataType:"text",headers:{Accept:"text/plain; charset=utf-8"},success:function(t){var e=this;i.add(dhis2.util.parseJavaProperties(t)),o?n.ok(e):$.ajax({url:"i18n/i18n_app_"+r+".properties",success:function(t){i.add(dhis2.util.parseJavaProperties(t))},error:function(){console.log("(i18n) No translations found for system locale ("+r+")")},complete:function(){n.ok(e)}})},error:function(){$.ajax({url:"i18n/i18n_app_"+r+".properties",success:function(t){i.add(dhis2.util.parseJavaProperties(t))},error:function(){alert("(i18n) No translations found for system locale ("+r+") or default locale ("+a+")")},complete:function(){n.ok(this)}})}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=e.isAdminInit=void 0;e.isAdminInit=n=function(t){var e=t.appManager,n=t.requestManager;e.getApiPath();return{baseUrl:e.getPath()+"/api/me/authorization/ALL",success:function(t){e.isAdmin=t,n.ok(this)}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=e.legendSetsInit=void 0;e.legendSetsInit=n=function(t){var e=t.appManager,n=t.requestManager,i=e.getApiPath();e.getDisplayPropertyUrl();return{baseUrl:i+"/legendSets.json",params:["fields=id,displayName~rename(name),legends[id,displayName~rename(name),startValue,endValue,color]","paging=false"],success:function(t){e.addLegendSets(t.legendSets),n.ok(this)}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.optionSetsInit=void 0;var r=n(2),o=i(r),a=e.optionSetsInit=void 0;e.optionSetsInit=a=function(t){var e=this,n=t.appManager,i=t.requestManager,r=t.indexedDbManager,a=t.api.Request;n.getApiPath(),n.getDisplayPropertyUrl();return{baseUrl:".",type:"ajax",dataType:"text",disableCaching:!1,success:function(){r.open().done(function(){r.getKeys("optionSets").done(function(s){0===s.length?new a(t,{baseUrl:n.getApiPath()+"/optionSets.json",params:["fields=id,name,version,options[code,name]","paging=false"],success:function(t){var n=t.optionSets;n.length?r.setAll("optionSets",n).done(function(){i.ok(e)}):i.ok(e)}}).run():new a(t,{baseUrl:n.getApiPath()+"/optionSets.json",params:["fields=id,version","paging=false"],success:function(s){var l=s.optionSets||[],u=[],d=[],c=0,h=function(){if(++c===l.length){if(!u.length)return void i.ok(e);for(var o=0;o<u.length;o++)d.push("filter=id:eq:"+u[o]);new a(t,{baseUrl:n.getApiPath()+"/optionSets.json",params:d.concat(["fields=id,name,version,options[code,name]","paging=false"]),success:function(t){var n=t.optionSets;r.setAll("optionSets",n).done(function(){i.ok(e)})}}).run()}},p=function(t){r.get("optionSets",t.id).done(function(e){(0,o["default"])(e)&&e.version===t.version||u.push(t.id),h()})};l.length?l.forEach(function(t){return p(t)}):i.ok(e)}}).run()})})}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=e.organisationUnitLevelsInit=void 0;e.organisationUnitLevelsInit=n=function(t){var e=t.appManager,n=t.requestManager,i=e.getApiPath();e.getDisplayPropertyUrl();return{baseUrl:i+"/organisationUnitLevels.json",params:["fields=id,displayName~rename(name),level","paging=false"],success:function(t){e.addOrganisationUnitLevels(t.organisationUnitLevels),t.organisationUnitLevels.length||alert("No organisation unit levels found"),n.ok(this)}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=e.rootNodesInit=void 0;e.rootNodesInit=n=function(t){var e=t.appManager,n=t.requestManager,i=e.getApiPath(),r=e.getDisplayPropertyUrl();return{baseUrl:i+"/organisationUnits.json",params:["userDataViewFallback=true","fields=id,"+r+",children[id,"+r+"]","paging=false"],success:function(t){e.addRootNodes(t.organisationUnits),n.ok(this)}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0
});var n=e.userFavoritesInit=void 0;e.userFavoritesInit=n=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=t.appManager,i=t.requestManager,r=t.instanceManager,o=n.getApiPath(),a=n.userAccount.userCredentials.username,s=r.dataStatisticsEventType;return{baseUrl:o+"/dataStatistics/favorites.json",params:["eventType="+s,"username="+a,"pageSize="+e],success:function(t){n.userFavorites=t,i.ok(this)}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.AppManager=void 0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},a=n(1),s=i(a),l=n(24),u=i(l),d=n(25),c=i(d),h=n(2),p=i(h),f=n(3),g=i(f),m=n(77),y=i(m),v=n(10),x=i(v),b=n(5),A=i(b),w=n(11),S=i(w),E=n(7),C=i(E),P=n(22),M=i(P),T=e.AppManager=void 0;e.AppManager=T=function(t){var e=this;e.refs=(0,p["default"])(t)?t:{},e.defaultUiLocale="en",e.defaultDisplayProperty="displayName",e.defaultAnalyticsDisplayProperty="name",e.defaultIndexedDb="dhis2",e.rootNodeId="root",e.defaultRequestHeaders={Accept:"application/json","Content-Type":"application/json"},e.defaultAnalysisFields=["*","interpretations[*,user[id,displayName,userCredentials[username]],likedBy[id,displayName],comments[id,lastUpdated,text,user[id,displayName,userCredentials[username]]]]","columns[dimension,filter,legendSet[id],items[dimensionItem~rename(id),dimensionItemType,$]]","rows[dimension,filter,legendSet[id],items[dimensionItem~rename(id),dimensionItemType,$]]","filters[dimension,filter,legendSet[id],items[dimensionItem~rename(id),dimensionItemType,$]]","access","userGroupAccesses","publicAccess","displayDescription","user[displayName,userCredentials[username]]","!href","!rewindRelativePeriods","!userOrganisationUnit","!userOrganisationUnitChildren","!userOrganisationUnitGrandChildren","!externalAccess","!relativePeriods","!columnDimensions","!rowDimensions","!filterDimensions","!organisationUnitGroups","!itemOrganisationUnitGroups","!indicators","!dataElements","!dataElementOperands","!dataElementGroups","!dataSets","!periods","!organisationUnitLevels","!organisationUnits"],e.displayPropertyMap={name:"displayName",displayName:"displayName",shortName:"displayShortName",displayShortName:"displayShortName"},e.userIdDestroyCacheKeys=["USER_ORGUNIT","USER_ORGUNIT_CHILDREN","USER_ORGUNIT_GRANDCHILDREN"],e.ignoreResponseHeaders=["dy","value","psi","ps","eventdate","longitude","latitude","ouname","oucode"],e.appName,e.sessionName,e.manifest,e.env,e.systemInfo,e.systemSettings,e.userAccount,e.calendar,e.periodGenerator,e.viewUnapprovedData,e.rootNodes=[],e.organisationUnitLevels=[],e.dimensions=[],e.categoryOptionGroupSets=[],e.dimensions=[],e.legendSets=[],e.dataApprovalLevels=[],e.userFavorites=[],e.path,e.dateFormat,e.relativePeriod,e.uiLocale,e.displayProperty,e.displayPropertyUrl,e.analyticsDisplayProperty,e.analysisFields,e.legendSetMap,e.manifestVersion,e.apiVersion,e.getUrlParam=function(t){var e="",n=window.location.href;if(n.indexOf("?")>-1)for(var i=n.substr(n.indexOf("?")+1),i=i.split("&"),r=0;r<i.length;r++)if(i[r].indexOf("=")>-1){var o=i[r].split("=");if(o[0].toLowerCase()===t){e=o[1];break}}return unescape(e)},e.getEventHandlerArray=function(){var t=[];return t.run=function(e){t.forEach(function(t){t(e.cmp,e.width,e.height,e.eOpts)})},t}},T.prototype.init=function(t){var e=this,n=function(){new e.refs.api.Request(e.refs,{baseUrl:"manifest.webapp",type:"json",success:function(t){e.manifest=t,e.env="production",e.setAuth(),e.logVersion(),i()}}).run()},i=function(){new e.refs.api.Request(e.refs,{baseUrl:e.getApiPath()+"/system/info.json",type:"json",success:function(t){e.systemInfo=t,e.path=t.contextPath,r()}}).run()},r=function(){new e.refs.api.Request(e.refs,{baseUrl:e.getApiPath()+"/systemSettings.json",type:"json",params:["key=keyCalendar","key=keyDateFormat","key=keyAnalysisRelativePeriod","key=keyHideUnapprovedDataInAnalytics","key=keyAnalysisDigitGroupSeparator","key=keyIgnoreAnalyticsApprovalYearThreshold"],success:function(t){e.systemSettings=t,o()}}).run()},o=function(){new e.refs.api.Request(e.refs,{baseUrl:e.getApiPath()+"/me.json",type:"json",params:["fields=id,firstName,surname,userCredentials[username],settings"],success:function(n){e.userAccount=n;var i=e.refs.calendarManager;i.setBaseUrl(e.getPath()),i.setDateFormat(e.getDateFormat()),i.init(e.systemSettings.keyCalendar),t&&t()}}).run()};n()},T.prototype.logVersion=function(){if(console&&this.manifest&&this.manifest.version){var t="v"+this.manifest.version,e=this.manifest.name||null,n=(0,x["default"])([e,t]).join(" "),i=console.info||console.log;i.call(console,n)}},T.prototype.getPath=function(){var t=this.manifest?this.manifest.activities.dhis:{};return this.path?this.path:"production"===this.env?t.href:t.devHref||t.href},T.prototype.getManifestFullVersionNumber=function(){var t=this;return t.manifest&&(0,c["default"])(parseInt(t.manifest.version))?parseInt(t.manifest.version):t.manifestVersion||void 0},T.prototype.getApiVersion=function(){return this.apiVersion},T.prototype.getDateFormat=function(){return this.dateFormat?this.dateFormat:this.dateFormat=(0,g["default"])(this.systemSettings.keyDateFormat)?this.systemSettings.keyDateFormat.toLowerCase():"yyyy-mm-dd"},T.prototype.getRelativePeriod=function(){return this.relativePeriod?this.relativePeriod:this.relativePeriod=this.systemSettings.keyAnalysisRelativePeriod||"LAST_12_MONTHS"},T.prototype.getUiLocale=function(){return this.uiLocale?this.uiLocale:this.uiLocale=this.userAccount.settings.keyUiLocale||this.defaultUiLocale},T.prototype.getDisplayProperty=function(){if(this.displayProperty)return this.displayProperty;var t=this.userAccount&&this.userAccount.settings?this.userAccount.settings.keyAnalysisDisplayProperty:null;return this.displayProperty=this.displayPropertyMap[t||this.defaultDisplayProperty]},T.prototype.getAnalyticsDisplayProperty=function(){if(this.analyticsDisplayProperty)return this.analyticsDisplayProperty;var t=this.userAccount&&this.userAccount.settings?this.userAccount.settings.keyAnalysisDisplayProperty:null;return this.analyticsDisplayProperty=(t||this.defaultAnalyticsDisplayProperty).toUpperCase()},T.prototype.getRootNodes=function(){return this.rootNodes},T.prototype.addRootNodes=function(t){var e=this,n=(0,A["default"])(t);n.forEach(function(t){t.expanded=!0,t.path="/"+e.rootId+"/"+t.id}),e.rootNodes=(0,x["default"])(e.rootNodes.concat(n))},T.prototype.addOrganisationUnitLevels=function(t){this.organisationUnitLevels=(0,x["default"])(this.organisationUnitLevels.concat((0,A["default"])(t))),(0,S["default"])(this.organisationUnitLevels,"ASC","level")},T.prototype.addLegendSets=function(t){this.legendSets=(0,x["default"])(this.legendSets.concat((0,A["default"])(t))),(0,S["default"])(this.legendSets,"ASC","name")},T.prototype.getLegendSetById=function(t){var e=this;return e.legendSetMap?e.legendSetMap[t]:(e.legendSetMap={},e.legendSets.forEach(function(t){e.legendSetMap[t.id]=t}),e.legendSetMap[t])},T.prototype.addDimensions=function(t){this.dimensions=(0,x["default"])(this.dimensions.concat((0,A["default"])(t))),(0,S["default"])(this.dimensions,"ASC","name")},T.prototype.addCategoryOptionGroupSets=function(t){this.categoryOptionGroupSets=(0,x["default"])(this.categoryOptionGroupSets.concat((0,A["default"])(t))),(0,S["default"])(this.categoryOptionGroupSets,"ASC","name")},T.prototype.addDataApprovalLevels=function(t){this.dataApprovalLevels=(0,x["default"])(this.dataApprovalLevels.concat((0,A["default"])(t))),(0,S["default"])(this.dataApprovalLevels,"ASC","level")},T.prototype.addIgnoreResponseHeaders=function(t,e){var n=this;n.ignoreResponseHeaders=(0,M["default"])([].concat(r(e?n.ignoreResponseHeaders:[]),r(t)))},T.prototype.setAuth=function(t,e){var n,i="jQuery"in window?window.jQuery:void 0,r="Ext"in window?window.Ext:void 0;t||e?n={Authorization:e?e:"Basic "+btoa(t)}:"production"!==this.env&&this.manifest&&(0,g["default"])(this.manifest.activities.dhis.auth)&&(n={Authorization:"Basic "+btoa(this.manifest.activities.dhis.auth)}),n&&(i&&i.ajaxSetup({headers:n}),r&&(0,p["default"])(r.Ajax)&&(r.Ajax.defaultHeaders=n))},T.prototype.applyTo=function(t){var e=this;(0,C["default"])(t).forEach(function(t){t.appManager=e})},T.prototype.getApiPath=function(){var t=this,e=t.getApiVersion()||"";return t.getPath()+"/api"+(e?"/"+e:"")},T.prototype.getLegendColorByValue=function(t,e){for(var n,i,r=this,o=r.getLegendSetById(t),a=0;a<o.legends.length;a++)if(i=o.legends[a],e>=parseFloat(i.startValue)&&e<parseFloat(i.endValue)){n=i.color;break}return n},T.prototype.getDisplayPropertyUrl=function(){if(this.displayPropertyUrl)return this.displayPropertyUrl;var t=this.getDisplayProperty();return this.displayPropertyUrl=t+"~rename(name)"},T.prototype.isUiLocaleDefault=function(){return this.getUiLocale()===this.defaultUiLocale},T.prototype.getAnalysisFields=function(){return this.analysisFields?this.analysisFields:this.analysisFields=(0,y["default"])(this.defaultAnalysisFields.join(","),"$",this.getDisplayPropertyUrl())},T.prototype.getRootNode=function(){return this.getRootNodes()[0]},T.prototype.getLegendSetIdByDxId=function(t,e){if((0,g["default"])(t)&&(0,u["default"])(e)){var n,i=this;new i.refs.api.Request(i.refs,{type:"json",baseUrl:i.getApiPath()+"/indicators.json",params:["filter=id:eq:"+t,"fields=legendSet[id]","paging=false"],success:function(t){if((0,s["default"])(t.indicators)&&t.indicators.length&&(0,p["default"])(t.indicators[0].legendSet)){var e=t.indicators[0].legendSet;(0,p["default"])(e)&&(n=e.id)}},complete:function(){e(n)}}).run()}},T.prototype.getOptionSets=function(t,e){var n=t.getOptionSetHeaders(),i=window.dhis2;if(n.length){var r=0,a={},l=function(){++r===n.length&&(t.metaData.optionNames=a,e())},u=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"name",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";if(!(0,s["default"])(t)||!t.length)return{};var r={};return t.forEach(function(t){r[i+t[e]]=t[n]}),r},d=function(t,e){i.er.store.get("optionSets",t).done(function(t){o(a,u(t.options,"code","name",e)),l()})};n.forEach(function(t){var e=(0,A["default"])(t.optionSet),n=t.name;e.forEach(function(t){d(t,n)})})}else e()}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.CalendarManager=void 0;var r=n(2),o=i(r),a=n(4),s=i(a),l=n(7),u=i(l),d=e.CalendarManager=void 0;e.CalendarManager=d=function(t,e){var n=this;e=(0,o["default"])(e)?e:{},n.baseUrl=e.baseUrl||"..",n.dateFormat=e.dateFormat||"yyyy-MM-dd",n.defaultCalendarId="gregorian",n.defaultCalendarIsoId="iso8601",n.calendarIds=["coptic","ethiopian","islamic","julian","nepali","thai","persian"],n.calendar,n.periodGenerator,n.calendarIdMap},d.prototype.setBaseUrl=function(t){this.baseUrl=t},d.prototype.setDateFormat=function(t){this.dateFormat=t},d.prototype.getPeriodScriptUrl=function(){return this.baseUrl+"/dhis-web-commons/javascripts/dhis2/dhis2.period.js"},d.prototype.getCalendarScriptUrl=function(t){return this.baseUrl+"/dhis-web-commons/javascripts/jQuery/calendars/jquery.calendars."+t+".min.js"},d.prototype.getCalendarIdMap=function(){return this.calendarIdMap?this.calendarIdMap:(this.calendarIdMap={},this.calendarIdMap[this.defaultCalendarIsoId]=this.defaultCalendarId,this.calendarIdMap)},d.prototype.createCalendar=function(t){this.calendar=$.calendars.instance(t)},d.prototype.createPeriodGenerator=function(t){this.periodGenerator=new dhis2.period.PeriodGenerator(this.calendar,this.dateFormat)},d.prototype.applyTo=function(t){var e=this;(0,u["default"])(t).forEach(function(t){t.calendarManager=e})},d.prototype.init=function(t,e){if(t=this.getCalendarIdMap()[t]||t||this.defaultCalendarId,!this.calendar||!this.periodGenerator){var n=this,i=n.getPeriodScriptUrl(),r=function(){n.createCalendar(t),n.createPeriodGenerator(t)};if((0,s["default"])(n.calendarIds,t)){var o=n.getCalendarScriptUrl(t);$.getScript(o,function(){$.getScript(i,function(){r()})})}else $.getScript(i,function(){r()})}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.I18nManager=void 0;var r=n(7),o=i(r),a=e.I18nManager=void 0;e.I18nManager=a=function(t,e){var n=this,i=e||{};n.add=function(t,e){e?i=t:$.extend(i,t)},n.get=function(t){return t?i[t]:i}},a.prototype.applyTo=function(t){var e=this;(0,o["default"])(t).forEach(function(t){t.i18nManager=e})}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.IndexedDbManager=void 0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o=n(5),a=i(o),s=e.IndexedDbManager=void 0;e.IndexedDbManager=s=function(){var t=this,e="dhis2",n=["optionSets"];r(t,new dhis2.storage.Store({name:e,objectStores:n,adapters:[dhis2.storage.IndexedDBAdapter,dhis2.storage.DomSessionStorageAdapter,dhis2.storage.InMemoryAdapter]})),t.cachedOptionSets={}},s.prototype.getCachedOptionSet=function(t){return this.cachedOptionSets[t]},s.prototype.setCachedOptionSet=function(t){this.cachedOptionSets[t.id]=t},s.prototype.hasCachedOptionSet=function(t){return t in this.cachedOptionSets},s.prototype.getOptionSets=function(t,e){t=(0,a["default"])(t);var n=this,i=0,r=[],o=[],s=function(){r.length&&r.length!==++i||e(o)};t.forEach(function(t){var e=n.getCachedOptionSet(t);e?o.push(e):r.push(t)}),r.length?r.forEach(function(t){n.get("optionSets",t).done(function(t){n.setCachedOptionSet(t),o.push(t),s()})}):s()},s.prototype.getCachedOption=function(t,e){var n=this.getCachedOptionSet(e);return n?n.options?n.options.find(function(e){return e.code===t}):void console.log('WARNING: Option set with id "'+e+'" has no options'):void console.log('WARNING: Option set with id "'+e+'" not found')},s.prototype.getCachedOptionName=function(t,e){var n=this.getCachedOption(t,e);return n?n.name:(console.log('WARNING: Option set with id "'+e+'" has no option with code "'+t+'"'),t)}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.InstanceManager=void 0;var r=n(24),o=i(r),a=n(3),s=i(a),l=n(2),u=i(l),d=n(4),c=i(d),h=n(7),p=i(h),f=e.InstanceManager=void 0;e.InstanceManager=f=function(t){var e=this;t=(0,u["default"])(t)?t:{},e.appManager=t.appManager,e.uiManager=t.uiManager,e.i18nManager=t.i18nManager,e.tableManager=t.tableManager,e.sessionStorageManager=t.sessionStorageManager;var n,i={favorite:null,current:null};e.plugin=!1,e.dashboard=!1,e.apiResource,e.apiEndpoint,e.analyticsEndpoint="/analytics",e.dataStatisticsEventType,e.isStateFavorite=function(){return!!i.favorite},e.isStateCurrent=function(){return!!i.current},e.isStateDirty=function(){return i.favorite!==i.current},e.isStateSaved=function(){return!!e.isStateFavorite()&&!e.isStateDirty()},e.isStateUnsaved=function(){return!!e.isStateFavorite()&&e.isStateDirty()},e.getStateFavorite=function(){return e.isStateFavorite()?i.favorite.clone():i.favorite},e.getStateFavoriteId=function(){return e.isStateFavorite()?i.favorite.id:null},e.getStateFavoriteName=function(){return e.isStateFavorite()?i.favorite.name:null},e.getStateCurrent=function(){return i.current?i.current.clone():i.current},e.setState=function(t,n,r,o){i.current=t?t:null,i.current&&!n||(i.favorite=i.current),e.sessionStorageManager&&i.current&&e.sessionStorageManager.set(i.current.toSession(),e.appManager.sessionName);var a=i.current?i.current.clone():null,s=i.favorite?i.favorite.clone():null;e.uiManager.setState(a,s,n,r,o)},e.setStateIf=function(t,n){t.id===e.getStateFavoriteId()&&e.setState(t,n)},e.getFn=function(){return n},e.setFn=function(t){n=t},e.getRefs=function(){return t}},f.prototype.getLayout=function(t,e){var n,i=this,r=i.getRefs(),o=i.getStateFavorite(),a=r.api.Layout;return t=t||i.uiManager.getUiState(),n=new a(r,t),n&&(n=o&&e?o.apply(n,Object.keys(n)):n.apply(o)),n},f.prototype.getById=function(t,e,n,i){var r=this,o=r.getRefs(),a=o.api,l=a.Layout,u=a.Request;if(t=(0,s["default"])(t)?t:r.getStateFavoriteId()||null,!(0,s["default"])(t))return void console.log("Instance manager, getById, invalid id",t);var d=r.appManager,h=r.uiManager,p=r.i18nManager?r.i18nManager.get():{};e=e||function(t,e){r.getReport(t,e)};var f=new u(o,{baseUrl:d.getApiPath()+"/"+r.apiEndpoint+"/"+t+".json",type:"json",beforeRun:function(){n&&h.mask()},afterRun:function(){i&&h.unmask()},success:function(t){var n=new l(o,t);e(n,!0)},error:function(t){(0,c["default"])([403],parseInt(t.httpStatusCode))&&(t.message=p.you_do_not_have_access_to_all_items_in_this_favorite||t.message),h.alert(t)}});f.add({fields:d.getAnalysisFields()}),f.run()},f.prototype.delById=function(t,e,n,i){if(!(0,s["default"])(t))return void console.log("Invalid id",t);var r=this,o=this.getRefs(),a=o.api.Request,l=r.appManager,u=r.uiManager,d=(r.i18nManager.get(),new a(o,{baseUrl:l.getApiPath()+"/"+r.apiEndpoint+"/"+t,method:"DELETE",beforeRun:function(){n&&u.mask()},success:function(t){function e(e,n,i){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t,n,r){i&&u.unmask(),e&&e(t,n,r)}),error:function(t){u.unmask(),u.alert(t)}}));d.run()},f.prototype.getSharingById=function(t,e,n){var i=this,r=this.getRefs();n=n||{};var o=r.api.Request,a=i.appManager,s=new o(r,{baseUrl:a.getApiPath()+"/sharing",type:"json",success:function(t){e&&e(t)},error:function(t){403==t.status&&n.allowForbidden?success(null):(i.uiManager.alert(t),i.uiManager.unmask())}});s.add({type:i.apiResource,id:t}),s.run()},f.prototype.getUiState=function(){return this.uiManager.getUiState()},f.prototype.postDataStatistics=function(){var t=this,e=this.getRefs(),n=e.api.Request,i=new n(e,{baseUrl:t.appManager.getApiPath()+"/dataStatistics",method:"POST"});i.add({eventType:t.dataStatisticsEventType,favorite:t.getStateFavoriteId()}),i.run()},f.prototype.applyTo=function(t){var e=this;(0,p["default"])(t).forEach(function(t){t.instanceManager=e})},f.prototype.getInterpretationById=function(t,e){if(!(0,s["default"])(t))return void console.log("Invalid id",t);var n=this,i=this.getRefs(),r=i.api.Request,a=n.appManager,l=n.uiManager,u=new r(i,{baseUrl:a.getApiPath()+"/interpretations/"+t+".json",type:"json",success:function(t){(0,o["default"])(e)&&e(t)},error:function(t){l.alert(t)},complete:function(t){(0,o["default"])(e)||l.unmask()}});u.add({fields:"id,created"}),u.run()},f.prototype.getData=function(t){return t=t||this.getLayout(),t.data()},f.prototype.getReport=function(t,e,n,i,r){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=a.noError,l=a.errorMessage,u=this,d=this.getRefs(),c=d.api.Response,h=function(){n||u.setState(t,e,!1,i),(r||u.getFn())(t)};if(t||(t=u.getLayout(void 0,!0))){if((0,o["default"])(t.val)&&!t.val(s))return void(l&&u.uiManager.updateErrorMessage(l,t.el));u.uiManager.mask();var p=t.getResponse();if(p)h();else{var f=t.data();f.metaData.done(function(e){f.data.done(function(n){n.metaData=e.metaData;var i=new c(d,n);t.showHierarchy===!0&&i.sortOrganisationUnitsHierarchy(),t.setResponse(i),h()})})}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.RequestManager=void 0;var r=n(1),o=i(r),a=n(2),s=i(a),l=n(24),u=i(l),d=n(5),c=i(d),h=n(7),p=i(h),f=e.RequestManager=void 0;e.RequestManager=f=function(t,e){var n=this;e=(0,s["default"])(e)?e:{},n.requests=(0,o["default"])(e.requests)?e.requests:[],n.responses=[],n.fn=(0,u["default"])(e.fn)?e.fn:function(){console.log("Request manager done")},n.fnParams=[]},f.prototype.add=function(t){var e=this,n=(0,c["default"])(t);n.forEach(function(t){t.setManager(e)}),this.requests=[].concat(this.requests,n)},f.prototype.set=function(t,e){this.fn=t,e&&(this.fnParams=e)},f.prototype.ok=function(t,e){this.responses.push(t),e||this.resolve()},f.prototype.run=function(){this.requests.forEach(function(t){t.run()})},f.prototype.resolve=function(){this.responses.length===this.requests.length&&this.fn(this.fnParams)},f.prototype.applyTo=function(t){var e=this;(0,p["default"])(t).forEach(function(t){t.requestManager=e})}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=e.SessionStorageManager=void 0;e.SessionStorageManager=n=function(t){var e=this;e.db="dhis2",e.supported="sessionStorage"in window&&null!==window.sessionStorage,e.supportHandler=function(){return!!this.supported||void alert("Your browser is outdated and does not support local storage. Please upgrade your browser.")}},n.prototype.get=function(t){if(this.supportHandler()){var e=JSON.parse(sessionStorage.getItem(this.db))||{};return e[t]}},n.prototype.set=function(t,e,n){if(this.supportHandler()){var i=JSON.parse(sessionStorage.getItem(this.db))||{};i[e]=t,sessionStorage.setItem(this.db,JSON.stringify(i)),n&&(window.location.href=n)}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.TableManager=void 0;var r=n(3),o=i(r),a=n(1),s=i(a),l=n(4),u=i(l),d=n(64),c=n(63),h=n(122),p=e.TableManager=void 0;e.TableManager=p=function(t){var e=this,n=t.appManager,i=t.instanceManager,r=t.uiManager,a=t.sessionStorageManager,l=t.dimensionConfig,p=["CATEGORY_OPTION","DATA_ELEMENT","PROGRAM_INDICATOR","INDICATOR"],f=function(t){return"ASC"===t.toUpperCase()?"DESC":"ASC"},g={pe:"eventdate",ou:"ouname"},m=function(t,e){return e===l.dataType.aggregated_values?t:g[t]||t},y=function(t,e){var n=m(e);t.sorting&&t.sorting.id===n?t.sorting.direction=f(t.sorting.direction):t.sorting={id:m(e,t.dataType),direction:"DESC"},i.getReport(t)},v=function(t){var e=$(t);e&&e.addClass("pointer highlighted")},x=function(t){var e=$(t);e&&e.removeClass("pointer highlighted")};e.setColumnHeaderMouseHandlers=function(t,e){var n,i=e.sortableIdObjects;i.forEach(function(e){n=document.getElementById(e.uuid),n&&(n.layout=t,n.metaDataId=e.id,n.onColumnHeaderMouseClick=y,n.onColumnHeaderMouseOver=v,n.onColumnHeaderMouseOut=x,n.setAttribute("onclick","this.onColumnHeaderMouseClick(this.layout, this.metaDataId)"),n.setAttribute("onmouseover","this.onColumnHeaderMouseOver(this)"),n.setAttribute("onmouseout","this.onColumnHeaderMouseOut(this)"))})};var b=function(t,e,o){for(var s,l=e.getUuidObjectMap(),u=t.getResponse(),p={},f=[],g=n.getPath(),m=document.getElementById(o),y=m.getAttribute("data-period-id"),v=m.getAttribute("data-ou-id"),x=t.getRefs().i18nManager.get(),b=e.uuidDimUuidsMap[o],A=0;A<b.length;A++)f.push(l[b[A]]);t.removeDimensionItems();for(var w,E,C,A=0;A<f.length;A++)w=f[A],E="column"===w.axis?t.columns||[]:t.rows||[],E.length&&(C=E[w.dim],C.add({id:w.id,name:u.getNameById(w.id)}));for(var P,A=0;A<f.length;A++)P=f[A].id,t.parentGraphMap&&t.parentGraphMap.hasOwnProperty(P)&&(p[P]=t.parentGraphMap[P]);t.parentGraphMap=p,t.toSession();var M=[{text:x.open_selection_as,iconCls:"ns-menu-item-datasource",menu:[{text:x.open_selection_as_chart,iconCls:"ns-button-icon-chart",param:"chart",handler:function(){a.set(t,"analytical",g+"/dhis-web-visualizer/index.html?s=analytical")},listeners:{render:function(){this.getEl().on("mouseover",function(){S(e,o,"mouseover","chart")}),this.getEl().on("mouseout",function(){S(e,o,"mouseout","chart")})}}},{text:x.open_selection_as_map,iconCls:"ns-button-icon-map",param:"map",disabled:!0,handler:function(){a.set(t,"analytical",g+"/dhis-web-mapping/index.html?s=analytical")},listeners:{render:function(){this.getEl().on("mouseover",function(){S(e,o,"mouseover","map")}),this.getEl().on("mouseout",function(){S(e,o,"mouseout","map")})}}}]}];if(y){var T=[],k=new d.Period({id:y,name:u.getNameById(y)},t.getRefs());k.generateDisplayProperties();for(var I,_=k.getContextMenuItemsConfig(),O=0;O<_.length;++O)I=_[O],I.isSubtitle?T.push({xtype:"label",html:I.text,style:I.style}):T.push({text:I.text,iconCls:I.iconCls,peReqItems:I.items,handler:function(){var t=i.getStateCurrent(),e=new c.Dimension(t.getRefs(),{dimension:"pe",items:this.peReqItems});t.replaceDimensionByName(e),t.setResponse(null),i.getReport(t,!1,!1,!0)}});M.push({text:x.period_drill_down_up,iconCls:"ns-menu-item-datasource",menu:T})}s=Ext.create("Ext.menu.Menu",{shadow:!0,showSeparator:!1,items:M}),v&&!function(){s.add({uid:"OU_MENU",text:x.organisation_units_drill_down||"Org unit drill down/up",iconCls:"ns-menu-item-datasource",menu:{items:[{html:'<div class="spinner"></div>'}]}});var e=s.items.findBy(function(t){return"OU_MENU"===t.uid}),n=new h.OrganisationUnit(t.getRefs(),{id:v});r.mask(),n.getAncestorsRequest(!0).done(function(t){n.setAncestors(t.ancestors),n.setLevel(t.level);for(var o=n.getContextMenuItemsConfig(),a=0;a<o.length;++a){var s=o[a];s.isSubtitle||(s.handler=function(){var t=i.getStateCurrent(),e=new c.Dimension(t.getRefs(),{dimension:"ou",items:this.items});t.replaceDimensionByName(e),t.setResponse(null),i.getReport(t,!1,!1,!0)})}e.menu.removeAll(),e.menu.add(o),r.unmask()})}(),s.showAt(function(){var t=Ext.get(o),e=t.getXY();return e[0]+=t.getWidth()-5,e[1]+=t.getHeight()-5,e}())},A=function(t){Ext.get(t).addCls("highlighted")},w=function(t){Ext.get(t).removeCls("highlighted")},S=function(t,e,n,i){var r,a=t.uuidDimUuidsMap;if("chart"===i&&(0,o["default"])(e)&&(0,s["default"])(a[e])){r=a[e];for(var l,u=0;u<r.length;u++)l=Ext.get(r[u]),l&&("mouseover"===n?l.addCls("highlighted"):"mouseout"===n&&l.removeCls("highlighted"))}};e.setValueMouseHandlers=function(t,e){var n,i=e.valueUuids;for(var r in i)n=Ext.get(i[r]),n&&!isNaN(parseFloat(n.dom.textContent))&&(n.dom.onValueMouseClick=b,n.dom.onValueMouseOver=A,n.dom.onValueMouseOut=w,n.dom.layout=t,n.dom.table=e,n.dom.setAttribute("onclick","this.onValueMouseClick(this.layout, this.table, this.id);"),n.dom.setAttribute("onmouseover","this.onValueMouseOver(this);"),n.dom.setAttribute("onmouseout","this.onValueMouseOut(this);"))},e.setDimensionMouseHandlers=function(t,e){var n=t.getResponse(),i=function(t){var e=n.metaData.items[t.id];e&&(0,u["default"])(p,e.dimensionItemType)&&!function(){var n="<p>Type: "+e.dimensionItemType+"</p>";e.description&&(n+="<p>Description: "+e.description+"</p>"),e.code&&(n+="<p>Code: "+e.code+"</p>");var i=Ext.create("Ext.tip.ToolTip",{target:Ext.get(t.uuid),bodyStyle:"font-size: 110%",html:n});Ext.get(t.uuid).on({mouseover:function(){Ext.Function.createBuffered(i.show,1e3,i)}})}()};if(e.colAxis&&e.colAxis.uuidObjectMap)for(var r in e.colAxis.uuidObjectMap)e.colAxis.uuidObjectMap.hasOwnProperty(r)&&i(e.colAxis.uuidObjectMap[r]);if(e.rowAxis&&e.rowAxis.uuidObjectMap)for(var o in e.rowAxis.uuidObjectMap)e.rowAxis.uuidObjectMap.hasOwnProperty(o)&&i(e.rowAxis.uuidObjectMap[o])}}},function(t,e,n){(function(t){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.UiManager=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(1),a=i(o),s=n(24),l=i(s),u=n(2),d=i(u),c=n(3),h=i(c),p=n(7),f=i(p),g=n(163),m=e.UiManager=void 0;e.UiManager=m=function(e){var n=this;e=(0,d["default"])(e)?e:{},n.appManager=e.appManager,n.instanceManager=e.instanceManager,n.i18nManager,n.preventMask=!1,n.introHtmlIsAsync=!1,n.minWidth=800,n.minHeight=600;var i={},r={onCurrent:[],onFavorite:[]},o={},s="centerRegion",u="meringue",c="",p=Function.prototype,f=Function.prototype,m=function(t,e){var i=document.getElementById(e);return e&&i?void(i.innerHTML=t):t?void n.getUpdateComponent().update(t):void n.getIntroHtml().then(function(t){n.getUpdateComponent().renew(t)})},y=function(t,e){var e=e||n.instanceManager.getStateCurrent();e&&(e.applyInterpretation(t),n.instanceManager.getReport(e,!0))},v=n.appManager.getEventHandlerArray(),x=function(t){return'<div style="padding:20px; font-size:13px; color:#60606a">'+t+"</div>"};n.setInstanceManager=function(t){n.instanceManager=t},n.setI18nManager=function(t){n.i18nManager=t},n.setUpdateFn=function(t){m=t},n.setUpdateInterpretationFn=function(t){y=t},n.reg=function(t,e,n,s,l){if(!i.hasOwnProperty(e)||!l)return i[e]=t,(0,h["default"])(n)&&n.split(",").forEach(function(e){(0,a["default"])(r[e])&&r[e].push(t)}),(0,h["default"])(s)&&s.split(",").forEach(function(e){o[e]=(0,a["default"])(o[e])?o[e]:[],o[e].push(t)}),t},n.unreg=function(t){delete i[t]},n.get=function(t){return i[t]||document.getElementById(t)||null},n.subscribe=function(t,e){n.get(t)&&n.get(t).subscribe(e)},n.setScrollFn=function(t,e){n.get(t)&&n.get(t).setScroll(e)},n.removeScrollFn=function(t){n.get(t)&&n.get(t).removeScroll()},n.setResizeFn=function(t,e){n.get(t)&&n.get(t).setOnResize(e)},n.removeResizeFn=function(t){n.get(t)&&n.get(t).removeOnResize()},n.scrollTo=function(t,e,i){n.get(t)&&n.get(t).scrollTo(e,i)},n.getByGroup=function(t){return o[t]},n.getUpdateComponent=function(){return n.get(s)},n.setUpdateComponent=function(t){s=t},n.componentFrom=function(t){return(0,h["default"])(t)?n.get(t):t},n.update=function(t,e){m(t,e)},n.updateErrorMessage=function(t,e){n.update(x(t),e)},n.toggleCollapseRegion=function(t){n.get(t).toggleCollapse()},n.updateInterpretation=function(t,e){y(t,e)},n.setState=function(t,e,i,o,a,s){var l=n.get("northRegion"),u=n.get("westRegion"),d=n.get("eastRegion");n.instanceManager.plugin||(e?n.setUrlState("?id="+e.id+(e.interpretationId?"&interpretationid="+e.interpretationId:"")):n.setUrlState("."),l&&l.setState(t,i),r.onCurrent.forEach(function(e){e.setDisabled(!(t&&e.enable))}),r.onFavorite.forEach(function(e){e.setDisabled(!(t&&e.enable&&i))}),(a||u&&!o&&(!t||i))&&u.setState(t),d&&d.setState(t)),t||n.update()},n.setUrlState=function(e){t.history.pushState(null,null,e)},n.getTheme=function(){return u},n.setTheme=function(t){u=t},n.getIntroHtml=function(){return n.introHtmlIsAsync?f():c},n.setUpdateIntroHtmlFn=function(t){f=t},n.setIntroHtml=function(t){return c=t},n.setIntroFn=function(t){p=t},n.callIntroFn=function(){p()},n.getScrollbarSize=function(){var t,e=document.body,n=document.createElement("div");return n.style.width=n.style.height="100px",n.style.overflow="scroll",n.style.position="absolute",e.appendChild(n),t={width:n.offsetWidth-n.clientWidth,height:n.offsetHeight-n.clientHeight},e.removeChild(n),t},n.isScrolled=function(t){var e=t.srcElement,n=e.scrollTop+e.clientHeight/e.scrollHeight*e.scrollHeight;return n/e.scrollHeight>.9},n.msSetHeight=function(t,e,n){var i,r=25;t.forEach(function(t){i=e.getHeight()-n-(t.hasToolbar?r:0),t.setHeight(i)})},n.msSelect=function(t,e){var i=t.getValue();if(i.length){var r=[];i.forEach(function(e){r.push(t.store.getAt(t.store.findExact("id",e)))}),e.store.add(r)}n.msFilterAvailable(t,e)},n.msSelectAll=function(t,e,i){var r=t.store.getRange();i&&r.reverse(),e.store.add(r),n.msFilterAvailable(t,e)},n.msUnselect=function(t,e){var i=e.getValue();i.length&&(i.forEach(function(n){t.store.add(e.store.getAt(e.store.findExact("id",n))),e.store.remove(e.store.getAt(e.store.findExact("id",n)))}),n.msFilterAvailable(t,e),t.store.sortStore())},n.msUnselectAll=function(t,e){t.store.add(e.store.getRange()),e.store.removeAll(),n.msFilterAvailable(t,e),t.store.sortStore()},n.msFilterAvailable=function(t,e){if(t.store.getRange().length&&e.store.getRange().length){var n=[];t.store.each(function(t){var i=!1;e.store.each(function(e){e.data.id===t.data.id&&(i=!0)}),i&&n.push(t)}),t.store.remove(n)}},n.mask=function(t,e){t=(0,d["default"])(t)?t:n.get(t)||n.getUpdateComponent(),(0,d["default"])(t)&&!n.preventMask&&(e=e||"Loading..",t.mask&&t.mask.destroy&&(t.mask.destroy(),t.mask=null),t.mask=new Ext.create("Ext.LoadMask",t,{
shadow:!1,msg:e,style:"box-shadow:0",bodyStyle:"box-shadow:0"}),t.mask.show())},n.unmask=function(t){t=(0,d["default"])(t)?t:n.get(t)||n.getUpdateComponent(),(0,d["default"])(t)&&t.mask&&t.mask.destroy&&(t.mask.destroy(),t.mask=null)},n.setAnchorPosition=function(t,e,i){e=n.componentFrom(e);var r=e.getPosition?e.getPosition():e.getXY?e.getXY():null,o=e.getHeight(),a=n.get("viewport").getWidth(),s=t.getWidth(),l=r[0]+(void 0!=i&&void 0!=i.x?i.x:0),u=r[1]+o+4+(void 0!=i&&void 0!=i.y?i.y:0);l+s>a?t.setPosition(a-s-2,u):t.setPosition(l,u)},n.getBodyMask=function(){return Ext.getBody().child(".x-mask")},n.addHideOnBlurHandler=function(t){n.getBodyMask().on("click",function(){t.hideOnBlur&&t.hide()}),t.hasHideOnBlurHandler=!0},n.addDestroyOnBlurHandler=function(t){n.getBodyMask().on("click",function(){t.destroyOnBlur&&t.destroy()}),t.hasDestroyOnBlurHandler=!0},n.alert=function(t){var e,i,r={};t&&(!(0,d["default"])(t)||t.message||t.responseText)&&((0,d["default"])(t)&&t.responseText&&!t.message&&(t=JSON.parse(t.responseText)),(0,h["default"])(t)&&(t={status:"ERROR",message:t}),e=(t.status||"INFO").toLowerCase(),r.title=t.status,r.iconCls="ns-window-title-messagebox "+e,r.html="",r.html+=t.httpStatusCode?"Code: "+t.httpStatusCode+"<br>":"",r.html+=t.httpStatus?"Status: "+t.httpStatus+"<br><br>":"",r.html+=t.message+("."===t.message.substr(t.message.length-1)?"":"."),r.bodyStyle="padding: 12px; background: #fff; max-width: 600px; max-height: "+n.getHeight()/2+"px",r.modal=!0,r.destroyOnBlur=!0,r.listeners={show:function(t){t.setPosition(t.getPosition()[0],t.getPosition()[1]/2),t.hasDestroyOnBlurHandler||n.addDestroyOnBlurHandler(t)}},i=Ext.create("Ext.window.Window",r),i.show())},n.enableRightClick=function(){document.body.oncontextmenu=!0},n.disableRightClick=function(){document.body.oncontextmenu=function(){return!1}},n.confirmUnsaved=function(t,i){var r=n.i18nManager?n.i18nManager.get():{};(0,g.ConfirmWindow)(e,t,r.all_unsaved_changes_will_be_discarded_continue,null,i).show()},n.confirmReplace=function(t,i){var r=n.i18nManager?n.i18nManager.get():{};(0,g.ConfirmWindow)(e,t,r.existing_favorite_will_be_replaced_continue,null,i).show()},n.confirmDelete=function(t,i){var r=n.i18nManager?n.i18nManager.get():{};(0,g.ConfirmWindow)(e,t,r.this_favorite_will_be_deleted_continue,null,i).show()},n.confirmRender=function(t,i,r){var o=n.i18nManager?n.i18nManager.get():{};(0,g.ConfirmWindow)(e,t,o.render_table_warning,"Continue",i,null,r,!0).show()},n.confirmCustom=function(t,n,i,r,o){(0,g.ConfirmWindow)(e,t,n,i,r,o).show()},n.confirmInterpretationDelete=function(t){var i=n.i18nManager?n.i18nManager.get():{};(0,g.ConfirmWindow)(e,i.are_you_sure,i.this_interpretation_will_be_deleted_continue,null,t).show()},n.confirmCommentDelete=function(t){var i=n.i18nManager?n.i18nManager.get():{};(0,g.ConfirmWindow)(e,i.are_you_sure,i.this_comment_will_be_deleted_continue,null,t).show()},n.redirectCtrl=function(t,e){0!==e.button||e.ctrlKey?(e.ctrlKey&&arrayContains([0,1],e.button)||!e.ctrlKey&&1===e.button)&&window.open(t,"_blank"):window.location.href=t},n.getTitleHtml=function(t){return t?'<div style="height:19px;line-height:14px;width:100%;font:bold 12px LiberationSans,arial,sans-serif;color:#333;text-align:center;letter-spacing:-0.1px">'+t+"</div>":""},n.getEmbedHtml=function(){var t="",e="v"+parseFloat(n.appManager.systemInfo.version.split(".").join("")),i=n.instanceManager.apiResource,r=i+"1",o=i+"Plugin",a=(i||"").toLowerCase(),s=n.instanceManager.getStateCurrent();return t+="<html>\n<head>\n",t+='<script src="//code.jquery.com/jquery-2.2.4.min.js"></script>\n',t+='<script src="//dhis2-cdn.org/'+e+"/plugin/"+a+'.js"></script>\n',t+="</head>\n\n<body>\n",t+='<div id="'+r+'"></div>\n\n',t+="<script>\n\n",t+=o+'.url = "<url to server>";\n',t+=o+'.username = "<username>";\n',t+=o+'.password = "<password>";\n\n',t+=i+"Plugin.load(["+JSON.stringify(s.toPlugin(r),null,2)+"]);\n\n",t+="</script>\n\n",t+="</body>\n</html>"},n.renderLoadingIndicator=function(t){$("#"+t).append('<div class="spinner"></div>')},n.onResize=function(t){v.push(t)},n.resize=function(t){v.run(t)},n.openTableLayoutTab=function(t,e,i){t=t||n.instanceManager.getStateCurrent(),e=e||"xls";var r=t.req(null,e,!1,!0).url(),o=i?"_blank":"_top";window.open(r,o)},n.openPlainDataSource=function(t,e,n){t=((0,h["default"])(t)?t:t.url())+(e||"");var i=n?"_blank":"_top";window.open(t,i)},n.openDataDump=function(t,e,i,r){t=t||n.instanceManager.getLayout();var o=!1;if(t){var a=[];t.toRows(o),e=e||"csv",t.showHierarchy&&a.push("showHierarchy=true"),a.push("rows="+t.getDimensionNames(o).join(";"));var s=t.req(null,e).url(a),l=r?"_blank":"_top";window.open(s,l)}},n.getSvg=function(){var t=Ext.query("svg");return(0,a["default"])(t)&&t.length?(t=Ext.get(t[0]),t=t.parent().dom.innerHTML):void alert("Browser does not support SVG")},n.submitSvgForm=function(t,e){var i=Ext.query("#exportForm")[0],r=this.get("chart"),o=r&&(0,l["default"])(r.getSVGForExport)?r.getSVGForExport():this.getSvg();o&&(Ext.query("#svgField")[0].value=o,Ext.query("#filenameField")[0].value=e||"Untitled",i.action=n.appManager.getPath()+"/api/svg."+t,i.submit())},n.hexToRgb=function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]:null},n.calculateColorBrightness=function(t){return Math.round((299*parseInt(t[0])+587*parseInt(t[1])+114*parseInt(t[2]))/1e3)},n.isColorBright=function(t){return n.calculateColorBrightness(t)>125}},m.prototype.applyTo=function(t){var e=this;(0,f["default"])(t).forEach(function(t){t.uiManager=e})},m.prototype.getWidth=function(t){var e=this,n=t?e.componentFrom(t):e.getUpdateComponent();return n?n.getWidth():e.minWidth},m.prototype.getHeight=function(t){var e=this,n=t?e.componentFrom(t):e.getUpdateComponent();return n?n.getHeight():e.minHeight},m.prototype.getUiState=function(){return this.get("viewport").getUiState()},m.prototype.enableConfirmUnload=function(){var t=this;window.onbeforeunload=function(e){return t.instanceManager&&t.instanceManager.isStateUnsaved()?(("undefined"==typeof e?"undefined":r(e))?e:window.event).returnValue="You have unsaved changes.":null}},m.prototype.disableConfirmUnload=function(){window.onbeforeunload=function(t){return null}}}).call(e,function(){return this}())},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.extChartOverrides=function(){Ext.override(Ext.chart.Chart,{insetPaddingObject:{},alignAxes:function(){function t(t){var e=i.findIndex("position",t);return e<0?null:i.getAt(e)}var e,n=this,i=n.axes,r=n.legend,o=["top","right","bottom","left"],a=n.insetPadding,s=n.insetPaddingObject,l={top:s.top||a,right:s.right||a,bottom:s.bottom||a,left:s.left||a};Ext.each(o,function(e){var n,i="left"===e||"right"===e,o=t(e);r!==!1&&r.position===e&&(n=r.getBBox(),l[e]+=(i?n.width:n.height)+l[e]),o&&o.bbox&&(n=o.bbox,l[e]+=i?n.width:n.height)}),e={x:l.left,y:l.top,width:n.curWidth-l.left-l.right,height:n.curHeight-l.top-l.bottom},n.chartBBox=e,i.each(function(t){var n=t.position,i="left"===n||"right"===n;t.x="right"===n?e.x+e.width:e.x,t.y="top"===n?e.y:e.y+e.height,t.width=i?e.width:e.height,t.length=i?e.height:e.width})}}),Ext.override(Ext.chart.series.Line,{drawSeries:function(){var t,e,i,r,o,a,s,l,u,d,c,h,p,f,g,m,y,v,x,b,A,w,S,E,C,P,M,T,k,I,_,O,D,R,L,B,N,U,j,F=this,V=F.chart,H=V.axes,W=V.getChartStore(),z=W.getCount(),G=F.chart.surface,Y={},X=F.group,q=F.showMarkers,K=F.markerGroup,Q=V.shadow,J=F.shadowGroups,Z=F.shadowAttributes,$=F.smooth,tt=J.length,et=["M"],nt=["M"],it=["M"],rt=["M"],ot=V.markerIndex,at=[].concat(F.axis),st=[],lt={},ut=[],dt=!1,ct=[],ht=F.markerStyle,pt=F.style,ft=F.colorArrayStyle,gt=ft&&ft.length||0,mt=Ext.isNumber,yt=F.seriesIdx,vt=F.getAxesForXAndYFields(),xt=vt.xAxis,bt=vt.yAxis;if(F.fireEvent("beforedraw",F)!==!1)if(z&&!F.seriesIsHidden){if(L=Ext.apply(ht||{},F.markerConfig),N=L.type,delete L.type,B=pt,B["stroke-width"]||(B["stroke-width"]=.5),ot&&K&&K.getCount())for(m=0;m<ot;m++)A=K.getAt(m),K.remove(A),K.add(A),w=K.getAt(K.getCount()-2),A.setAttributes({x:0,y:0,translate:{x:w.attr.translation.x,y:w.attr.translation.y}},!0);for(F.unHighlightItem(),F.cleanHighlights(),F.setBBox(),Y=F.bbox,F.clipRect=[Y.x,Y.y,Y.width,Y.height],m=0,v=at.length;m<v;m++)x=H.get(at[m]),x&&(b=x.calcEnds(),"top"==x.position||"bottom"==x.position?(k=b.from,I=b.to):(_=b.from,O=b.to));!F.xField||mt(k)||"bottom"!=xt&&"top"!=xt||H.get(xt)||(x=Ext.create("Ext.chart.axis.Axis",{chart:V,fields:[].concat(F.xField)}).calcEnds(),k=x.from,I=x.to),!F.yField||mt(_)||"right"!=bt&&"left"!=bt||H.get(bt)||(x=Ext.create("Ext.chart.axis.Axis",{chart:V,fields:[].concat(F.yField)}).calcEnds(),_=x.from,O=x.to),isNaN(k)?(k=0,M=Y.width/(z-1||1)):M=Y.width/(I-k||z-1||1),isNaN(_)?(_=0,T=Y.height/(z-1||1)):T=Y.height/(O-_||z-1||1),F.eachRecord(function(t,e){return E=t.get(F.xField),("string"==typeof E||"object"==("undefined"==typeof E?"undefined":n(E))&&!Ext.isDate(E)||xt&&H.get(xt)&&"Category"==H.get(xt).type)&&(E=E in lt?lt[E]:lt[E]=e),C=t.get(F.yField),"undefined"==typeof C||"string"==typeof C&&!C?void(Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("[Ext.chart.series.Line]  Skipping a store element with an undefined value at ",t,E,C)):(("object"==("undefined"==typeof C?"undefined":n(C))&&!Ext.isDate(C)||bt&&H.get(bt)&&"Category"==H.get(bt).type)&&(C=e),ct.push(e),st.push(E),void ut.push(C))}),v=st.length,v>Y.width&&(P=F.shrink(st,ut,Y.width),st=P.x,ut=P.y),F.items=[],U=0,v=st.length;for(m=0;m<v;m++)if(E=st[m],C=ut[m],C!==!1){if(u=(Y.x+(E-k)*M).toFixed(2),d=(Y.y+Y.height-(C-_)*T).toFixed(2),dt&&(dt=!1,nt.push("M")),nt=nt.concat([u,d]),"undefined"==typeof f&&"undefined"!=typeof d&&(f=d,p=u),F.line&&!V.resizing||(et=et.concat([u,Y.y+Y.height/2])),V.animate&&V.resizing&&F.line&&(F.line.setAttributes({path:et},!0),F.fillPath&&F.fillPath.setAttributes({path:et,opacity:.2},!0),F.line.shadows))for(e=F.line.shadows,y=0,tt=e.length;y<tt;y++)i=e[y],i.setAttributes({path:et},!0);q&&(A=K.getAt(U++),A?(A.setAttributes({value:'"'+E+", "+C+'"',x:0,y:0,hidden:!1},!0),A._to={translate:{x:+u,y:+d}}):(A=Ext.chart.Shape[N](G,Ext.apply({group:[X,K],x:0,y:0,translate:{x:+(c||u),y:h||Y.y+Y.height/2},value:'"'+E+", "+C+'"',zIndex:4e3},L)),A._to={translate:{x:+u,y:+d}})),F.items.push({series:F,value:[E,C],point:[u,d],sprite:A,storeItem:W.getAt(ct[m])}),c=u,h=d}else 1==nt.length&&(nt=[]),dt=!0,F.items.push(!1);if(!(nt.length<=1)){if(F.smooth&&(rt=Ext.draw.Draw.smooth(nt,mt($)?$:F.defaultSmoothness)),it=$?rt:nt,V.markerIndex&&F.previousPath?(o=F.previousPath,$||Ext.Array.erase(o,1,2)):o=nt,!F.line&&(F.line=G.add(Ext.apply({type:"path",group:X,path:et,stroke:B.stroke||B.fill},B||{})),Q&&F.line.setAttributes(Ext.apply({},F.shadowOptions),!0),F.line.setAttributes({fill:"none",zIndex:3e3}),!B.stroke&&gt&&F.line.setAttributes({stroke:ft[yt%gt]},!0),Q))for(e=F.line.shadows=[],r=0;r<tt;r++)t=Z[r],t=Ext.apply({},t,{path:et}),i=G.add(Ext.apply({},{type:"path",group:J[r]},t)),e.push(i);if(F.fill&&(s=it.concat([["L",u,Y.y+Y.height],["L",p,Y.y+Y.height],["L",p,f]]),F.fillPath||(F.fillPath=G.add({group:X,type:"path",opacity:B.opacity||.3,fill:B.fill||ft[yt%gt],path:et}))),g=q&&K.getCount(),V.animate){if(a=F.fill,D=F.line,l=F.renderer(D,!1,{path:it},m,W),Ext.apply(l,B||{},{stroke:B.stroke||B.fill}),delete l.fill,D.show(!0),V.markerIndex&&F.previousPath?F.animation=R=F.onAnimate(D,{to:l,from:{path:o}}):F.animation=R=F.onAnimate(D,{to:l}),Q)for(e=D.shadows,y=0;y<tt;y++)e[y].show(!0),V.markerIndex&&F.previousPath?F.onAnimate(e[y],{to:{path:it},from:{path:o}}):F.onAnimate(e[y],{to:{path:it}});if(a&&(F.fillPath.show(!0),F.onAnimate(F.fillPath,{to:Ext.apply({},{path:s,fill:B.fill||ft[yt%gt],"stroke-width":0},B||{})})),q){for(U=0,m=0;m<v;m++)F.items[m]&&(S=K.getAt(U++),S&&(l=F.renderer(S,W.getAt(m),S._to,m,W),F.onAnimate(S,{to:Ext.apply(l,L||{})}),S.show(!0)));for(;U<g;U++)S=K.getAt(U),S.hide(!0)}}else{if(l=F.renderer(F.line,!1,{path:it,hidden:!1},m,W),Ext.apply(l,B||{},{stroke:B.stroke||B.fill}),delete l.fill,F.line.setAttributes(l,!0),Q)for(e=F.line.shadows,y=0;y<tt;y++)e[y].setAttributes({path:it,hidden:!1},!0);if(F.fill&&F.fillPath.setAttributes({path:s,hidden:!1},!0),q){for(U=0,m=0;m<v;m++)F.items[m]&&(S=K.getAt(U++),S&&(l=F.renderer(S,W.getAt(m),S._to,m,W),S.setAttributes(Ext.apply(L||{},l||{}),!0),S.show(!0)));for(;U<g;U++)S=K.getAt(U),S.hide(!0)}}V.markerIndex&&(F.smooth?Ext.Array.erase(nt,1,2):Ext.Array.splice(nt,1,0,nt[1],nt[2]),F.previousPath=nt),F.renderLabels(),F.renderCallouts(),F.fireEvent("draw",F)}}else if(j=this.items)for(m=0,v=j.length;m<v;++m)j[m].sprite&&j[m].sprite.hide(!0)}}),Ext.override(Ext.chart.Legend,{updatePosition:function(){var t,e,n=this,i=n.width,r=n.height,o=(n.padding,n.chart),a=o.chartBBox,s=o.insetPadding,l=a.width-2*s,u=a.height-2*s,d=a.x+s,c=a.y+s,h=o.surface,p=Math.floor;if(n.isDisplayed()){switch(n.position){case"left":t=s,e=p(c+u/2-r/2);break;case"right":t=p(h.width-i)-s,e=p(c+u/2-r/2);break;case"top":t=p((d+a.width)/2-i/2)-7,e=s;break;case"bottom":t=p(d+l/2-i/2),e=p(h.height-r)-s;break;default:t=p(n.origX)+s,e=p(n.origY)+s}n.x=t,n.y=e,Ext.each(n.items,function(t){t.updatePosition()}),n.boxSprite.setAttributes(n.getBBox(),!0)}}}),Ext.override(Ext.chart.LegendItem,{createLegend:function(t){function e(t){var e=l[t];return Ext.isArray(e)?e[d]:e}var n,i,r,o,a=this,s=t.yFieldIndex,l=a.series,u=l.type,d=a.yFieldIndex,c=a.legend,h=a.surface,p=(c.x+a.x,c.y+a.y,a.zIndex),f=!1,g=Ext.apply(l.seriesStyle,l.style),m=c.labelMarkerSize||10;r=a.add("label",h.add({type:"text",x:30,y:0,zIndex:p||0,font:c.labelFont,fill:c.labelColor||"#000",text:e("title")||e("yField")})),"line"===u||"scatter"===u?("line"===u&&a.add("line",h.add({type:"path",path:"M0.5,0.5L16.5,0.5",zIndex:p,"stroke-width":l.lineWidth,"stroke-linejoin":"round","stroke-dasharray":l.dash,stroke:g.stroke||"#000",style:{cursor:"pointer"}})),(l.showMarkers||"scatter"===u)&&(i=Ext.apply(l.markerStyle,l.markerConfig||{}),a.add("marker",Ext.chart.Shape[i.type](h,{fill:i.fill,x:8.5,y:.5,zIndex:p,radius:i.radius||i.size,style:{cursor:"pointer"}})))):a.add("box",h.add({type:"rect",zIndex:p,x:6,y:0,width:m,height:m,fill:l.getLegendColor(s),style:{cursor:"pointer"}})),a.setAttributes({hidden:!1},!0),n=a.getBBox(),o=a.add("mask",h.add({type:"rect",x:n.x,y:n.y,width:n.width||20,height:n.height||20,zIndex:(p||0)+1e3,fill:"#f00",opacity:0,style:{cursor:"pointer"}})),a.on("mouseover",function(){r.setStyle({"font-weight":"bold"}),o.setStyle({cursor:"pointer"}),l._index=s,l.highlightItem()},a),a.on("mouseout",function(){r.setStyle({"font-weight":"normal"}),l._index=s,l.unHighlightItem()},a),l.visibleInLegend(s)||(f=!0,r.setAttributes({opacity:.5},!0)),a.on("mousedown",function(){f?(l.showAll(),r.setAttributes({opacity:1},!0)):(l.hideAll(),r.setAttributes({opacity:.5},!0)),f=!f},a),a.updatePosition({x:0,y:0})}}),Ext.override(Ext.chart.axis.Axis,{drawHorizontalLabels:function(){var t,e,n,i,r,o,a,s,l,u,d,c=this,h=c.label,p=Math.floor,f=Math.max,g=c.chart.axes,m=c.position,y=c.inflections,v=y.length,x=c.labels,b=(c.labelGroup,0);c.chart.maxGutter[1];for(a=v-1,n=y[0],d=c.getOrCreateLabel(0,c.label.renderer(x[0])),t=Math.floor(Math.abs(Math.sin(h.rotate&&h.rotate.degrees*Math.PI/180||0))),u=0;u<v;u++){n=y[u],o=c.label.renderer(x[u])||"",r=c.getOrCreateLabel(u,o),e=r._bbox,b=f(b,e.height+c.dashSize+c.label.padding),s=p(n[0]-(t?e.height:e.width)/2),0==c.chart.maxGutter[0]&&(0==u&&g.findIndex("position","left")==-1?s=n[0]:u==a&&g.findIndex("position","right")==-1&&(s=n[0]-e.width)),l="top"==m?n[1]-2*c.dashSize-c.label.padding-e.height/2:n[1]+2*c.dashSize+c.label.padding+e.height/2;var A=h.rotate&&h.rotate.degrees&&!Ext.Array.contains([0,90,180,270,360],h.rotate.degrees),w=Math.floor((r.text.length-12)*-1*.75),S=A?n[0]-r._bbox.width+w:s;r.setAttributes({hidden:!1,x:S,y:l},!0),0==u||!c.intersect(r,i)&&!c.intersect(r,d)?i=r:r.hide(!0)}return b}}),Ext.override(Ext.chart.axis.Radial,{drawLabel:function(){var t,e,n,i,r,o,a=this.chart,s=a.surface,l=a.chartBBox,u=a.store,d=l.x+l.width/2,c=l.y+l.height/2,h=Math.min(l.width,l.height)/2,p=Math.max,f=Math.round,g=[],m=[],y=[],v=!this.maximum,x=this.maximum||0,b=this.steps,A=0,w=2*Math.PI,S=Math.cos,E=Math.sin,C=this.label.display,P="none"!==C,M=10,T="#333",k="normal 9px sans-serif",I=a.seriesStyle;if(T=I?I.labelColor:T,k=I?I.labelFont:k,P){if(a.series.each(function(t){m.push(t.yField),n=t.xField}),u.each(function(t,i){if(v)for(i=0,e=m.length;i<e;i++)x=p(+t.get(m[i]),x);y.push(t.get(n))}),this.labelArray){if(g=this.labelArray,"categories"!=C)for(A=0;A<b;A++)g[A].setAttributes({text:f((A+1)/b*x),x:d,y:c-h*(A+1)/b,"text-anchor":"middle","stroke-width":.1,stroke:"#333",fill:T,font:k},!0);if("scale"!=C)for(i=0,b=y.length;i<b;i++)r=S(i/b*w)*(h+M),o=E(i/b*w)*(h+M),g[A+i]&&g[A+i].setAttributes({type:"text",text:y[i],x:d+r,y:c+o,"text-anchor":r*r<=.001?"middle":r<0?"end":"start",fill:T,font:k},!0)}else{if("categories"!=C)for(A=1;A<=b;A++)t=s.add({type:"text",text:f(A/b*x),x:d,y:c-h*A/b,"text-anchor":"middle","stroke-width":.1,stroke:"#333",fill:T,font:k}),t.setAttributes({hidden:!1},!0),g.push(t);if("scale"!=C)for(i=0,b=y.length;i<b;i++)r=S(i/b*w)*(h+M),o=E(i/b*w)*(h+M),t=s.add({type:"text",text:y[i],x:d+r,y:c+o,"text-anchor":r*r<=.001?"middle":r<0?"end":"start",fill:T,font:k}),t.setAttributes({hidden:!1},!0),g.push(t)}this.labelArray=g}}})}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=e.extOverrides=void 0;e.extOverrides=n=function(){Ext.QuickTips.init()}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.EventDataTable=void 0;var r=n(4),o=(i(r),n(10)),a=i(o),s=n(46),l=i(s),u=e.EventDataTable=void 0;e.EventDataTable=u=function(t,e,n){var i=(t.appManager,t.uiManager,t.i18nManager),r=(t.dimensionConfig,t.optionConfig),o=(t.api.ResponseRowIdCombination,i.get(),["eventdate"]),s=n.getFilteredHeaders([].concat(o,e.getDimensionNames())),u=n.rows,d=n.metaData.items,c=[],h="",p=n.metaData.pager,f=p.page*p.pageSize-p.pageSize,g=[];c.push("pivot"),c.push(e.displayDensity!==r.getDisplayDensity("normal")?" displaydensity-"+e.displayDensity:null),c.push(e.fontSize!==r.getFontSize("normal")?" fontsize-"+e.fontSize:null),h+='<table class="'+(0,a["default"])(c).join(" ")+'"><tr>',h+='<td class="pivot-dim pivot-dim-subtotal">#</td>',s.forEach(function(t){var e=(0,l["default"])();h+='<td id="'+e+'" class="pivot-dim td-sortable">'+t.column+"</td>",g.push({id:t.name,uuid:e})}),h+="</tr>";for(var m,y,v=0;v<u.length;v++){m=u[v],y="";for(var x,b,A,w,S=0;S<s.length;S++)x=s[S],b=m[x.index],A=(x.isPrefix?x.name+"_":"")+b,w=(d[A]||{}).name||b,y+='<td class="pivot-value align-left">'+w+"</td>";h+='<tr><td class="pivot-value align-right">'+(f+(v+1))+"</td>"+y+"</tr>"}return h+="</table>",{sortableIdObjects:g,html:h}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.PivotTable=void 0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},a=n(3),s=i(a),l=n(6),u=i(l),d=n(2),c=i(d),h=n(23),p=i(h),f=n(34),g=i(f),m=n(1),y=i(m),v=n(75),x=i(v),b=n(76),A=i(b),w=n(4),S=i(w),E=n(10),C=i(E),P=n(65),M=n(178),T=n(66),k=n(41),I=n(159),_=n(20),O=n(20),D=e.PivotTable=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.options=o({renderLimit:1e5,renderOffset:1,cellHeight:25,cellWidth:120,trueTotals:!1,unclickable:!1,hideEmptyRows:!!e.hideEmptyRows,hideEmptyColumns:!!e.hideEmptyColumns,showDimensionLabels:!!e.showDimensionLabels,showHierarchy:!!e.showHierarchy,totalsAggregationType:e.totalsAggregationType,numberType:e.numberType,debug:{clipping:!1}},i);var r={showSubTotals:!!e.showRowSubTotals,showTotals:!!e.showRowTotals,hideEmpty:!!e.hideEmptyColumns},a={showSubTotals:!!e.showColSubTotals,showTotals:!!e.showColTotals,hideEmpty:!!e.hideEmptyRows};this.colAxis=new T.PivotTableAxis(t,e,n,O.COLUMN_AXIS,r),this.rowAxis=new T.PivotTableAxis(t,e,n,O.ROW_AXIS,a),this.title=e.title,this.digitGroupSeparator=e.digitGroupSeparator,this.fontSize=e.fontSize,this.displayDensity=e.displayDensity,this.uuidDimUuidsMap={},this.valueUuids=[],this.dimensionUuids=[],this.sortableIdObjects=[],this.filters=e.filters,this.layout=e,this.response=n,this.appManager=t.appManager,this.optionConfig=t.optionConfig,this.uiManager=t.uiManager,this.legendSet=(0,c["default"])(e.legendSet)?this.appManager.getLegendSetById(e.legendSet.id):null,this.legendDisplayStyle=e.legendDisplayStyle,this.legendDisplayStrategy=e.legendDisplayStrategy,this.valueCounter=0};D.prototype.initialize=function(){this.idValueMap=this.response.getIdMap(this.layout,"value"),this.options.trueTotals?(this.idFactorMap=this.response.getIdMap(this.layout,"factor"),this.idNumeratorMap=this.response.getIdMap(this.layout,"numerator"),this.idDenominatorMap=this.response.getIdMap(this.layout,"denominator")):(this.idFactorMap={},this.idNumeratorMap={},this.idDenominatorMap={}),this.valueLookup={},this.rowAxis.doTotals=this.rowAxis.doTotals&&!!this.colAxis.size,this.colAxis.doTotals=this.colAxis.doTotals&&!!this.rowAxis.size,this.colAxis.actualSize=this.colAxis.getActualSize(),this.rowAxis.actualSize=this.rowAxis.getActualSize(),this.initializeLookups(),this.doHideEmptyRows()&&this.rowAxis.initializeRenderLookup(),this.doHideEmptyColumns()&&this.colAxis.initializeRenderLookup()},D.prototype.setColumnStart=function(t){this.columnStart=Math.max(0,t)},D.prototype.setRowStart=function(t){this.rowStart=Math.max(0,t)},D.prototype.setColumnEnd=function(t){this.columnEnd=this.constrainWidth(t)},D.prototype.setRowEnd=function(t){this.rowEnd=this.constrainHeight(t)},D.prototype.setViewportSize=function(t,e){this.viewportWidth=t,this.viewportHeight=e},D.prototype.doAverageTotals=function(){return this.options.totalsAggregationType===this.optionConfig.getTotalsAggregationType().average.id},D.prototype.doColumnPercentage=function(){return this.options.numberType===this.optionConfig.getNumberType().percentofcolumn.id},D.prototype.doRowPercentage=function(){return this.options.numberType===this.optionConfig.getNumberType().percentofrow.id},D.prototype.doSortableColumnHeaders=function(){return this.rowAxis.type&&1===this.rowAxis.dims},D.prototype.doHideEmptyRows=function(){return this.options.hideEmptyRows&&this.colAxis.type&&this.rowAxis.type},D.prototype.doHideEmptyColumns=function(){return this.options.hideEmptyColumns&&this.colAxis.type&&this.rowAxis.type},D.prototype.doShowDimensionLabels=function(){return this.options.showDimensionLabels},D.prototype.doClipping=function(){return this.response.getSize(this.layout)>this.options.renderLimit||this.options.debug.clipping},D.prototype.doShowHierarchy=function(){return this.options.showHierarchy},D.prototype.doLegendDisplayByDataItem=function(){return this.legendDisplayStrategy===this.getLegendDisplayStrategyId(_.BY_DATA_ITEM_STRATEGY)},D.prototype.doLegendDisplay=function(){return this.legendDisplayStrategy!==this.getLegendDisplayStrategyId(_.FIXED_STRATEGY)},D.prototype.doLegendDisplayStyleFill=function(){return this.legendDisplayStyle===this.getLegendDisplayStyleId(_.FILL_STYLE)},D.prototype.doLegendDisplayStyleText=function(){return this.legendDisplayStyle===this.getLegendDisplayStyleId(_.TEXT_STYLE)},D.prototype.isDimensionTotalCell=function(t){return t.type===_.DIMENSION_SUB_TOTAL_CELL||t.type===_.DIMENSION_TOTAL_CELL},D.prototype.isCellValid=function(t){return t&&!t.collapsed},D.prototype.isColumnDimensionRow=function(t){return t<this.colAxis.dims},D.prototype.isRowDimensionColumn=function(t){return t<this.rowAxis.dims},D.prototype.isTextCell=function(t){return!(0,S["default"])(["dimension","filter"],t.type)},D.prototype.getNumberOfVisibleColumnDimensions=function(){return Math.max(0,this.colAxis.dims-this.rowStart)},D.prototype.getNumberOfVisibleRowDimensions=function(){return Math.max(0,this.rowAxis.dims-this.columnStart)},D.prototype.getTrueTotal=function(t,e,n){return t*n/e},D.prototype.getDisplayValue=function(t){return this.isCellValid(t)?this.isTextCell(t)?this.getPrettyHtml(t.displayValue):t.displayValue:""},D.prototype.getPrettyHtml=function(t){return this.optionConfig.prettyPrint(t,this.digitGroupSeparator)},D.prototype.getLegendDisplayStrategyId=function(t){return this.optionConfig.getLegendDisplayStrategy(t).id},D.prototype.getLegendDisplayStyleId=function(t){return this.optionConfig.getLegendDisplayStyle(t).id},D.prototype.getViewportWidthIndex=function(){return Math.floor(this.viewportWidth/this.options.cellWidth)+this.options.renderOffset},D.prototype.getViewportHeightIndex=function(){return Math.floor(this.viewportHeight/this.options.cellHeight)+this.options.renderOffset},D.prototype.getRowAxisSize=function(){return this.rowAxis.actualSize+this.colAxis.dims-1},D.prototype.getColumnAxisSize=function(){return this.colAxis.actualSize+this.rowAxis.dims-1},D.prototype.getLegendSetId=function(t){return this.response.metaData.items[t].legendSet},D.prototype.getValueObject=function(t,e){t=this.rowAxis.getPositionIndexWithoutTotals(t),e=this.colAxis.getPositionIndexWithoutTotals(e);var n=new P.ResponseRowIdCombination;if(this.colAxis.type){var i=this.colAxis.ids[e];n.add(i)}if(this.rowAxis.type){var r=this.rowAxis.ids[t];n.add(r)}var o=n.get(),a=this.getValueFromId(o),s=null===a;return{empty:s,value:s?0:a,numerator:this.getNumeratorValue(o),denominator:this.getDenominatorValue(o),factor:this.getFactorValue(o)}},D.prototype.getValueFromId=function(t){var e=this.idValueMap[t];return(0,p["default"])(e)?1:(e=parseFloat(e),(0,u["default"])(e)?e:null)},D.prototype.getFactorValue=function(t){return parseFloat(this.idFactorMap[t])||1},D.prototype.getNumeratorValue=function(t){return parseFloat(this.idNumeratorMap[t])||this.getValueFromId(t)},D.prototype.getDenominatorValue=function(t){return parseFloat(this.idDenominatorMap[t])||0},D.prototype.getUuidObjectMap=function(){return(0,A["default"])(this.colAxis?this.colAxis.uuidObjectMap:{},this.rowAxis?this.rowAxis.uuidObjectMap:{})},D.prototype.getColumnEnd=function(t){return this.doClipping()?this.constrainWidth(this.getViewportWidthIndex()+t):this.getColumnAxisSize()-this.colAxis.numberOfEmpty},D.prototype.getRowEnd=function(t){return this.doClipping()?this.constrainHeight(this.getViewportHeightIndex()+t):this.getRowAxisSize()-this.rowAxis.numberOfEmpty},D.prototype.getRowSortId=function(t,e){return this.doSortableColumnHeaders()&&t===this.colAxis.dims-1?this.colAxis.ids[e]:null},D.prototype.getColumnAxisLabel=function(t){return this.colAxis.dims?this.response.getNameById(this.colAxis.dimensionNames[t]):null},D.prototype.getRowAxisLabel=function(t){return this.rowAxis.dims?this.response.getNameById(this.rowAxis.dimensionNames[t]):null},D.prototype.getCrossAxisLabel=function(){var t=this.getColumnAxisLabel(this.colAxis.dims-1),e=this.getRowAxisLabel(this.rowAxis.dims-1);return this.rowAxis.type?this.colAxis.type?(t&&(e+=_.NO_BREAK_SPACE+"/"+_.NO_BREAK_SPACE+t),e):e:t},D.prototype.getTopBarSpan=function(t){var e=this.rowAxis.dims||0;return!this.colAxis.type&&this.rowAxis.type?e:t},D.prototype.addRightColumn=function(t,e,n){for(var i=this.buildColumn(t,e,n),r=0;r<i.length;r++)this.table[r].push(i[r])},D.prototype.addLeftColumn=function(t,e,n){for(var i=this.buildColumn(t,e,n),r=0;r<i.length;r++)this.table[r].unshift(i[r])},D.prototype.addTopRow=function(t,e,n){this.table.unshift(this.buildRow(t,e,n))},D.prototype.addBottomRow=function(t,e,n){this.table.push(this.buildRow(t,e,n))},D.prototype.deleteLeftColumn=function(){for(var t=0;t<this.table.length;t++)this.table[t].shift()},D.prototype.deleteRightColumn=function(){for(var t=0;t<this.table.length;t++)this.table[t].pop()},D.prototype.deleteTopRow=function(){this.table.shift()},D.prototype.deleteBottomRow=function(){this.table.pop()},D.prototype.deleteRow=function(t){this.table.splice(t,1)},D.prototype.deleteColumn=function(t){for(var e=0;e<this.table.length;e++)this.table[e].splice(t,1)},D.prototype.buildRow=function(t,e,n){var i=[];return this.isColumnDimensionRow(t)?this.buildColumnDimensionRow(t,e,n):(t-=this.colAxis.dims,this.isRowDimensionColumn(e)&&(i=this.buildRowDimensionRow(t,e)),e=Math.max(e-this.rowAxis.dims,0),n-=this.rowAxis.dims,i.concat(this.buildValueRow(t,e,n)))},D.prototype.buildColumn=function(t,e,n){var i=this.buildColumnDimensionColumn(t,e);if(this.isRowDimensionColumn(t)){var r=this.buildRowDimensionColumn(t,e,n);return i.concat(r)}return i.concat(this.buildValueColumn(t,e,n))},D.prototype.buildValueRow=function(t,e,n){for(var i=[],r=e;r<=n;r++)i.push(this.buildValueCell(r,t));return i},D.prototype.buildValueColumn=function(t,e,n){var i=[];t=Math.max(t-this.rowAxis.dims,0),e=Math.max(e-this.colAxis.dims,0),n-=this.colAxis.dims;for(var r=e;r<=n;r++)i.push(this.buildValueCell(t,r));return i},D.prototype.buildValueCell=function(t,e){e=this.rowAxis.getPositionIndexOffsetHidden(e),t=this.colAxis.getPositionIndexOffsetHidden(t);var n=this.valueLookup[e][t],i=n;if(this.doColumnPercentage()&&(0,u["default"])(n)&&(i=this.colAxis.getPercentage(n,t)),this.doRowPercentage()&&(0,u["default"])(n)&&(i=this.rowAxis.getPercentage(n,e)),this.rowAxis.isTotalPosition(e)||this.colAxis.isTotalPosition(t))return new I.TotalCell(n,i);if(this.colAxis.isSubTotalPosition(t)||this.rowAxis.isSubTotalPosition(e))return new I.SubTotalCell(n,i);if(null===n||"undefined"==typeof n)return new I.PlainValueCell(n,i);e=this.rowAxis.getPositionIndexWithoutTotals(e),t=this.colAxis.getPositionIndexWithoutTotals(t);var r=new I.ValueCell(n,i),o=new P.ResponseRowIdCombination;return this.colAxis.type&&o.add(this.colAxis.ids[t]),this.rowAxis.type&&o.add(this.rowAxis.ids[e]),r.dxId=o.getIdByIds(this.response.metaData.dimensions.dx),r.peId=o.getIdByIds(this.response.metaData.dimensions.pe),r.ouId=o.getIdByIds(this.response.metaData.dimensions.ou),r.uuids=[],this.colAxis.type&&(r.uuids=r.uuids.concat(this.colAxis.objects.all[this.colAxis.dims-1][t].uuids)),this.rowAxis.type&&(r.uuids=r.uuids.concat(this.rowAxis.objects.all[this.rowAxis.dims-1][e].uuids)),this.uuidDimUuidsMap[r.uuid]=r.uuids,r},D.prototype.buildRowDimension=function(){var t=[];if(!this.rowAxis.type)return this.doShowDimensionLabels()&&(t[0]=[new I.DimensionEmptyCell({style:"visibility: hidden;"})]),t;for(var e=this.rowStart;e<=this.rowEnd-this.colAxis.dims;e++)t.push(this.buildRowDimensionRow(e,this.columnStart));return t},D.prototype.buildRowDimensionRow=function(t,e){if(this.rowAxis.dims<e)return[];if(!this.rowAxis.type)return[new I.DimensionEmptyCell({style:"visibility: hidden;"})];for(var n=[],i=e;i<this.rowAxis.dims;i++)n.push(this.buildRowDimensionCell(i,t));return n},D.prototype.buildColumnDimensionRow=function(t,e,n){var i=[];if(this.colAxis.dims<t)return i;if(this.isRowDimensionColumn(e)&&o(i,this.buildCornerDimensionRow(t,e)),!this.colAxis.type)return i;e+=i.length,e-=this.rowAxis.dims,n-=this.rowAxis.dims;for(var r=i.length;e<=n;r++,e++)i[r]=this.buildColumnDimensionCell(t,e);return i},D.prototype.buildRowDimensionColumn=function(t,e,n){var i=[];if(this.rowAxis.dims<t)return i;if(!this.rowAxis.type){for(var r=0;r<=n-e;r++)i[r]=new I.DimensionEmptyCell({style:"visibility: hidden;"});return i}e=Math.max(e-this.colAxis.dims,0),n-=this.colAxis.dims;for(var o=e;o<=n;o++)i.push(this.buildRowDimensionCell(t,o));return i},D.prototype.buildRowDimensionCell=function(t,e){e=this.rowAxis.getPositionIndexOffsetHidden(e);var n={},i=_.NO_BREAK_SPACE;return this.rowAxis.isSubTotalPosition(e)?(n.colSpan=this.rowAxis.dims-t,n.hidden=t!==this.columnStart,new I.DimensionSubTotalCell(i,n)):this.rowAxis.isTotalPosition(e)?(n.colSpan=this.rowAxis.dims-t,
0!==t&&(n.sort=_.TOTAL_SORT,n.generateUuid=!0,n.hidden=!0),i=0===t?"Total":_.NO_BREAK_SPACE,new I.DimensionGrandTotalCell(i,n)):(e=this.rowAxis.getPositionIndexWithoutTotals(e),n=this.rowAxis.objects.all[t][e],n.showHierarchy=this.doShowHierarchy(),i=this.response.getItemName(n.id,n.showHierarchy,!0),new I.RowAxisCell(i,n))},D.prototype.buildColumnDimensionCell=function(t,e){e=this.colAxis.getPositionIndexOffsetHidden(e);var n={},i=_.NO_BREAK_SPACE;return this.colAxis.isSubTotalPosition(e)?(n.hidden=t!==this.rowStart,n.rowSpan=this.colAxis.dims-t,new I.DimensionSubTotalCell(i,n)):this.colAxis.isTotalPosition(e)?(n.hidden=t!==this.rowStart,n.rowSpan=this.colAxis.dims-t,n.sort=t===this.rowStart&&this.doSortableColumnHeaders()?_.TOTAL_SORT:null,n.generateUuid=0===t,i=0===t?"Total":_.NO_BREAK_SPACE,new I.DimensionGrandTotalCell(i,n)):(e=this.colAxis.getPositionIndexWithoutTotals(e),n=this.colAxis.objects.all[t][e],n.showHierarchy=this.doShowHierarchy(),n.sort=this.getRowSortId(t,e),i=this.response.getItemName(n.id,n.showHierarchy,!0),new I.ColumnAxisCell(i,n))},D.prototype.buildColumnDimension=function(){if(!this.colAxis.type)return this.buildCornerDimensionRow(0,0);for(var t=[],e=this.columnStart;e<=this.columnEnd;e++)t.push(this.buildColumnDimensionColumn(e,this.rowStart));return t},D.prototype.buildColumnDimensionColumn=function(t,e){if(this.colAxis.dims<e)return[];if(this.isRowDimensionColumn(t))return this.buildCornerDimensionColumn(t,e);t-=this.rowAxis.dims;for(var n=[],i=e;i<this.colAxis.dims;i++)n.push(this.buildColumnDimensionCell(i,t));return n},D.prototype.buildCornerDimension=function(){for(var t=[],e=0;e<this.colAxis.dims;e++)t[e]=this.buildCornerDimensionRow(e,0);return t},D.prototype.buildCornerDimensionColumn=function(t,e){var n=[];if(!this.doShowDimensionLabels()){var i=this.rowAxis.dims-t,r=this.colAxis.dims-e,o=t!==this.columnStart;n.push(new I.DimensionEmptyCell({colSpan:i,rowSpan:r,hidden:o}));for(var a=e+1;a<this.colAxis.dims;a++)r=this.colAxis.dims-a,n.push(new I.DimensionEmptyCell({colSpan:i,rowSpan:r,hidden:!0}));return n}if(t===this.rowAxis.dims-1){for(var s=e;s<this.colAxis.dims-1;s++)n.push(new I.DimensionLabelCell(this.getColumnAxisLabel(s)));return n.push(new I.DimensionLabelCell(this.getCrossAxisLabel())),n}for(var l=e;l<this.colAxis.dims-1;l++)n.push(new I.DimensionLabelCell(_.NO_BREAK_SPACE));return n.push(new I.DimensionLabelCell(this.getRowAxisLabel(t))),n},D.prototype.buildCornerDimensionRow=function(t,e){var n=[];if(!this.doShowDimensionLabels()){var i=this.rowAxis.dims-e,r=this.colAxis.dims-t,o=e===this.columnStart;n.push(new I.DimensionEmptyCell({colSpan:i,rowSpan:r,hidden:o}));for(var a=e+1;a<this.rowAxis.dims;a++)i=this.rowAxis.dims-a,n.push(new I.DimensionEmptyCell({colSpan:i,rowSpan:r,hidden:!0}));return n}if(t===this.colAxis.dims-1||0===this.colAxis.dims){for(var s=e;s<this.rowAxis.dims-1;s++)n.push(new I.DimensionLabelCell(this.getRowAxisLabel(s)));return n.push(new I.DimensionLabelCell(this.getCrossAxisLabel())),n}for(var l=e;l<this.rowAxis.dims-1;l++)n.push(new I.DimensionLabelCell(_.NO_BREAK_SPACE));return n.push(new I.DimensionLabelCell(this.getColumnAxisLabel(t))),n},D.prototype.updateValueTotal=function(t,e,n,i){i[t]||(i[t]={}),i[t][e]||(i[t][e]={numerator:0,denominator:0,factor:0,counter:0,empty:0,value:0}),null===n.value&&i[t][e].empty++,i[t][e].counter++,(0,k.addMerge)(i[t][e],n)},D.prototype.valueLookupInsert=function(t,e,n){this.valueLookup[e]||(this.valueLookup[e]={}),this.valueLookup[e][n]=t,this.valueCounter+=1},D.prototype.initializeLookups=function(){var t=this.rowAxis.actualSize,e=this.colAxis.actualSize;this.rowAxis.doTotals&&1!==e&&(t-=1),this.colAxis.doTotals&&1!==t&&(e-=1);for(var n={},i=0;i<t;i+=this.rowAxis.isSubTotalPosition(i+1)?2:1)for(var r=0;r<e;r+=this.colAxis.isSubTotalPosition(r+1)?2:1){var o=this.getValueObject(i,r),a=this.rowAxis.getNextTotalPosition(),s=this.colAxis.getNextTotalPosition(),l=this.rowAxis.getNextSubTotalPosition(i),u=this.colAxis.getNextSubTotalPosition(r);o&&this.valueLookupInsert(o.empty?null:o.value,i,r),o.empty||(this.rowAxis.totalLookup[i]||(this.rowAxis.totalLookup[i]=0),this.colAxis.totalLookup[r]||(this.colAxis.totalLookup[r]=0),this.rowAxis.totalLookup[a]||(this.rowAxis.totalLookup[a]=0),this.colAxis.totalLookup[s]||(this.colAxis.totalLookup[s]=0),this.rowAxis.totalLookup[i]+=o.value,this.colAxis.totalLookup[r]+=o.value,this.rowAxis.totalLookup[a]+=o.value,this.colAxis.totalLookup[s]+=o.value,this.rowAxis.doSubTotals&&(this.rowAxis.totalLookup[l]||(this.rowAxis.totalLookup[l]=0),this.rowAxis.totalLookup[l]+=o.value),this.colAxis.doSubTotals&&(this.colAxis.totalLookup[u]||(this.colAxis.totalLookup[u]=0),this.colAxis.totalLookup[u]+=o.value)),this.rowAxis.doSubTotals&&this.updateValueTotal(l,r,o,n),this.colAxis.doSubTotals&&this.updateValueTotal(i,u,o,n),this.rowAxis.doTotals&&this.updateValueTotal(a,r,o,n),this.colAxis.doTotals&&this.updateValueTotal(i,s,o,n),this.rowAxis.doTotals&&this.colAxis.doTotals&&this.updateValueTotal(a,s,o,n),this.colAxis.doSubTotals&&this.rowAxis.doSubTotals&&this.updateValueTotal(l,u,o,n),this.rowAxis.doTotals&&this.colAxis.doSubTotals&&this.updateValueTotal(a,u,o,n),this.colAxis.doTotals&&this.rowAxis.doSubTotals&&this.updateValueTotal(l,s,o,n)}for(var d=Object.keys(n),c=0;c<d.length;c++)for(var h=Object.keys(n[d[c]]),p=0;p<h.length;p++){var f=parseInt(d[c]),g=parseInt(h[p]);if(this.valueLookup[f]||(this.valueLookup[f]={}),n[f][g].counter!==n[f][g].empty){var m=this.response.metaData.items,y=null,v=null;this.rowAxis.ids[c]&&(v=m[this.rowAxis.ids[c].split("-")[0]].totalAggregationType),this.colAxis.ids[p]&&(y=m[this.colAxis.ids[p].split("-")[0]].totalAggregationType);var x=n[f][g],b=x.value,A=x.numerator,w=x.denominator,S=x.factor,E=x.counter,C=b;if((this.rowAxis.isSubTotalPosition(f)||this.rowAxis.isTotalPosition(f))&&(O.AVERAGE_AGGREGATION_TOTAL===y?C=this.getTrueTotal(A,w||1,S/E):O.SUM_AGGREGATION_TOTAL===y&&(C=b)),(this.colAxis.isSubTotalPosition(g)||this.colAxis.isTotalPosition(g))&&(O.AVERAGE_AGGREGATION_TOTAL===v?C=this.getTrueTotal(A,w||1,S/E):O.SUM_AGGREGATION_TOTAL===v&&(C=b)),this.doSortableColumnHeaders()){var M=new P.ResponseRowIdCombination(this.refs,[_.TOTAL_SORT,this.rowAxis.ids[c]]);this.idValueMap[M.get()]=C}this.valueLookupInsert(C,f,g)}}},D.prototype.constrainHeight=function(t){return Math.min(this.getRowAxisSize()-this.rowAxis.numberOfEmpty,t)},D.prototype.constrainWidth=function(t){return Math.min(this.getColumnAxisSize()-this.colAxis.numberOfEmpty,t)},D.prototype.buildTableFilter=function(t){if(!this.filters)return[];var e=this.filters.getRecordNames(!1,this.response,!0);return[[this.buildHtmlCell(new I.FilterCell(e,this.getTopBarSpan(t)))]]},D.prototype.buildTableTitle=function(t){return this.title?[[this.buildHtmlCell(new I.FilterCell(this.title,this.getTopBarSpan(t)))]]:[]},D.prototype.getLegends=function(t){return this.appManager.getLegendSetById(this.getLegendSetId(t)).legends},D.prototype.getLegendSet=function(t){return t?this.response.metaData.items[t].legendSet:null},D.prototype.buildHtmlCell=function(t){if(!(0,c["default"])(t)||t.hidden||t.collapsed)return"";var e="";if((0,s["default"])(t.sort)&&this.sortableIdObjects.push({id:t.sort,uuid:t.uuid}),t.type===_.VALUE_CELL&&this.valueUuids.push(t.uuid),t.type===_.DIMENSION_CELL&&this.dimensionUuids.push(t.uuid),this.doClipping()&&(e+="\n            min-width:"+t.width+"px!important;\n            min-height:"+t.height+"px!important;\n            max-width:"+t.width+"px!important;\n            max-height:"+t.height+"px!important;\n            width:"+t.width+"px!important;\n            height:"+t.height+"px!important;\n            white-space: nowrap!important;\n            overflow: hidden!important;\n            text-overflow: ellipsis!important;\n        "),e+=t.style?t.style:"",t.isValue){var n=void 0,i=void 0;this.options.unclickable||(t.cls+=" pointer"),n=this.doLegendDisplayByDataItem()&&this.getLegendSet(t.dxId)?this.getLegends(t.dxId):this.legendSet?this.legendSet.legends:[];for(var r=0;r<n.length;r++)(0,x["default"])(t.value,n[r].startValue,n[r].endValue)===t.value&&(i=n[r].color);this.doLegendDisplayStyleFill()&&i&&(e+="\n                background-color:"+i+";\n                color:"+((0,M.isColorBright)(i)?_.BLACK_COLOR:_.WHITE_COLOR)+";\n            "),this.doLegendDisplayStyleText()&&i&&(e+="color:"+i+";")}return'\n        <td data-ou-id="'+(t.ouId||"")+'"\n            data-period-id="'+(t.peId||"")+'"\n            class="'+t.cls+'"\n            id="'+(t.uuid||"")+'"\n            title="'+(t.title||"")+'"\n            style="'+e+'"\n            colspan="'+(t.colSpan||"")+'"\n            rowSpan="'+(t.rowSpan||"")+'"\n        >\n            '+this.getDisplayValue(t)+"\n        </td>\n    "},D.prototype.buildTopPaddingHtmlRow=function(){var t=this.buildTopPaddingHtmlCell();return t?"<tr>"+t+"</tr>":""},D.prototype.buildBottomPaddingHtmlRow=function(){var t=this.buildBottomPaddingHtmlCell();return t?"<tr>"+t+"</tr>":""},D.prototype.buildTopPaddingHtmlCell=function(){var t=this.rowStart*this.options.cellHeight;!this.options.skipTitle&&this.rowStart>0&&(t+=this.options.cellHeight);var e=new I.TopPaddingCell(t);return this.buildHtmlCell(e)},D.prototype.buildBottomPaddingHtmlCell=function(){var t=(this.rowAxis.actualSize-this.rowEnd-this.rowAxis.numberOfEmpty)*this.options.cellHeight,e=new I.BottomPaddingCell(t);return this.buildHtmlCell(e)},D.prototype.buildLeftPaddingHtmlCell=function(){var t=this.columnStart*this.options.cellWidth,e=new I.LeftPaddingCell(t);return this.buildHtmlCell(e)},D.prototype.buildRightPaddingHtmlCell=function(){var t=(this.colAxis.actualSize-this.columnEnd-this.colAxis.numberOfEmpty)*this.options.cellWidth,e=new I.RightPaddingCell(t);return this.buildHtmlCell(e)},D.prototype.buildHtmlTable=function(){var t=this,e="pivot user-select",n="\n        display:flex!important;\n        overflow:visible;\n    ";e+=this.displayDensity?" displaydensity-"+this.displayDensity:"",e+=this.fontSize?" fontsize-"+this.fontSize:"";var i=(0,C["default"])([].concat(this.options.skipTitle||this.rowStart>0?[]:this.buildTableTitle(this.table[0].length),this.buildTableFilter(this.table[0].length),this.table.map(function(e){return e.map(function(e){return t.buildHtmlCell(e)})}))),r=i.reduce(function(e,n){return e+=n?" \n            <tr> \n                "+(t.doClipping()?t.buildLeftPaddingHtmlCell():"")+"\n                "+n.join("")+"\n                "+(t.doClipping()?t.buildRightPaddingHtmlCell():"")+"\n            </tr>\n        ":""},"");return'\n        <div style="'+n+'">\n            <table class="'+e+'">\n                <tbody>\n                    '+(this.doClipping()?this.buildTopPaddingHtmlRow():"")+"\n                    "+r+"\n                    "+(this.doClipping()?this.buildBottomPaddingHtmlRow():"")+"\n                </tbody>\n            </table>\n        </div>\n    "},D.prototype.build=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.setColumnStart(t),this.setRowStart(e);var n=this.getColumnEnd(t),i=this.getRowEnd(e);this.setColumnEnd(n),this.setRowEnd(i);for(var o=this.buildRowDimension(),a=this.buildColumnDimension(),s=this.buildValueTable(),l=0;l<o.length;l++){var u;(u=o[l]).push.apply(u,r(s[l]))}(0,y["default"])(a[0])||(a=[a]),this.colAxis.type&&(a=a[0].map(function(t,e){return a.map(function(t){return t[e]})})),this.table=a.concat(o)},D.prototype.render=function(){return this.valueUuids=[],this.dimensionUuids=[],this.sortableIdObjects=[],this.doHideEmptyRows()&&(0,g["default"])(this.rowAxis.renderLookup)&&this.doHideEmptyColumns()&&(0,g["default"])(this.colAxis.renderLookup)?"There is no data to display, and empty rows and columns are hidden.":this.doHideEmptyRows()&&(0,g["default"])(this.rowAxis.renderLookup)?"There is no data to display, and empty rows are hidden.":this.doHideEmptyColumns()&&(0,g["default"])(this.colAxis.renderLookup)?"There is no data to display, and empty columns are hidden.":(this.updateCornerDimensionSpan(),this.updateColumnDimensionSpan(),this.updateRowDimensionSpan(),this.buildHtmlTable())},D.prototype.update=function(t,e){e>0&&!this.options.skipTitle&&(e-=1);for(var n=this.getColumnEnd(t),i=this.getRowEnd(e);t!==this.columnStart||e!==this.rowStart||n!==this.columnEnd||i!==this.rowEnd;)this.applyChange(t,n,e,i);return this.render()},D.prototype.applyChange=function(t,e,n,i){this.columnStart>t&&(this.columnStart--,this.addLeftColumn(this.columnStart,this.rowStart,this.rowEnd)),this.columnEnd<e&&(this.setColumnEnd(this.columnEnd+1),this.addRightColumn(this.columnEnd,this.rowStart,this.rowEnd)),this.rowStart>n&&(this.rowStart--,this.addTopRow(this.rowStart,this.columnStart,this.columnEnd)),this.rowEnd<i&&(this.setRowEnd(this.rowEnd+1),this.addBottomRow(this.rowEnd,this.columnStart,this.columnEnd)),this.rowStart<n&&(this.rowStart++,this.deleteTopRow()),this.rowEnd>i&&(this.setRowEnd(this.rowEnd-1),this.deleteBottomRow()),this.columnStart<t&&(this.columnStart++,this.deleteLeftColumn()),this.columnEnd>e&&(this.setColumnEnd(this.columnEnd-1),this.deleteRightColumn())},D.prototype.buildValueTable=function(){var t=this.rowEnd-this.getNumberOfVisibleColumnDimensions(),e=this.columnEnd-this.getNumberOfVisibleRowDimensions(),n=t-this.rowStart,i=e-this.columnStart,r=[];this.doClipping()&&(n=Math.min(n,this.rowAxis.actualSize),i=Math.min(i,this.colAxis.actualSize));for(var o=0,a=this.rowStart;o<=n;o++,a++){r.push([]);for(var s=0,l=this.columnStart;s<=i;s++,l++)r[o].push(this.buildValueCell(l,a))}return r},D.prototype.updateRowDimensionSpan=function(){if(this.rowAxis.type)for(var t=this.rowEnd-this.rowStart+1-Math.max(0,this.colAxis.dims-this.rowStart),e=this.getNumberOfVisibleRowDimensions(),n=this.getNumberOfVisibleColumnDimensions(),i=Math.max(0,this.rowStart-this.colAxis.dims),r=0,o=this.columnStart;r<e;r++,o++)for(var a=null,s=0,l=n,u=i;l<this.table.length;l++,u++){var d=this.table[l][r];this.isCellValid(d)&&!this.rowAxis.isPositionHidden(u)&&(this.isDimensionTotalCell(d)?(s+=1,d.hidden=0!==r):(d.hidden=a===d.oldestSibling.uuid)?a=d.oldestSibling.uuid:(1===this.rowAxis.span[o]?d.rowSpan=1:d.rowSpan=this.rowAxis.getDimensionSpan(u,o),d.rowSpan+s>t&&(d.rowSpan=t-s),a=d.oldestSibling.uuid,s+=d.rowSpan))}},D.prototype.updateColumnDimensionSpan=function(){if(this.colAxis.type)for(var t=this.columnEnd-this.columnStart+1-Math.max(0,this.rowAxis.dims-this.columnStart),e=this.getNumberOfVisibleColumnDimensions(),n=this.getNumberOfVisibleRowDimensions(),i=Math.max(0,this.columnStart-this.rowAxis.dims),r=0,o=this.rowStart;r<e;r++,o++)for(var a=null,s=0,l=n,u=i;l<this.table[r].length;l++,u++){var d=this.table[r][l];this.isCellValid(d)&&!this.colAxis.isPositionHidden(u)&&(this.isDimensionTotalCell(d)?(s+=1,d.hidden=0!==r):(d.hidden=a===d.oldestSibling.uuid)?a=d.oldestSibling.uuid:(1===this.colAxis.span[o]?d.colSpan=1:d.colSpan=this.colAxis.getDimensionSpan(u,o),d.colSpan+s>t&&(d.colSpan=t-s),a=d.oldestSibling.uuid,s+=d.colSpan))}},D.prototype.updateCornerDimensionSpan=function(){for(var t=this.getNumberOfVisibleColumnDimensions(),e=this.getNumberOfVisibleRowDimensions(),n=0;n<e;n++)for(var i=0;i<t;i++){var r=this.table[i][n];this.isCellValid(r)&&(r.type===_.LABELED_CELL&&(r.hidden=!1),r.type===_.EMPTY_CELL&&(r.hidden=!(0===n&&0===i)))}},D.prototype.scrollHandler=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Function.prototype,r=Math.floor(e/this.options.cellHeight),o=Math.floor(n/this.options.cellWidth),a=0===r?0:1;this.rowStart+a===r&&this.columnStart===o||(t(this.update(o,r)),i())},D.prototype.resizeHandler=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Function.prototype,r=Math.floor(n/this.options.cellHeight),o=Math.floor(e/this.options.cellWidth),a=0===r?0:1;this.rowEnd-this.rowStart===r+a&&this.columnEnd-this.columnStart===o+a||(t(this.update(this.columnStart,this.rowStart)),this.setViewportSize(e,n),i())},D.prototype.getSingleValue=function(){if(this.valueLookup[0]&&null!==this.valueLookup[0][0]&&"undefined"!=typeof this.valueLookup[0][0])return this.valueLookup[0][0]},D.prototype.getSubtitle=function(){var t="";if(this.rowAxis)for(var e=0;e<this.rowAxis.objects.all.length;e++)for(var n=0;n<this.rowAxis.objects.all[e].length;n++)0!==t.length&&(t+=", "),t+=this.rowAxis.objects.all[e][n].displayValue;if(this.colAxis)for(var i=0;i<this.colAxis.objects.all.length;i++)for(var r=0;r<this.colAxis.objects.all[i].length;r++)0!==t.length&&(t+=", "),t+=this.colAxis.objects.all[i][r].displayValue;return t},D.prototype.renderCard=function(){var t=this.getSingleValue(),e='\n        <span style="display:block;font-size:8em;">\n            '+(t?t:"Empty")+"\n        </span>\n    ",n='\n        <span style="display:block;fontcolor:#555;font-size:18px;">\n            '+(this.title?this.title:"")+"\n        </span>\n    ",i='\n        <span style="display:block;fontcolor:#555;font-size:14px;">\n            '+this.getSubtitle()+"\n        </span>\n    ";return'\n        <div style="width=100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;">\n            '+e+" <br />\n            "+n+"\n            "+i+"\n        </div>\n    "}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.FilterCell=e.RightPaddingCell=e.LeftPaddingCell=e.TopPaddingCell=e.BottomPaddingCell=e.PaddingCell=e.DimensionLabelCell=e.DimensionEmptyCell=e.DimensionGrandTotalCell=e.DimensionSubTotalCell=e.ColumnAxisCell=e.RowAxisCell=e.TotalCell=e.SubTotalCell=e.PlainValueCell=e.ValueCell=e.TextCell=e.NumberCell=e.TableCell=void 0;var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},l=n(41),u=n(46),d=i(u),c=n(20),h=e.TableCell=function m(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,m),this.collapsed=!1,this.hidden=!1,this.empty=!1,this.colSpan=1,this.rowSpan=1,this.width=120,this.height=25,this.style="",s(this,t)},p=e.NumberCell=function(t){function e(t,n,i){a(this,e);var o=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i));return o.value=t,"string"==typeof n?o.displayValue=n:"number"==typeof n?o.displayValue=(0,l.getRoundedHtmlValue)(n):o.displayValue="&nbsp;",o.title=o.displayValue,o}return o(e,t),e}(h),f=e.TextCell=function(t){function e(t,n){a(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return i.displayValue="string"!=typeof t&&"number"!=typeof t?"&nbsp;":t,i.title=i.displayValue,i}return o(e,t),e}(h),g=(e.ValueCell=function(t){function e(t,n,i){a(this,e);var o=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i));return o.type=c.VALUE_CELL,o.cls="pivot-value",o.isValue=!0,o.uuid=(0,d["default"])(),o}return o(e,t),e}(p),e.PlainValueCell=function(t){function e(t,n,i){a(this,e);var o=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i));return o.type=c.VALUE_CELL,o.cls="pivot-value",o}return o(e,t),e}(p),e.SubTotalCell=function(t){function e(t,n,i){a(this,e);var o=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i));return o.type=c.SUB_TOTAL_CELL,o.cls="pivot-value-subtotal",o}return o(e,t),e}(p),e.TotalCell=function(t){function e(t,n,i){a(this,e);var o=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i));return o.type=c.TOTAL_CELL,o.cls="pivot-value-total-subgrandtotal",o}return o(e,t),e}(p),e.RowAxisCell=function(t){function e(t,n){a(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.type=c.DIMENSION_CELL,i.cls="pivot-dim pivot-row-dim td-nobreak",i.axis="row",i.showHierarchy&&(i.csl+=" align-left"),i}return o(e,t),e}(f),e.ColumnAxisCell=function(t){function e(t,n){a(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.type=c.DIMENSION_CELL,i.cls="pivot-dim pivot-col-dim",i.axis="column",i.sort&&(i.cls+=" td-sortable"),i}return o(e,t),e}(f),e.DimensionSubTotalCell=function(t){function e(t,n){a(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.type=c.DIMENSION_SUB_TOTAL_CELL,i.cls="pivot-dim-subtotal",i}return o(e,t),e}(f),e.DimensionGrandTotalCell=function(t){function e(t,n,i){a(this,e);var o=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i));return o.type=c.DIMENSION_TOTAL_CELL,o.cls="pivot-dim-total",o.sort&&(o.cls+=" td-sortable"),o.generateUuid&&(o.uuid=(0,d["default"])()),o}return o(e,t),e}(f),e.DimensionEmptyCell=function(t){function e(t){a(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"&nbsp;",t));return n.type=c.EMPTY_CELL,n.cls="pivot-empty",n}return o(e,t),e}(f),e.DimensionLabelCell=function(t){function e(t,n){a(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.type=c.LABELED_CELL,i.cls="pivot-dim-label",i.axis="row",i}return o(e,t),e}(f),e.PaddingCell=function(t){function e(t){a(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.type=c.PADDING_CELL,n.displayValue="&nbsp;",n}return o(e,t),e}(h));e.BottomPaddingCell=function(t){function e(t,n){a(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return i.cls="pivot-padding bottom-padding",i.hidden=t<=0,i.height=t,i}return o(e,t),e}(g),e.TopPaddingCell=function(t){function e(t,n){a(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return i.cls="pivot-padding top-padding",i.hidden=t<=0,i.height=t,i}return o(e,t),e}(g),e.LeftPaddingCell=function(t){function e(t,n){a(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return i.cls="pivot-padding left-padding",i.hidden=t<=0,i.width=t,i}return o(e,t),e}(g),e.RightPaddingCell=function(t){function e(t,n){a(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return i.cls="pivot-padding right-padding",i.hidden=t<=0,i.width=t,i}return o(e,t),e}(g),e.FilterCell=function(t){function e(t,n,i){a(this,e);var o=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i));return o.type=c.FILTER_CELL,o.cls="pivot-filter cursor-default",o.displayValue=t,o.colSpan=n,o}return o(e,t),e}(h)},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=e.ChartDownloadButtonItems=void 0;e.ChartDownloadButtonItems=n=function(t){var e=t.uiManager,n=t.instanceManager,i=t.i18nManager.get(),r=function(){return n.getStateFavoriteName()||n.getStateCurrent().title||i.untitled};return[{xtype:"label",text:i.graphics,style:"padding:7px 5px 5px 7px; font-weight:bold"},{text:i.image_png+" (.png)",iconCls:"ns-menu-item-image",handler:function(){e.submitSvgForm("png",r())}},{text:"PDF (.pdf)",iconCls:"ns-menu-item-image",handler:function(){e.submitSvgForm("pdf",r())}}]}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=e.ChartTypeToolbar=void 0;e.ChartTypeToolbar=n=function(t){var e=(t.appManager,t.uiManager,t.instanceManager,t.i18nManager.get()),n=t.dimensionConfig,i=(n.get("data"),n.get("period"),n.get("organisationUnit"),n.get("category"),t.chartConfig),e=t.i18nManager.get(),r=[],o=function(t){r.push(t)},a=Ext.create("Ext.button.Button",{xtype:"button",chartType:i.client.column,iconCls:"ns-button-icon-type-column",name:i.client.column,tooltipText:e.column_chart,pressed:!0,listeners:{added:o}}),s=Ext.create("Ext.button.Button",{xtype:"button",chartType:i.client.stackedcolumn,iconCls:"ns-button-icon-type-columnstacked",name:i.client.stackedcolumn,tooltipText:e.stacked_column_chart,listeners:{added:o}}),l=Ext.create("Ext.button.Button",{xtype:"button",chartType:i.client.bar,iconCls:"ns-button-icon-type-bar",name:i.client.bar,tooltipText:e.bar_chart,listeners:{added:o}}),u=Ext.create("Ext.button.Button",{xtype:"button",chartType:i.client.stackedbar,iconCls:"ns-button-icon-type-barstacked",name:i.client.stackedbar,tooltipText:e.stacked_bar_chart,listeners:{added:o}}),d=Ext.create("Ext.button.Button",{xtype:"button",chartType:i.client.line,iconCls:"ns-button-icon-type-line",name:i.client.line,tooltipText:e.line_chart,listeners:{added:o}}),c=Ext.create("Ext.button.Button",{xtype:"button",chartType:i.client.area,iconCls:"ns-button-icon-type-area",name:i.client.area,tooltipText:e.area_chart,listeners:{added:o}}),h=Ext.create("Ext.button.Button",{xtype:"button",chartType:i.client.pie,iconCls:"ns-button-icon-type-pie",name:i.client.pie,tooltipText:e.pie_chart,listeners:{added:o}}),p=Ext.create("Ext.button.Button",{xtype:"button",chartType:i.client.radar,iconCls:"ns-button-icon-type-radar",name:i.client.radar,tooltipText:e.radar_chart,listeners:{added:o}}),f=Ext.create("Ext.button.Button",{xtype:"button",chartType:i.client.gauge,iconCls:"ns-button-icon-type-gauge",name:i.client.gauge,tooltipText:e.meter_chart,listeners:{added:o}}),g=Ext.create("Ext.toolbar.Toolbar",{height:45,style:"padding-top:1px; border:0 none; border-top:1px solid #dadada",reset:function(){this.setChartType()},getChartType:function(){for(var t=0;t<r.length;t++)if(r[t].pressed)return r[t].chartType},setChartType:function(t){if(!t)return void r[0].toggle(!0);for(var e=0;e<r.length;e++)r[e].chartType===t&&r[e].toggle(!0)},defaults:{height:40,toggleGroup:"charttype",handler:function(t){t.pressed||t.toggle()},listeners:{afterrender:function(t){"button"===t.xtype&&Ext.create("Ext.tip.ToolTip",{target:t.getEl(),html:t.tooltipText,anchor:"bottom"})}}},items:[{xtype:"label",text:e.type,style:"font-size:11px; font-weight:bold; padding:13px 8px 0 6px"},a,s,l,u,d,c,h,p,f]});return g}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},i=e.ConfirmButton=void 0;e.ConfirmButton=i=function(t,e){var i=e.type,r=void 0===i?"confirm":i,o=e.text,a=void 0===o?"OK":o,s=e.fn,l=void 0===s?Function.prototype:s,u=e.closeFn,d=void 0===u?Function.prototype:u,c=e.applyConfig,h=void 0===c?{}:c,p=(t.i18nManager.get(),{padding:"0 3px",borderRadius:"2px",fontWeight:"bold",btnHeight:29}),f={confirm:{color:"#fff",borderColor:"#3079ed",background:"#619dff"},close:{color:"#555",borderColor:"#ccc"}},g=n(p,f[r]);return Ext.create("Ext.button.Button",n({xtype:"button",height:p.btnHeight,minWidth:72,text:'<span style="color:'+g.color+"; font-weight:"+g.fontWeight+"; padding:"+g.padding+'">'+a+"</span>",style:"border-color:"+g.borderColor+"; background:"+g.background+"; border-radius:"+g.borderRadius,handler:function(){l(),d()}},h))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConfirmWindow=void 0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=n(162),o=e.ConfirmWindow=void 0;e.ConfirmWindow=o=function(t,e,n,o,a,s){var l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Function.prototype,u=arguments.length>7&&void 0!==arguments[7]&&arguments[7];s=s||{};var d=t.i18nManager.get(),c=o||"OK",h=d.cancel||"Cancel",p={bodyStyle:"background:#fff; border:0 none"},f=function(){return v.destroy()},g=function(){u?(f(),setTimeout(a,0)):a()},m=new r.ConfirmButton(t,{text:c,fn:g,closeFn:f}),y=new r.ConfirmButton(t,{type:"close",text:h,fn:l,closeFn:f}),v=Ext.create("Ext.window.Window",i({bodyStyle:"background:#fff; padding:30px 60px 26px 42px",defaults:p,modal:!0,preventHeader:!0,resizable:!1,closeable:!1,items:[{html:e,bodyStyle:"padding:0; border:0 none; font-size:16px",style:"margin-bottom:20px"},{html:n,bodyStyle:"padding:0; border:0 none; font-size:13px",style:"margin-bottom:16px"},{layout:"hbox",defaults:p,items:[m,{width:10},y]}],listeners:{afterrender:function(){this.setPosition(this.getPosition()[0],this.getPosition()[1]/2)},show:function(){m.focus(!1,50)}}},s));return v}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmbedButton=void 0;var i=n(165),r=e.EmbedButton=void 0;e.EmbedButton=r=function(t){var e=t.i18nManager.get();return Ext.create("Ext.button.Button",{text:e.embed,disabled:!0,menu:{},handler:function(e){(0,i.EmbedWindow)(t).show()}})}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=e.EmbedWindow=void 0;e.EmbedWindow=n=function(t){var e=(t.appManager,t.uiManager),n=(t.instanceManager,t.i18nManager.get()),i=Ext.create("Ext.form.field.TextArea",{width:700,height:400,readOnly:!0,cls:"ns-textarea monospaced",value:e.getEmbedHtml()}),r=Ext.create("Ext.window.Window",{title:n.embed_in_web_page,layout:"fit",modal:!0,resizable:!1,items:i,destroyOnBlur:!0,bbar:["->",{text:n.select,handler:function(){i.selectText()}}],listeners:{show:function(t){e.setAnchorPosition(t,"favoriteButton"),e.enableRightClick(),t.hasDestroyOnBlurHandler||e.addDestroyOnBlurHandler(t)},hide:function(){e.disableRightClick()}}});return e.reg(r,"embedWindow"),r}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=e.IntegrationButton=void 0;e.IntegrationButton=n=function(t,e){var n,i=e.isDefaultButton,r=e.objectName,o=e.moduleName,a=e.btnIconCls,s=e.btnText,l=e.menuItem1Text,u=e.menuItem2Text,d=e.menuItem3Text,c=t.appManager,h=t.uiManager,p=t.instanceManager,f=t.sessionStorageManager,g=(t.i18nManager.get(),c.getPath());return n=i?{text:s,iconCls:a,toggleGroup:"module",pressed:!0,handler:function(){this.pressed||this.toggle()}}:{text:s,iconCls:a,toggleGroup:"module",menu:{},handler:function(t){t.menu=Ext.create("Ext.menu.Menu",{closeAction:"destroy",shadow:!1,showSeparator:!1,items:[{text:l+"&nbsp;&nbsp;",cls:"ns-menu-item-noicon",listeners:{render:function(t){this.getEl().dom.addEventListener("click",function(e){t.disabled||h.redirectCtrl(g+"/"+o,e)})}}},"-",{text:u+"&nbsp;&nbsp;",cls:"ns-menu-item-noicon",disabled:!p.isStateCurrent(),listeners:{render:function(t){this.getEl().dom.addEventListener("click",function(e){if(!t.disabled){var n=p.getStateCurrent().toSession();n.parentGraphMap=h.get("treePanel").getParentGraphMap(),f.set(n,"analytical"),f.supported&&h.redirectCtrl(g+"/"+o+"/index.html?s=analytical",e)}})}}},{text:d+"&nbsp;&nbsp;",cls:"ns-menu-item-noicon",disabled:!f.get(r),listeners:{render:function(t){this.getEl().dom.addEventListener("click",function(e){t.disabled||h.redirectCtrl(g+"/"+o+"/index.html?s="+r,e)})}}}],listeners:{show:function(){h.setAnchorPosition(t.menu,t)},hide:function(){t.menu.destroy(),h.get("defaultIntegrationButton").toggle()},destroy:function(e){t.menu=null}}}),t.menu.show()}},Ext.create("Ext.button.Button",n)}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=e.LayoutButton=void 0;e.LayoutButton=n=function(t){var e=t.uiManager,n=t.i18nManager.get();return Ext.create("Ext.button.Button",{text:n.layout,menu:{},handler:function(){e.get("viewport").getLayoutWindow().show()}})}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=e.LinkWindow=void 0;e.LinkWindow=n=function(t){var e=t.appManager,n=t.uiManager,i=t.instanceManager,r=t.i18nManager.get(),o=e.getPath(),a=e.getApiPath(),s=i.apiEndpoint,l=i.apiModule,u=Ext.create("Ext.window.Window",{title:r.favorite_link,layout:"fit",modal:!0,resizable:!1,destroyOnBlur:!0,bodyStyle:"padding:12px 12px 15px; background-color:#fff; font-size:11px",
html:function(){var t=i.getStateFavorite(),e=o+"/"+l+"/index.html?id="+t.id,n=a+"/"+s+"/"+t.id+"/data.html+css",r="padding-bottom:10px; font-weight:bold; color:#444",u="";return u+='<div style="'+r+'">Open in this app</div>',u+='<a class="user-select td-nobreak" target="_blank" href="'+e+'">'+e+"</a>",u+="<br/><br/><br/>",u+='<div style="'+r+'">Open in web api</div>',u+='<a class="user-select td-nobreak" target="_blank" href="'+n+'">'+n+"</a>"}(),listeners:{show:function(t){n.setAnchorPosition(t,"favoriteButton"),n.enableRightClick(),t.hasDestroyOnBlurHandler||n.addDestroyOnBlurHandler(t)},hide:function(){n.disableRightClick()}}});return n.reg(u,"linkWindow"),u}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NorthRegion=void 0;var i=n(67),r=n(28),o=e.NorthRegion=void 0;e.NorthRegion=o=function(t,e){var n=t.appManager,o=t.instanceManager,a=t.uiManager,s=t.i18nManager,l=s.get(),u=n.getPath();e=e||{},e.appName=n.appName||"",e.i18n=e.i18n||{},e.i18n.about=e.i18n.about||l.about||"about",e.i18n.home=e.i18n.home||l.home||"home",e.i18n.untitled=e.i18n.untitled||l.untitled||"Untitled",e.theme=e.theme||a.getTheme(),e.systemTitle=e.systemTitle||n.systemSettings.systemTitle||"DHIS 2",e.logoWidth=e.logoWidth?parseFloat(e.logoWidth):418,e.aboutFn=e.aboutFn||function(){(0,i.AboutWindow)(t).getData()},e.homeFn=e.homeFn||function(){var t=u+"/dhis-web-commons-about/redirect.action";o.isStateUnsaved()?a.confirmUnsaved(l.leave_application,function(){a.disableConfirmUnload(),window.location.href=t}):window.location.href=t};var d={},c=function(t,n){t=t||e.logoWidth,n=n||0,d.logo.setWidth(t+n)},h=function(t,e){d.title.setState(t,e)};return Ext.create("Ext.toolbar.Toolbar",{componentCls:"toolbar-north",region:"north",cls:e.theme+" "+e.cls,cmp:d,setLogoWidth:c,setState:h,items:function(){var t=e.i18n.untitled;return d.logo=Ext.create("Ext.toolbar.TextItem",{cls:"logo",width:e.logoWidth,html:'<span class="brand">'+e.systemTitle+"</span> "+e.appName}),d.title=Ext.create("Ext.toolbar.TextItem",{cls:"title untitled user-select",titleText:"",appendixText:"",text:t,updateTitle:function(){this.update(this.titleText?this.titleText+this.appendixText:t)},setTitle:function(t){this.titleText=t||""},setTitleAppendix:function(t){this.appendixText=t?'<span class="appendix">['+r.DateManager.getYYYYMMDD(t,!0)+"]</span>":""},setStateSaved:function(){this.getEl().removeCls("unsaved"),this.getEl().removeCls("untitled")},setStateUnsaved:function(){this.titleText&&(this.getEl().removeCls("untitled"),this.getEl().addCls("unsaved"))},setStateNew:function(){this.getEl().removeCls("unsaved"),this.getEl().addCls("untitled")},setState:function(t,e){t?e&&t.displayName?(this.setTitle(t.displayName),this.setTitleAppendix(t.relativePeriodDate),this.setStateSaved()):(this.setTitleAppendix(),this.setStateUnsaved()):(this.setTitle(),this.setTitleAppendix(),this.setStateNew()),this.updateTitle()}}),a.reg(d.about=Ext.create("Ext.toolbar.TextItem",{cls:"about",html:e.i18n.about,listeners:{render:function(t){var n=t.getEl();n.on("mouseover",function(){n.addCls("hover")}),n.on("mouseout",function(){n.removeCls("hover")}),n.on("click",function(){e.aboutFn()}),n.rendered=!0}}}),"aboutButton"),a.reg(d.home=Ext.create("Ext.toolbar.TextItem",{cls:"about home",html:e.i18n.home,listeners:{render:function(t){var n=t.getEl();n.on("mouseover",function(){n.addCls("hover")}),n.on("mouseout",function(){n.removeCls("hover")}),n.on("click",function(){e.homeFn()}),n.rendered=!0}}}),"homeButton"),[d.logo,d.title,"->",d.about,d.home," "," "]}()})}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=e.OptionsButton=void 0;e.OptionsButton=n=function(t){var e=t.uiManager,n=t.i18nManager.get();return Ext.create("Ext.button.Button",{text:n.options,menu:{},handler:function(){e.get("viewport").getOptionsWindow().show()}})}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t){var e=t.layout,n=t.i18n,i=(0,o["default"])({layout:e,i18n:n}),r=i.nameTextField,a=i.descriptionTextField,s=i.titleTextField;delete r.height,delete s.height,delete a.height,r.emptyText=n.no_translation_for_name,e.title?s.emptyText=n.no_translation_for_title:(s.disabled=!0,s.emptyText=n.no_title),e.description?a.emptyText=n.no_translation_for_description:(a.disabled=!0,a.emptyText=n.no_description);var l=function(t){return Ext.create("Ext.panel.Panel",{style:"margin-bottom:0",bodyStyle:"font-size:11px; color:#666; padding-left:6px; padding-top:3px; border:0 none",html:t})},u=l(e.name),d=l(e.title),c=l(e.description);return{nameTextField:r,nameLabelKey:u,titleTextField:s,titleLabelKey:d,descriptionTextField:a,descriptionLabelKey:c}};var r=n(42),o=i(r)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.TranslateWindow=void 0;var r=n(1),o=(i(r),n(171)),a=i(o),s=n(29),l=i(s),u=e.TranslateWindow=void 0;e.TranslateWindow=u=function(t,e,n,i){var r=t.appManager,o=t.uiManager,s=t.instanceManager,u=t.i18nManager.get(),d=(t.api,r.getPath()),c=s.apiEndpoint;i=i||{};var h=(0,a["default"])({layout:e,i18n:u}),p=h.nameTextField,f=h.nameLabelKey,g=h.titleTextField,m=h.titleLabelKey,y=h.descriptionTextField,v=h.descriptionLabelKey,x={},b={},A=function(){var t=S.getValue();b={NAME:p,SHORT_NAME:g,DESCRIPTION:y};for(var e in b)b[e].setValue("");x.forEach(function(e){e.locale===t&&e.property in b&&b[e.property].setValue(e.value)}),E.show()},w=Ext.create("Ext.data.Store",{fields:["locale","name"],proxy:{type:"ajax",url:encodeURI(d+"/api/locales/db.json?paging=false"),reader:{type:"json"},pageParam:!1,startParam:!1,limitParam:!1}}),S=Ext.create("Ext.form.ComboBox",{cls:"ns-combo",width:l["default"].windowCmpWidth,height:45,style:"margin:2px 5px 0",fieldStyle:"padding-right:0; padding-left:5px; margin-bottom:3px; font-size:11px; line-height:13px;",fieldLabel:u.select_a_locale_to_enter_translations_for,labelAlign:"top",labelStyle:"font-size:11px;font-weight:bold;color:#111;padding-top:4px;margin-bottom:2px",labelSeparator:"",store:w,queryMode:"local",displayField:"name",valueField:"locale",emptyText:u.select_locale,listeners:{select:function(t){A()}}}),E=Ext.create("Ext.form.Panel",{bodyStyle:"border-style:none",style:"margin-bottom:0",hidden:!0,defaults:{bodyStyle:"border-style:none",style:"margin-bottom:15px"},items:[{items:[p,f]},{items:[g,m]},{items:[y,v]}]}),C=Ext.create("Ext.button.Button",{text:u.save,handler:function(){for(var t=S.getValue(),n=x.length;n--;)x[n].locale==t&&x[n].property in b&&x.splice(n,1);var i=[].concat(x);for(var a in b)""!=b[a].getValue()&&i.push({property:a,locale:t,value:b[a].getValue()});$.ajax({url:encodeURI(d+"/api/"+c+"/"+e.id+"/translations/"),type:"PUT",data:JSON.stringify({translations:i}),dataType:"json",headers:r.defaultRequestHeaders,success:function(t,e,n){s.getById(null,function(t,e){s.getReport(t,e,!1,!1,function(){o.unmask()})}),M.destroy()}})}}),P=Ext.create("Ext.button.Button",{text:u.cancel,handler:function(){M.destroy()}}),M=Ext.create("Ext.window.Window",{cls:"ns-accordion",title:"Translate",bodyStyle:"padding:1px; background:#fff",resizable:!1,modal:!0,items:[S,E],destroyOnBlur:!0,bbar:[P,"->",C],listeners:{show:function(t){w.load(),Ext.Ajax.request({url:encodeURI(d+"/api/"+c+"/"+e.id+"/translations.json?paging=false"),disableCaching:!1,success:function(t){x=Ext.decode(t.responseText).translations}});var n=o.get("favoriteButton")||{};n.rendered&&(o.setAnchorPosition(t,n),t.hasDestroyOnBlurHandler||o.addDestroyOnBlurHandler(t)),S.focus(!1,500),i.show&&i.show()},destroy:function(){i.destroy&&i.destroy()}}});return M}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.Viewport=void 0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},a=n(3),s=i(a),l=n(6),u=(i(l),n(2)),d=(i(u),n(192)),c=i(d),h=n(5),p=(i(h),n(4)),f=(i(p),n(10)),g=i(f),m=n(11),y=(i(m),n(33)),v=(i(y),n(43),n(71),n(73),n(69)),x=n(164),b=(n(68),n(167)),A=n(170),w=e.Viewport=void 0;e.Viewport=w=function(t,e,n){var i=t.uiManager,a=t.appManager,l=t.i18nManager,u=t.sessionStorageManager,d=t.instanceManager,h=(t.calendarManager,t.dimensionConfig),p=(t.periodConfig,t.uiConfig),f=(t.optionConfig,t.api),m=(a.getApiPath(),l.get());h.get("data").objectName,h.get("indicator").objectName,h.get("dataElement").objectName,h.get("operand").objectName,h.get("dataSet").objectName,h.get("eventDataItem").objectName,h.get("programIndicator").objectName,h.get("period").objectName,h.get("organisationUnit").objectName,i.get("treePanel"),i.get("layoutWindow"),i.get("optionsWindow"),i.get("favoriteWindow"),a.getDisplayProperty(),a.getDisplayPropertyUrl();e=e||{};var y=e.northRegion,w=e.eastRegion,S=e.westRegionItems,E=e.chartTypeToolbar,C=function(){return E?E.getChartType():null},P=e.dataTypeToolbar,M=function(){return P?P.getDataType():null},T=e.statusBar,k=i.reg((0,v.FavoriteButton)(t),"favoriteButton"),I=i.reg((0,b.LayoutButton)(t),"layoutButton"),_=i.reg((0,A.OptionsButton)(t),"optionsButton"),O=i.reg((0,x.EmbedButton)(t),"embedButton","onCurrent"),D=e.integrationButtons,R=e.DownloadButtonItems,L=Ext.create("Ext.Button",{id:"toggleEastRegionButton",text:" ",width:26,padding:"3",iconCls:"ns-button-icon-arrowlefttriple",iconState:1,setIconState:function(){switch(this.iconState++%2){case 1:this.el.dom.style.visibility="hidden";break;case 0:this.el.dom.style.visibility="visible"}},handler:function(t){w.toggleCollapse(),this.setIconState()}}),B=Ext.create("Ext.panel.Panel",{region:"west",preventHeader:!0,collapsible:!0,collapseMode:"mini",border:!1,hasScrollbar:!1,hasChartTypeToolbar:function(){return!!E},width:p.west_width+i.getScrollbarSize().width,items:(0,g["default"])([E,P,S]),onScrollbar:function(){this.hasScrollbar=!0,P&&P.setButtonWidth(i.getScrollbarSize().width,!0)},setState:function(t){S.setUiState(t)}});i.reg(B,"westRegion");var N=Ext.create("Ext.button.Split",{text:"<b>"+m.update+"</b>&nbsp;",handler:function(){d.getReport()},arrowHandler:function(t){t.menu=Ext.create("Ext.menu.Menu",{closeAction:"destroy",shadow:!1,showSeparator:!1,items:[{xtype:"label",text:m.download_data,style:"padding:7px 40px 5px 7px; font-weight:bold; color:#111; border:0 none"},{text:"CSV",iconCls:"ns-menu-item-datasource",handler:function(){i.openDataDump(null,"csv")}}],listeners:{show:function(){i.setAnchorPosition(t.menu,t)},hide:function(){t.menu.destroy()},destroy:function(e){t.menu=null}}}),this.menu.show()}});i.reg(N,"updateButton");var U=Ext.create("Ext.button.Button",{text:m.download,disabled:!0,menu:{},handler:function(e){e.menu=Ext.create("Ext.menu.Menu",{closeAction:"destroy",shadow:!1,showSeparator:!1,items:function(){var e=d.getStateCurrent(),n=e.req(),o=e.req(null,"xml"),a=e.req(null,"xls"),s=e.req(null,"csv"),l=e.req(null,"jrxml"),u=e.req("/analytics/debug/sql","sql"),c=e.req("/analytics/dataValueSet","json",null,null,!0),h=e.req("/analytics/dataValueSet","xml",null,null,!0),p=[].concat(r(R(t)),[{xtype:"menuseparator"},{xtype:"label",text:m.plain_data_sources,style:"padding:7px 5px 5px 7px; font-weight:bold"},{text:"JSON",iconCls:"ns-menu-item-datasource",handler:function(){i.openPlainDataSource(n,null,!0)},menu:[{xtype:"label",text:m.metadata_id_scheme,style:"padding:7px 18px 5px 7px; font-weight:bold; color:#333"},{text:"ID",iconCls:"ns-menu-item-scheme",handler:function(){i.openPlainDataSource(n,"&outputIdScheme=UID",!0)}},{text:"Code",iconCls:"ns-menu-item-scheme",handler:function(){i.openPlainDataSource(n,"&outputIdScheme=CODE",!0)}},{text:"Name",iconCls:"ns-menu-item-scheme",handler:function(){i.openPlainDataSource(n,"&outputIdScheme=NAME",!0)}}]},{text:"XML",iconCls:"ns-menu-item-datasource",handler:function(){i.openPlainDataSource(o,null,!0)},menu:[{xtype:"label",text:m.metadata_id_scheme,style:"padding:7px 18px 5px 7px; font-weight:bold; color:#333"},{text:"ID",iconCls:"ns-menu-item-scheme",handler:function(){i.openPlainDataSource(o,"&outputIdScheme=UID",!0)}},{text:"Code",iconCls:"ns-menu-item-scheme",handler:function(){i.openPlainDataSource(o,"&outputIdScheme=CODE",!0)}},{text:"Name",iconCls:"ns-menu-item-scheme",handler:function(){i.openPlainDataSource(o,"&outputIdScheme=NAME",!0)}}]},{text:"Microsoft Excel",iconCls:"ns-menu-item-datasource",handler:function(){i.openPlainDataSource(a)},menu:[{xtype:"label",text:m.metadata_id_scheme,style:"padding:7px 18px 5px 7px; font-weight:bold; color:#333"},{text:"ID",iconCls:"ns-menu-item-scheme",handler:function(){i.openPlainDataSource(a,"&outputIdScheme=UID")}},{text:"Code",iconCls:"ns-menu-item-scheme",handler:function(){i.openPlainDataSource(a,"&outputIdScheme=CODE")}},{text:"Name",iconCls:"ns-menu-item-scheme",handler:function(){i.openPlainDataSource(a,"&outputIdScheme=NAME")}}]},{text:"CSV",iconCls:"ns-menu-item-datasource",handler:function(){i.openPlainDataSource(s)},menu:[{xtype:"label",text:m.metadata_id_scheme,style:"padding:7px 18px 5px 7px; font-weight:bold; color:#333"},{text:"ID",iconCls:"ns-menu-item-scheme",handler:function(){i.openPlainDataSource(s,"&outputIdScheme=UID")}},{text:"Code",iconCls:"ns-menu-item-scheme",handler:function(){i.openPlainDataSource(s,"&outputIdScheme=CODE")}},{text:"Name",iconCls:"ns-menu-item-scheme",handler:function(){i.openPlainDataSource(s,"&outputIdScheme=NAME")}}]},{text:m.advanced,iconCls:"ns-menu-item-advanced",menu:[{xtype:"label",text:m.data_value_set,style:"padding:7px 18px 5px 7px; font-weight:bold; color:#333"},{text:"JSON",iconCls:"ns-menu-item-datasource",handler:function(){i.openPlainDataSource(c,null,!0)}},{text:"XML",iconCls:"ns-menu-item-datasource",handler:function(){i.openPlainDataSource(h,null,!0)}},{xtype:"menuseparator"},{xtype:"label",text:m.other_formats,style:"padding:7px 18px 5px 7px; font-weight:bold; color:#333"},{text:"JRXML",iconCls:"ns-menu-item-datasource",handler:function(){i.openPlainDataSource(l,null,!0)}},{text:m.raw_data+" SQL",iconCls:"ns-menu-item-datasource",handler:function(){i.openPlainDataSource(u,null,!0)}}]}]);return e&&e.showHierarchy&&e.hasDimension("ou")&&(p.push({xtype:"label",text:m.plain_data_sources+" w/ hierarchy",style:"padding:7px 8px 5px 7px; font-weight:bold"}),p.push({text:"CSV",iconCls:"ns-menu-item-datasource",handler:function(){e.getResponse().clone().addOuHierarchyDimensions().printResponseCSV()}})),p}(),listeners:{show:function(){i.setAnchorPosition(e.menu,e)},hide:function(){e.menu.destroy()},destroy:function(t){e.menu=null}}}),this.menu.show()}});i.reg(U,"downloadButton","onCurrent");var j=Ext.create("Ext.button.Button",{text:m.table,iconCls:"ns-button-icon-table",toggleGroup:"module",pressed:!0}),F=Ext.create("Ext.panel.Panel",{region:"center",bodyStyle:"padding:1px",autoScroll:!0,fullSize:!0,cmp:[j],toggleCmp:function(t){D.forEach(function(e){e&&e.show&&e.hide&&(t?e.show():e.hide())})},subscribed:[],subscribe:function(t){this.subscribed.push(t)},renew:function(t){this.update(t),this.subscribed.forEach(function(t){t()})},setScroll:function(t){this.onScroll=t},removeScroll:function(){this.onScroll=Function.prototype},setOnResize:function(t){this.onResize=t},removeOnResize:function(){this.onResize=Function.prototype},setSidePanelsUIState:function(t,e){e&&(Ext.getCmp("toggleEastRegionButton").handler(),Ext.getCmp("toggleWestRegionButton").handler(),t&&"new"==e&&w.openInterpretationWindow(t))},scrollTo:function(t,e){this.body.dom.scrollTo(t,e)},toggleEastRegion:function(){L.setIconState()},onScroll:Function.prototype,tbar:{defaults:{height:26},items:[{id:"toggleWestRegionButton",text:" ",width:26,padding:"3",iconCls:"ns-button-icon-arrowlefttriple",iconClsLeft:"ns-button-icon-arrowlefttriple",iconClsRight:"ns-button-icon-arrowrighttriple",iconState:0,setIconState:function(){this.setIconCls(this.iconState++%2?this.iconClsLeft:this.iconClsRight)},handler:function(t){B.toggleCollapse(),this.setIconState()}}," ",N,k,{xtype:"tbseparator",height:24,style:"border-color:transparent; border-right-color:#d1d1d1; margin-right:4px"},I,_,{xtype:"tbseparator",height:24,style:"border-color:transparent; border-right-color:#d1d1d1; margin-right:4px"},U,O,"->"].concat(r(D),[L])},bbar:T,listeners:{render:function(t){t.body.on("scroll",function(t){this.onScroll(t)},t)},resize:{fn:function(t,e,n){this.onResize(e,n)}}}});i.reg(F,"centerRegion");var V=function(t){B.setUiState(t)},H=function(){var t=i.get("viewport"),e=i.get("accordion"),n=t.getLayoutWindow(),r=t.getOptionsWindow(),a=C(),s=M(),l=o({},e.getUiState(n,r),r.getOptions());return a&&(l.type=a),s&&(l.dataType=s),l},W=Ext.create("Ext.container.Viewport",o({layout:"border",getUiState:H,setUiState:V,westRegion:B,eastRegion:w,centerRegion:F,northRegion:y,items:(0,g["default"])([w,B,F,y]),getLayoutWindow:null,getOptionsWindow:null},n,{listeners:{afterrender:function(){B.on("resize",function(){var t=S.getExpandedPanel();t&&t.onExpand()}),i.getUpdateComponent().on("resize",function(t,e,n,r){i.resize({cmp:t,width:e,height:n,eOpts:r})}),i.onResize(function(t,e){e<700&&t.fullSize?(t.toggleCmp(),t.fullSize=!1):e>=700&&!t.fullSize&&(t.toggleCmp(!0),t.fullSize=!0)});var e=i.getHeight(),n=a.dimensions.length+3,r=28,o=380;e>n*r+o?c["default"]||(accordion.setAutoScroll(!1),accordion.doLayout()):B.onScrollbar(),y&&y.setLogoWidth(F.getPosition()[0]),i.get("organisationUnit").expand(),i.get("data").expand();var l,h=a.getUrlParam("id"),p=a.getUrlParam("s"),g=a.getUrlParam("interpretationid");h?g&&"new"!=g?d.getById(h,function(t){d.getInterpretationById(g,function(e){i.updateInterpretation(e,t)})}):d.getById(h):(0,s["default"])(p)&&u.get(p)?(l=new f.Layout(t,u.get(p)).val(),l&&d.getReport(l,!1,!1,!0)):i.update();var m=document.getElementById("init");m.parentNode.removeChild(m),Ext.getBody().setStyle("background","#fff"),Ext.getBody().setStyle("opacity",0),F.setSidePanelsUIState(h,g),Ext.defer(function(){Ext.getBody().fadeIn({duration:600})},300)}}}));return W}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.WestRegionAggregateItems=void 0;var a=n(33),s=(i(a),n(10)),l=i(s),u=n(4),d=i(u),c=n(5),h=i(c),p=n(11),f=i(p),g=n(1),m=i(g),y=n(23),v=i(y),x=n(6),b=i(x),A=n(2),w=i(A),S=n(3),E=i(S),C=e.WestRegionAggregateItems=void 0;e.WestRegionAggregateItems=C=function(t){var e,n=t.uiManager,i=(t.instanceManager,t.appManager),a=t.i18nManager,s=(refs.sessionStorageManager,refs.calendarManager),u=refs.dimensionConfig,c=refs.periodConfig,p=refs.uiConfig,g=refs.optionConfig,y=(refs.api,u.get("data").objectName),x=u.get("indicator").objectName,A=u.get("dataElement").objectName,S=u.get("operand").objectName,C=u.get("dataSet").objectName,P=u.get("eventDataItem").objectName,M=u.get("programIndicator").objectName,T=u.get("period").objectName,k=u.get("organisationUnit").objectName,I=a.get(),_=(i.getPath(),i.getApiPath()),O=i.getDisplayProperty(),D=i.getDisplayPropertyUrl(),R=[],L=[],B=p.west_fieldset_width-p.west_width_padding,N=B,U=Ext.create("Ext.data.Store",{fields:["id","name"],lastPage:null,nextPage:1,isPending:!1,reset:function(){this.removeAll(),this.lastPage=null,this.nextPage=1,this.isPending=!1,nt.hideFilter()},loadDataAndUpdate:function(t,e){this.clearFilter(),e||this.removeAll(),this.loadData(t,e),this.updateFilter()},getRecordsByIds:function(t){var e=[];t=(0,h["default"])(t);for(var n,i=0;i<t.length;i++)n=this.findExact("id",t[i]),n!==-1&&e.push(this.getAt(n));return e},updateFilter:function(){var t=Y.getIds();this.clearFilter(),this.filterBy(function(e){return!(0,d["default"])(t,e.data.id)})},loadPage:function(t,e,i,r,o){var a=this,s={},l=_+"/indicators.json?",u="fields=dimensionItem~rename(id),"+D,d=e?"&filter="+O+":ilike:"+e:"",c=l+u+d;t=(0,E["default"])(t)||(0,b["default"])(t)?t:rt.getValue(),e=e||it.getValue()||null,i||(this.lastPage=null,this.nextPage=1),a.nextPage!==a.lastPage&&((0,E["default"])(t)&&(c+="&filter=indicatorGroups.id:eq:"+t),r?s.paging=!1:(s.page=a.nextPage,s.pageSize=50),a.isPending=!0,n.mask(ot.boundList),$.getJSON(encodeURI(c),s,function(t){var e=t.indicators||[],n=t.pager;a.loadStore(e,n,i,o)}).complete(function(){a.isPending=!1,n.unmask(ot.boundList)}))},loadStore:function(t,e,n,i){e=e||{},this.loadDataAndUpdate(t,n),this.sortStore(),this.lastPage=this.nextPage,e.pageCount>this.nextPage&&this.nextPage++,this.isPending=!1,i&&i()},storage:{},parent:null,sortStore:function(){this.sort("name","ASC")}}),j=Ext.create("Ext.data.Store",{fields:["id","name","index"],proxy:{type:"ajax",url:encodeURI(_+"/indicatorGroups.json?fields=id,displayName~rename(name)&paging=false"),reader:{type:"json",root:"indicatorGroups"},pageParam:!1,startParam:!1,limitParam:!1},listeners:{load:function(t){t.add({id:0,name:"[ "+I.all_indicators+" ]",index:-1}),t.sort([{property:"index",direction:"ASC"},{property:"name",direction:"ASC"}])}}}),F=Ext.create("Ext.data.Store",{fields:["id","name"],lastPage:null,nextPage:1,isPending:!1,reset:function(){this.removeAll(),this.lastPage=null,this.nextPage=1,this.isPending=!1,ut.hideFilter()},loadDataAndUpdate:function(t,e){this.clearFilter(),e||this.removeAll(),this.loadData(t,e),this.updateFilter()},getRecordsByIds:function(t){var e=[];t=(0,h["default"])(t);for(var n,i=0;i<t.length;i++)n=this.findExact("id",t[i]),n!==-1&&e.push(this.getAt(n));return e},updateFilter:function(){var t=Y.getIds();this.clearFilter(),t.length&&this.filterBy(function(e){return!(0,d["default"])(t,e.data.id)})},loadPage:function(t,e,n,i,r){t=(0,E["default"])(t)||(0,b["default"])(t)?t:pt.getValue(),e=e||dt.getValue()||null,n||(this.lastPage=null,this.nextPage=1),ft.getValue()===A?this.loadTotalsPage(t,e,n,i,r):ft.getValue()===S&&this.loadDetailsPage(t,e,n,i,r)},loadTotalsPage:function(t,e,i,r,o){var a=this,s={},l=_+"/dataElements.json?",u="fields=dimensionItem~rename(id),"+D,d="&filter=domainType:eq:AGGREGATE"+(e?"&filter="+O+":ilike:"+e:""),c=l+u+d;a.nextPage!==a.lastPage&&((0,E["default"])(t)&&(c+="&filter=dataElementGroups.id:eq:"+t),r?s.paging=!1:(s.page=a.nextPage,s.pageSize=50),a.isPending=!0,n.mask(ct.boundList),$.getJSON(encodeURI(c),s,function(t){var e=t.dataElements||[],n=t.pager;a.loadStore(e,n,i,o)}).complete(function(){a.isPending=!1,n.unmask(ct.boundList)}))},loadDetailsPage:function(t,e,i,r,o){var a=this,s={},l=_+"/dataElementOperands.json?",u="fields=dimensionItem~rename(id),"+D,d=e?"&filter="+O+":ilike:"+e:"",c=l+u+d;a.nextPage!==a.lastPage&&((0,E["default"])(t)&&(c+="&filter=dataElement.dataElementGroups.id:eq:"+t),r?s.paging=!1:(s.page=a.nextPage,s.pageSize=50),a.isPending=!0,n.mask(ct.boundList),$.getJSON(encodeURI(c),s,function(t){var e=t.objects||t.dataElementOperands||[],n=t.pager;a.loadStore(e,n,i,o)}).complete(function(){a.isPending=!1,n.unmask(ct.boundList)}))},loadStore:function(t,e,n,i){e=e||{},this.loadDataAndUpdate(t,n),this.sortStore(),this.lastPage=this.nextPage,e.pageCount>this.nextPage&&this.nextPage++,this.isPending=!1,i&&i()},sortStore:function(){this.sort("name","ASC")}}),V=Ext.create("Ext.data.Store",{fields:["id","name","index"],proxy:{type:"ajax",url:encodeURI(_+"/dataElementGroups.json?fields=id,"+D+"&paging=false"),reader:{type:"json",root:"dataElementGroups"},pageParam:!1,startParam:!1,limitParam:!1},listeners:{load:function(t){t.add({id:0,name:"[ "+I.all_data_elements+" ]",index:-1}),t.sort([{property:"index",direction:"ASC"},{property:"name",direction:"ASC"}])}}}),H=Ext.create("Ext.data.Store",{fields:["id","name"],lastPage:null,nextPage:1,isPending:!1,reset:function(){this.removeAll(),this.lastPage=null,this.nextPage=1,this.isPending=!1,yt.hideFilter()},loadDataAndUpdate:function(t,e){this.clearFilter(),this.loadData(t,e),this.updateFilter()},getRecordsByIds:function(t){var e=[];t=(0,h["default"])(t);for(var n,i=0;i<t.length;i++)n=this.findExact("id",t[i]),n!==-1&&e.push(this.getAt(n));return e},updateFilter:function(){var t=Y.getIds();this.clearFilter();var e=At.getValue();this.filterBy(function(n){return!((0,d["default"])(t,n.data.id)||e&&n.data.id.split(".")[1]!==e)})},loadPage:function(t,e,i,r){var o=this,a={},s=_+"/dataSets.json?",l="fields=dimensionItem~rename(id),"+D,u=t?"&filter="+O+":ilike:"+t:"",d=s+l+u;t=t||vt.getValue()||null,e||(this.lastPage=null,this.nextPage=1),o.nextPage!==o.lastPage&&(i?a.paging=!1:(a.page=o.nextPage,a.pageSize=50),o.isPending=!0,n.mask(xt.boundList),$.getJSON(encodeURI(d),a,function(t){var n=t.dataSets||[],i=t.pager;o.loadStore(n,i,e,r)}).complete(function(){o.isPending=!1,n.unmask(xt.boundList)}))},getProcessedData:function(t){var e=g.getDataSetMetricRecords(),n=[];return t.forEach(function(t){e.forEach(function(e){n.push({id:t.id+"."+e.id,name:t.name+" ("+e.name+")"})})}),n},loadStore:function(t,e,n,i){e=e||{},t=this.getProcessedData(t),this.loadDataAndUpdate(t,n),this.sortStore(),this.lastPage=this.nextPage,e.pageCount>this.nextPage&&this.nextPage++,this.isPending=!1,i&&i()},storage:{},parent:null,isLoaded:!1,sortStore:function(){this.sort("name","ASC")}}),W=Ext.create("Ext.data.Store",{fields:["id","name"],data:[],sortStore:function(){this.sort("name","ASC")},loadDataAndUpdate:function(t,e){this.clearFilter(),e||this.removeAll(),this.loadData(t,e),this.updateFilter()},getRecordsByIds:function(t){var e=[];t=(0,h["default"])(t);for(var n,i=0;i<t.length;i++)n=this.findExact("id",t[i]),n!==-1&&e.push(this.getAt(n));return e},updateFilter:function(){var t=Y.getIds();this.clearFilter(),this.filterBy(function(e){return!(0,d["default"])(t,e.data.id)})}}),z=Ext.create("Ext.data.Store",{fields:["id","name"],data:[],sortStore:function(){this.sort("name","ASC")},loadDataAndUpdate:function(t,e){this.clearFilter(),e||this.removeAll(),this.loadData(t,e),this.updateFilter()},getRecordsByIds:function(t){var e=[];t=(0,h["default"])(t);for(var n,i=0;i<t.length;i++)n=this.findExact("id",t[i]),n!==-1&&e.push(this.getAt(n));return e},updateFilter:function(){var t=Y.getIds();this.clearFilter(),this.filterBy(function(e){return!(0,d["default"])(t,e.data.id)})}}),G=Ext.create("Ext.data.Store",{fields:["id","name"],proxy:{type:"ajax",url:encodeURI(_+"/programs.json?fields=id,displayName~rename(name)&paging=false"),reader:{type:"json",root:"programs"},pageParam:!1,startParam:!1,limitParam:!1}}),Y=Ext.create("Ext.data.Store",{fields:["id","name"],data:[],getIds:function(){for(var t=this.getRange(),e=[],n=0;n<t.length;n++)e.push(t[n].data.id);return e},addRecords:function(t,e){var n="objectName",i=[],r=[];if(t=(0,h["default"])(t),t.length){for(var o,a=0;a<t.length;a++)o=t[a],o.data?(e&&o.set(n,e),i.push(o)):(e&&(o[n]=e),r.push(o));i.length&&this.add(i),r.length&&this.loadData(r,!0)}},removeByIds:function(t){t=(0,h["default"])(t);for(var e,n=0;n<t.length;n++)e=this.findExact("id",t[n]),e!==-1&&this.removeAt(e)},removeByProperty:function(t,e){if(t&&e){var n=[];e=(0,h["default"])(e),this.each(function(i){(0,d["default"])(e,i.data[t])&&n.push(i)}),this.remove(n)}},listeners:{add:function(){jt.updateStoreFilters()},remove:function(){jt.updateStoreFilters()},clear:function(){jt.updateStoreFilters()}}}),X=Ext.create("Ext.data.Store",{fields:["id","name"],data:c.getPeriodTypeRecords()}),q=Ext.create("Ext.data.Store",{fields:["id","name","index"],data:[],setIndex:function(t){for(var e=0;e<t.length;e++)t[e].index=e},sortStore:function(){this.sort("index","ASC")}}),K=Ext.create("Ext.data.Store",{fields:["id","name"],data:[]}),Q=Ext.create("Ext.data.Store",{fields:["id","name","level"],data:i.organisationUnitLevels,sorters:[{property:"level",direction:"ASC"}]}),J=Ext.create("Ext.data.Store",{fields:["id","name"],proxy:{type:"ajax",url:encodeURI(_+"/organisationUnitGroups.json?fields=id,"+D+"&paging=false"),reader:{type:"json",root:"organisationUnitGroups"},pageParam:!1,startParam:!1,limitParam:!1}}),Z=(Ext.create("Ext.data.Store",{fields:["id","name","index"],data:function(){var t=i.legendSets;return t.unshift({id:0,name:I.none,index:-1}),t}(),sorters:[{property:"index",direction:"ASC"},{property:"name",direction:"ASC"}]}),function(t){t=t||"in","in"===t?(st.show(),gt.hide(),wt.hide(),It.hide(),Ut.hide()):"de"===t?(st.hide(),gt.show(),wt.hide(),It.hide(),Ut.hide()):"ds"===t?(st.hide(),gt.hide(),wt.show(),It.hide(),Ut.hide(),H.isLoaded||(H.isLoaded=!0,H.loadPage())):"di"===t?(st.hide(),gt.hide(),wt.hide(),It.show(),Ut.hide(),G.isLoaded||(G.isLoaded=!0,G.load())):"pi"===t&&(st.hide(),gt.hide(),wt.hide(),It.hide(),Ut.show(),G.isLoaded||(G.isLoaded=!0,G.load()))}),tt=Ext.create("Ext.form.field.ComboBox",{cls:"ns-combo",style:"margin-bottom:1px",width:N,valueField:"id",displayField:"name",editable:!1,queryMode:"local",value:"in",store:{fields:["id","name"],data:[{id:"in",name:I.indicators},{id:"de",name:I.data_elements},{id:"ds",name:I.data_sets},{id:"di",name:I.event_data_items},{id:"pi",name:I.program_indicators}]},listeners:{select:function(t){Z(t.getValue())}}}),et=Ext.create("Ext.form.Label",{text:I.available,cls:"ns-toolbar-multiselect-left-label",style:"margin-right:5px"}),nt=Ext.create("Ext.button.Button",{width:22,height:22,cls:"ns-button-icon",iconCls:"ns-button-icon-search",disabled:!0,showFilter:function(){et.hide(),this.hide(),it.show(),it.reset()},hideFilter:function(){et.show(),this.show(),it.hide(),it.reset()},handler:function(){this.showFilter()}}),it=Ext.create("Ext.form.field.Trigger",{cls:"ns-trigger-filter",emptyText:"Filter available..",height:22,hidden:!0,enableKeyEvents:!0,fieldStyle:"height:22px; border-right:0 none",style:"height:22px",onTriggerClick:function(){this.reset(),this.onKeyUpHandler(),nt.hideFilter()},onKeyUpHandler:function(){var t=rt.getValue(),e=U;((0,E["default"])(t)||(0,b["default"])(t))&&e.loadPage(null,this.getValue(),!1)},listeners:{keyup:{fn:function(t){t.onKeyUpHandler()},buffer:100},show:function(t){t.focus(!1,50)},focus:function(t){t.addCls("ns-trigger-filter-focused")},blur:function(t){t.removeCls("ns-trigger-filter-focused")}}}),rt=Ext.create("Ext.form.field.ComboBox",{cls:"ns-combo",style:"margin-bottom:1px; margin-top:0px",width:N,valueField:"id",displayField:"name",emptyText:I.select_indicator_group,editable:!1,store:j,loadAvailable:function(t){var e=U,n=this.getValue();null!==n&&(t&&e.reset(),e.loadPage(n,null,!1))},listeners:{select:function(t){t.loadAvailable(!0),nt.enable()}}}),ot=Ext.create("Ext.ux.form.MultiSelect",{cls:"ns-toolbar-multiselect-left",width:N/2,valueField:"id",displayField:"name",store:U,tbar:[et,nt,it,"->",{xtype:"button",iconCls:"ns-button-icon-arrowright",width:22,handler:function(){if(ot.getValue().length){var t=U.getRecordsByIds(ot.getValue());Y.addRecords(t,"in")}}},{xtype:"button",iconCls:"ns-button-icon-arrowrightdouble",width:22,handler:function(){U.loadPage(null,null,null,!0,function(){Y.addRecords(U.getRange(),"in")})}}],listeners:{render:function(t){var e=Ext.get(t.boundList.getEl().id+"-listEl").dom;e.addEventListener("scroll",function(t){n.isScrolled(t)&&!U.isPending&&U.loadPage(null,null,!0)}),t.boundList.on("itemdblclick",function(t,e){Y.addRecords(e,"in")},t)}}}),at=Ext.create("Ext.ux.form.MultiSelect",{cls:"ns-toolbar-multiselect-right",width:N/2,valueField:"id",displayField:"name",ddReorder:!0,store:Y,tbar:[{xtype:"button",iconCls:"ns-button-icon-arrowleftdouble",width:22,handler:function(){Y.getRange().length&&Y.removeAll()}},{xtype:"button",iconCls:"ns-button-icon-arrowleft",width:22,handler:function(){at.getValue().length&&Y.removeByIds(at.getValue())}},"->",{xtype:"label",text:I.selected,cls:"ns-toolbar-multiselect-right-label"}],listeners:{afterrender:function(){this.boundList.on("itemdblclick",function(t,e){Y.removeByIds(e.data.id)},this)}}}),st=Ext.create("Ext.panel.Panel",{
xtype:"panel",preventHeader:!0,hideCollapseTool:!0,dimension:x,bodyStyle:"border:0 none",items:[rt,{xtype:"panel",layout:"column",bodyStyle:"border-style:none",items:[ot,at]}],listeners:{expand:function(t){}}}),lt=Ext.create("Ext.form.Label",{text:I.available,cls:"ns-toolbar-multiselect-left-label",style:"margin-right:5px"}),ut=Ext.create("Ext.button.Button",{width:22,height:22,cls:"ns-button-icon",iconCls:"ns-button-icon-search",disabled:!0,showFilter:function(){lt.hide(),this.hide(),dt.show(),dt.reset()},hideFilter:function(){lt.show(),this.show(),dt.hide(),dt.reset()},handler:function(){this.showFilter()}}),dt=Ext.create("Ext.form.field.Trigger",{cls:"ns-trigger-filter",emptyText:"Filter available..",height:22,hidden:!0,enableKeyEvents:!0,fieldStyle:"height:22px; border-right:0 none",style:"height:22px",onTriggerClick:function(){this.reset(),this.onKeyUpHandler(),ut.hideFilter()},onKeyUpHandler:function(){var t=pt.getValue(),e=F;((0,E["default"])(t)||(0,b["default"])(t))&&e.loadPage(null,this.getValue(),!1)},listeners:{keyup:{fn:function(t){t.onKeyUpHandler()},buffer:100},show:function(t){t.focus(!1,50)},focus:function(t){t.addCls("ns-trigger-filter-focused")},blur:function(t){t.removeCls("ns-trigger-filter-focused")}}}),ct=Ext.create("Ext.ux.form.MultiSelect",{cls:"ns-toolbar-multiselect-left",width:N/2,valueField:"id",displayField:"name",isPending:!1,page:1,store:F,tbar:[lt,ut,dt,"->",{xtype:"button",iconCls:"ns-button-icon-arrowright",width:22,handler:function(){if(ct.getValue().length){var t=F.getRecordsByIds(ct.getValue());Y.addRecords(t,"de")}}},{xtype:"button",iconCls:"ns-button-icon-arrowrightdouble",width:22,handler:function(){F.loadPage(null,null,null,!0,function(){Y.addRecords(F.getRange(),"de")})}}],listeners:{render:function(t){var e=Ext.get(t.boundList.getEl().id+"-listEl").dom;e.addEventListener("scroll",function(t){n.isScrolled(t)&&!F.isPending&&F.loadPage(null,null,!0)}),t.boundList.on("itemdblclick",function(t,e){Y.addRecords(e,"de")},t)}}}),ht=Ext.create("Ext.ux.form.MultiSelect",{cls:"ns-toolbar-multiselect-right",width:N/2,valueField:"id",displayField:"name",ddReorder:!0,store:Y,tbar:[{xtype:"button",iconCls:"ns-button-icon-arrowleftdouble",width:22,handler:function(){Y.getRange().length&&Y.removeAll()}},{xtype:"button",iconCls:"ns-button-icon-arrowleft",width:22,handler:function(){ht.getValue().length&&Y.removeByIds(ht.getValue())}},"->",{xtype:"label",text:I.selected,cls:"ns-toolbar-multiselect-right-label"}],listeners:{afterrender:function(){this.boundList.on("itemdblclick",function(t,e){Y.removeByIds(e.data.id)},this)}}}),pt=Ext.create("Ext.form.field.ComboBox",{cls:"ns-combo",style:"margin:0 1px 1px 0",width:N-90,valueField:"id",displayField:"name",emptyText:I.select_data_element_group,editable:!1,store:V,loadAvailable:function(t){var e=F,n=this.getValue();null!==n&&(t&&e.reset(),e.loadPage(n,null,!1))},listeners:{select:function(t){t.loadAvailable(!0),ut.enable()}}}),ft=Ext.create("Ext.form.field.ComboBox",{cls:"ns-combo",style:"margin-bottom:1px",baseBodyCls:"small",queryMode:"local",editable:!1,valueField:"id",displayField:"text",width:89,value:A,store:{fields:["id","text"],data:[{id:A,text:I.totals},{id:S,text:I.details}]},listeners:{select:function(t){pt.loadAvailable(!0)}}}),gt=Ext.create("Ext.panel.Panel",{xtype:"panel",preventHeader:!0,hidden:!0,hideCollapseTool:!0,bodyStyle:"border:0 none",dimension:A,items:[{xtype:"container",layout:"column",items:[pt,ft]},{xtype:"panel",layout:"column",bodyStyle:"border-style:none",items:[ct,ht]}]}),mt=Ext.create("Ext.form.Label",{text:I.available,cls:"ns-toolbar-multiselect-left-label",style:"margin-right:5px"}),yt=Ext.create("Ext.button.Button",{width:22,height:22,cls:"ns-button-icon",iconCls:"ns-button-icon-search",showFilter:function(){mt.hide(),this.hide(),vt.show(),vt.reset()},hideFilter:function(){mt.show(),this.show(),vt.hide(),vt.reset()},handler:function(){this.showFilter()}}),vt=Ext.create("Ext.form.field.Trigger",{cls:"ns-trigger-filter",emptyText:"Filter available..",height:22,hidden:!0,enableKeyEvents:!0,fieldStyle:"height:22px; border-right:0 none",style:"height:22px",onTriggerClick:function(){this.reset(),this.onKeyUpHandler(),yt.hideFilter()},onKeyUpHandler:function(){var t=H;t.loadPage(this.getValue(),!1)},listeners:{keyup:{fn:function(t){t.onKeyUpHandler()},buffer:100},show:function(t){t.focus(!1,50)},focus:function(t){t.addCls("ns-trigger-filter-focused")},blur:function(t){t.removeCls("ns-trigger-filter-focused")}}}),xt=Ext.create("Ext.ux.form.MultiSelect",{cls:"ns-toolbar-multiselect-left",width:N/2,valueField:"id",displayField:"name",store:H,tbar:[mt,yt,vt,"->",{xtype:"button",iconCls:"ns-button-icon-arrowright",width:22,handler:function(){if(xt.getValue().length){var t=H.getRecordsByIds(xt.getValue());Y.addRecords(t,"ds")}}},{xtype:"button",iconCls:"ns-button-icon-arrowrightdouble",width:22,handler:function(){H.loadPage(null,null,!0,function(){Y.addRecords(H.getRange(),"ds")})}}],listeners:{render:function(t){var e=Ext.get(t.boundList.getEl().id+"-listEl").dom;e.addEventListener("scroll",function(t){n.isScrolled(t)&&!H.isPending&&H.loadPage(null,!0)}),t.boundList.on("itemdblclick",function(t,e){Y.addRecords(e,"ds")},t)}}}),bt=Ext.create("Ext.ux.form.MultiSelect",{cls:"ns-toolbar-multiselect-right",width:N/2,valueField:"id",displayField:"name",ddReorder:!0,store:Y,tbar:[{xtype:"button",iconCls:"ns-button-icon-arrowleftdouble",width:22,handler:function(){Y.getRange().length&&Y.removeAll()}},{xtype:"button",iconCls:"ns-button-icon-arrowleft",width:22,handler:function(){bt.getValue().length&&Y.removeByIds(bt.getValue())}},"->",{xtype:"label",text:I.selected,cls:"ns-toolbar-multiselect-right-label"}],listeners:{afterrender:function(){this.boundList.on("itemdblclick",function(t,e){Y.removeByIds(e.data.id)},this)}}}),At=Ext.create("Ext.form.field.ComboBox",{cls:"ns-combo",style:"margin-bottom:1px; margin-top:0px",width:N,valueField:"id",displayField:"name",emptyText:I.select_indicator_group,editable:!1,value:g.getDataSetMetric("reportingRates").id,store:{fields:["id","name"],data:[{id:0,name:"[ "+I.all_metrics+" ]"}].concat(g.getDataSetMetricRecords())},listeners:{select:function(t){H.updateFilter()}}}),wt=Ext.create("Ext.panel.Panel",{xtype:"panel",preventHeader:!0,hidden:!0,hideCollapseTool:!0,bodyStyle:"border:0 none",dimension:C,items:[At,{xtype:"panel",layout:"column",bodyStyle:"border-style:none",items:[xt,bt]}]}),St=function(t,e){e||(Ot.setValue(t),_t(t,!0)),Ext.Ajax.request({url:encodeURI(_+"/programDataElements.json?program="+t+"&fields=dimensionItem~rename(id),name,valueType&paging=false"),disableCaching:!1,success:function(e){var n=u.valueType.aggregate_aggregatable_types,i=Ext.decode(e.responseText).programDataElements.filter(function(t){return(0,d["default"])(n,(t||{}).valueType)});Ext.Ajax.request({url:encodeURI(_+"/programs.json?filter=id:eq:"+t+"&fields=programTrackedEntityAttributes[dimensionItem~rename(id),"+D+"~rename(name),valueType]&paging=false"),disableCaching:!1,success:function(t){var e=((Ext.decode(t.responseText).programs[0]||{}).programTrackedEntityAttributes||[]).filter(function(t){return(0,d["default"])(n,(t||{}).valueType)}),r=(0,f["default"])((0,l["default"])([].concat(i,e)))||[];W.loadDataAndUpdate(r)}})}})},Et=Ext.create("Ext.form.field.ComboBox",{cls:"ns-combo",style:"margin:0 1px 1px 0",width:N,valueField:"id",displayField:"name",emptyText:I.select_program,editable:!1,queryMode:"local",store:G,listeners:{select:function(t){St(t.getValue())}}}),Ct=Ext.create("Ext.form.Label",{text:I.available,cls:"ns-toolbar-multiselect-left-label",style:"margin-right:5px"}),Pt=Ext.create("Ext.button.Button",{width:22,height:22,cls:"ns-button-icon",iconCls:"ns-button-icon-search",showFilter:function(){Ct.hide(),this.hide(),Mt.show(),Mt.reset()},hideFilter:function(){Ct.show(),this.show(),Mt.hide(),Mt.reset()},handler:function(){this.showFilter()}}),Mt=Ext.create("Ext.form.field.Trigger",{cls:"ns-trigger-filter",emptyText:"Filter available..",height:22,hidden:!0,enableKeyEvents:!0,fieldStyle:"height:22px; border-right:0 none",style:"height:22px",onTriggerClick:function(){this.reset(),this.onKeyUpHandler(),Pt.hideFilter()},onKeyUpHandler:function(){var t,e=this.getValue()||"",n=W;n.filterBy(function(n){return t=n.data.name||"",t.toLowerCase().indexOf(e.toLowerCase())!==-1})},listeners:{keyup:{fn:function(t){t.onKeyUpHandler()},buffer:100},show:function(t){t.focus(!1,50)},focus:function(t){t.addCls("ns-trigger-filter-focused")},blur:function(t){t.removeCls("ns-trigger-filter-focused")}}}),Tt=Ext.create("Ext.ux.form.MultiSelect",{cls:"ns-toolbar-multiselect-left",width:N/2,valueField:"id",displayField:"name",store:W,tbar:[Ct,Pt,Mt,"->",{xtype:"button",iconCls:"ns-button-icon-arrowright",width:22,handler:function(){if(Tt.getValue().length){var t=W.getRecordsByIds(Tt.getValue());Y.addRecords(t,"di")}}},{xtype:"button",iconCls:"ns-button-icon-arrowrightdouble",width:22,handler:function(){Y.addRecords(W.getRange(),"di")}}],listeners:{render:function(t){Ext.get(t.boundList.getEl().id+"-listEl").dom;t.boundList.on("itemdblclick",function(t,e){Y.addRecords(e,"di")},t)}}}),kt=Ext.create("Ext.ux.form.MultiSelect",{cls:"ns-toolbar-multiselect-right",width:N/2,valueField:"id",displayField:"name",ddReorder:!0,store:Y,tbar:[{xtype:"button",iconCls:"ns-button-icon-arrowleftdouble",width:22,handler:function(){Y.getRange().length&&Y.removeAll()}},{xtype:"button",iconCls:"ns-button-icon-arrowleft",width:22,handler:function(){kt.getValue().length&&Y.removeByIds(kt.getValue())}},"->",{xtype:"label",text:I.selected,cls:"ns-toolbar-multiselect-right-label"}],listeners:{afterrender:function(){this.boundList.on("itemdblclick",function(t,e){Y.removeByIds(e.data.id)},this)}}}),It=Ext.create("Ext.panel.Panel",{xtype:"panel",preventHeader:!0,hidden:!0,hideCollapseTool:!0,dimension:P,bodyStyle:"border:0 none",items:[Et,{xtype:"panel",layout:"column",bodyStyle:"border-style:none",items:[Tt,kt]}]}),_t=function(t,e){e||(Et.setValue(t),St(t,!0)),Ext.Ajax.request({url:encodeURI(_+"/programs.json?filter=id:eq:"+t+"&fields=programIndicators[dimensionItem~rename(id),"+D+"]&paging=false"),disableCaching:!1,success:function(t){var e=(Ext.decode(t.responseText).programs[0]||{}).programIndicators||[],n=(0,f["default"])(e);z.loadDataAndUpdate(n)}})},Ot=Ext.create("Ext.form.field.ComboBox",{cls:"ns-combo",style:"margin:0 1px 1px 0",width:N,valueField:"id",displayField:"name",emptyText:I.select_program,editable:!1,queryMode:"local",store:G,listeners:{select:function(t){_t(t.getValue())}}}),Dt=Ext.create("Ext.form.Label",{text:I.available,cls:"ns-toolbar-multiselect-left-label",style:"margin-right:5px"}),Rt=Ext.create("Ext.button.Button",{width:22,height:22,cls:"ns-button-icon",iconCls:"ns-button-icon-search",showFilter:function(){Dt.hide(),this.hide(),Lt.show(),Lt.reset()},hideFilter:function(){Dt.show(),this.show(),Lt.hide(),Lt.reset()},handler:function(){this.showFilter()}}),Lt=Ext.create("Ext.form.field.Trigger",{cls:"ns-trigger-filter",emptyText:"Filter available..",height:22,hidden:!0,enableKeyEvents:!0,fieldStyle:"height:22px; border-right:0 none",style:"height:22px",onTriggerClick:function(){this.reset(),this.onKeyUpHandler(),Rt.hideFilter()},onKeyUpHandler:function(){var t,e=this.getValue()||"",n=z;n.filterBy(function(n){return t=n.data.name||"",t.toLowerCase().indexOf(e.toLowerCase())!==-1})},listeners:{keyup:{fn:function(t){t.onKeyUpHandler()},buffer:100},show:function(t){t.focus(!1,50)},focus:function(t){t.addCls("ns-trigger-filter-focused")},blur:function(t){t.removeCls("ns-trigger-filter-focused")}}}),Bt=Ext.create("Ext.ux.form.MultiSelect",{cls:"ns-toolbar-multiselect-left",width:N/2,valueField:"id",displayField:"name",store:z,tbar:[Dt,Rt,Lt,"->",{xtype:"button",iconCls:"ns-button-icon-arrowright",width:22,handler:function(){if(Bt.getValue().length){var t=z.getRecordsByIds(Bt.getValue());Y.addRecords(t,"pi")}}},{xtype:"button",iconCls:"ns-button-icon-arrowrightdouble",width:22,handler:function(){Y.addRecords(z.getRange(),"pi")}}],listeners:{render:function(t){Ext.get(t.boundList.getEl().id+"-listEl").dom;t.boundList.on("itemdblclick",function(t,e){Y.addRecords(e,"pi")},t)}}}),Nt=Ext.create("Ext.ux.form.MultiSelect",{cls:"ns-toolbar-multiselect-right",width:N/2,valueField:"id",displayField:"name",ddReorder:!0,store:Y,tbar:[{xtype:"button",iconCls:"ns-button-icon-arrowleftdouble",width:22,handler:function(){Y.getRange().length&&Y.removeAll()}},{xtype:"button",iconCls:"ns-button-icon-arrowleft",width:22,handler:function(){Nt.getValue().length&&Y.removeByIds(Nt.getValue())}},"->",{xtype:"label",text:I.selected,cls:"ns-toolbar-multiselect-right-label"}],listeners:{afterrender:function(){this.boundList.on("itemdblclick",function(t,e){Y.removeByIds(e.data.id)},this)}}}),Ut=Ext.create("Ext.panel.Panel",{xtype:"panel",preventHeader:!0,hidden:!0,hideCollapseTool:!0,dimension:M,bodyStyle:"border:0 none",items:[Ot,{xtype:"panel",layout:"column",bodyStyle:"border-style:none",items:[Bt,Nt]}]}),jt=Ext.create("Ext.panel.Panel",{title:'<div class="ns-panel-title-data">'+I.data+"</div>",cls:"ns-accordion-first",bodyStyle:"padding:1px",hideCollapseTool:!0,dimension:y,updateStoreFilters:function(){U.updateFilter(),F.updateFilter(),H.updateFilter(),W.updateFilter(),z.updateFilter()},getDimension:function(){var t={dimension:y,items:[]};return Y.each(function(e){t.items.push({id:e.data.id,name:e.data.name})}),(Et.getValue()||Ot.getValue())&&(t.program={id:Et.getValue()||Ot.getValue()}),t.items.length?t:null},clearDimension:function(){Y.removeAll(),U.removeAll(),rt.clearValue(),F.removeAll(),pt.clearValue(),ft.reset(),H.removeAll(),W.removeAll(),z.removeAll()},setDimension:function(t){(0,w["default"])(t.program)&&(0,E["default"])(t.program.id)&&(Et.setValue(t.program.id),St(t.program.id)),t.hasDimension(this.dimension,!0)&&Y.addRecords(t.getDimension(this.dimension).getRecords())},getHeightValue:function(){var t=n.get("westRegion");return t.hasScrollbar?p.west_scrollbarheight_accordion_indicator:p.west_maxheight_accordion_indicator},onExpand:function(){ue.setThisHeight(this.getHeightValue()),n.msSetHeight([ot,at],this,p.west_fill_accordion_indicator),n.msSetHeight([ct,ht],this,p.west_fill_accordion_dataelement),n.msSetHeight([xt,bt],this,p.west_fill_accordion_dataset),n.msSetHeight([Tt,kt],this,p.west_fill_accordion_eventdataitem),n.msSetHeight([Bt,Nt],this,p.west_fill_accordion_programindicator)},items:[tt,st,gt,wt,It,Ut],listeners:{expand:function(t){t.onExpand()}}});R.push(n.reg(jt,"data"));var Ft=(Ext.create("Ext.form.field.Checkbox",{relativePeriodId:"rewind",boxLabel:I.rewind_one_period,xable:function(){this.setDisabled(Yt.isNoRelativePeriods())}}),{labelSeparator:"",style:"margin-bottom:0",listeners:{added:function(t){"checkbox"===t.xtype&&(L[t.index]=t,Vt.valueComponentMap[t.relativePeriodId]=t,t.relativePeriodId===i.getRelativePeriod()&&t.setValue(!0))}}}),Vt={xtype:"panel",layout:"column",hideCollapseTool:!0,autoScroll:!0,bodyStyle:"border:0 none",valueComponentMap:{},items:[{xtype:"container",columnWidth:.34,bodyStyle:"border-style:none",items:[{xtype:"panel",bodyStyle:"border-style:none; padding:0 0 0 8px",defaults:Ft,items:[{xtype:"label",text:I.days,cls:"ns-label-period-heading"},{xtype:"checkbox",relativePeriodId:"TODAY",boxLabel:I.today,index:0},{xtype:"checkbox",relativePeriodId:"YESTERDAY",boxLabel:I.yesterday,index:1},{xtype:"checkbox",relativePeriodId:"LAST_3_DAYS",boxLabel:I.last_3_days,index:2},{xtype:"checkbox",relativePeriodId:"LAST_7_DAYS",boxLabel:I.last_7_days,index:3},{xtype:"checkbox",relativePeriodId:"LAST_14_DAYS",boxLabel:I.last_14_days,index:4}]},{xtype:"panel",bodyStyle:"border-style:none; padding:5px 0 0 8px",defaults:Ft,items:[{xtype:"label",text:I.bimonths,cls:"ns-label-period-heading"},{xtype:"checkbox",relativePeriodId:"THIS_BIMONTH",boxLabel:I.this_bimonth,index:17},{xtype:"checkbox",relativePeriodId:"LAST_BIMONTH",boxLabel:I.last_bimonth,index:18},{xtype:"checkbox",relativePeriodId:"LAST_6_BIMONTHS",boxLabel:I.last_6_bimonths,index:19},{xtype:"checkbox",relativePeriodId:"BIMONTHS_THIS_YEAR",boxLabel:I.bimonths_this_year,index:20}]},{xtype:"panel",bodyStyle:"border-style:none; padding:5px 0 0 8px",defaults:Ft,items:[{xtype:"label",text:I.financial_years,cls:"ns-label-period-heading"},{xtype:"checkbox",relativePeriodId:"THIS_FINANCIAL_YEAR",boxLabel:I.this_financial_year,index:28},{xtype:"checkbox",relativePeriodId:"LAST_FINANCIAL_YEAR",boxLabel:I.last_financial_year,index:29},{xtype:"checkbox",relativePeriodId:"LAST_5_FINANCIAL_YEARS",boxLabel:I.last_5_financial_years,index:30}]}]},{xtype:"container",columnWidth:.33,bodyStyle:"border-style:none",items:[{xtype:"panel",bodyStyle:"border-style:none; padding:0 0 0 8px",defaults:Ft,items:[{xtype:"label",text:I.weeks,cls:"ns-label-period-heading"},{xtype:"checkbox",relativePeriodId:"THIS_WEEK",boxLabel:I.this_week,index:5},{xtype:"checkbox",relativePeriodId:"LAST_WEEK",boxLabel:I.last_week,index:6},{xtype:"checkbox",relativePeriodId:"LAST_4_WEEKS",boxLabel:I.last_4_weeks,index:7},{xtype:"checkbox",relativePeriodId:"LAST_12_WEEKS",boxLabel:I.last_12_weeks,index:8},{xtype:"checkbox",relativePeriodId:"LAST_52_WEEKS",boxLabel:I.last_52_weeks,index:9},{xtype:"checkbox",relativePeriodId:"WEEKS_THIS_YEAR",boxLabel:I.weeks_this_year,index:10}]},{xtype:"panel",bodyStyle:"border-style:none; padding:5px 0 0 8px",defaults:Ft,items:[{xtype:"label",text:I.quarters,cls:"ns-label-period-heading"},{xtype:"checkbox",relativePeriodId:"THIS_QUARTER",boxLabel:I.this_quarter,index:21},{xtype:"checkbox",relativePeriodId:"LAST_QUARTER",boxLabel:I.last_quarter,index:22},{xtype:"checkbox",relativePeriodId:"LAST_4_QUARTERS",boxLabel:I.last_4_quarters,index:23},{xtype:"checkbox",relativePeriodId:"QUARTERS_THIS_YEAR",boxLabel:I.quarters_this_year,index:24}]},{xtype:"panel",bodyStyle:"border-style:none; padding:5px 0 0 8px",defaults:Ft,items:[{xtype:"label",text:I.years,cls:"ns-label-period-heading"},{xtype:"checkbox",relativePeriodId:"THIS_YEAR",boxLabel:I.this_year,index:31},{xtype:"checkbox",relativePeriodId:"LAST_YEAR",boxLabel:I.last_year,index:32},{xtype:"checkbox",relativePeriodId:"LAST_5_YEARS",boxLabel:I.last_5_years,index:33}]}]},{xtype:"container",columnWidth:.33,bodyStyle:"border-style:none",items:[{xtype:"panel",bodyStyle:"border-style:none; padding:0 0 0 8px",defaults:Ft,items:[{xtype:"label",text:I.months,cls:"ns-label-period-heading"},{xtype:"checkbox",relativePeriodId:"THIS_MONTH",boxLabel:I.this_month,index:11},{xtype:"checkbox",relativePeriodId:"LAST_MONTH",boxLabel:I.last_month,index:12},{xtype:"checkbox",relativePeriodId:"LAST_3_MONTHS",boxLabel:I.last_3_months,index:13},{xtype:"checkbox",relativePeriodId:"LAST_6_MONTHS",boxLabel:I.last_6_months,index:14},{xtype:"checkbox",relativePeriodId:"LAST_12_MONTHS",boxLabel:I.last_12_months,index:15},{xtype:"checkbox",relativePeriodId:"MONTHS_THIS_YEAR",boxLabel:I.months_this_year,index:16}]},{xtype:"panel",bodyStyle:"border-style:none; padding:5px 0 0 8px",defaults:Ft,items:[{xtype:"label",text:I.sixmonths,cls:"ns-label-period-heading"},{xtype:"checkbox",relativePeriodId:"THIS_SIX_MONTH",boxLabel:I.this_sixmonth,index:25},{xtype:"checkbox",relativePeriodId:"LAST_SIX_MONTH",boxLabel:I.last_sixmonth,index:26},{xtype:"checkbox",relativePeriodId:"LAST_2_SIXMONTHS",boxLabel:I.last_2_sixmonths,index:27}]}]}]},Ht=Ext.create("Ext.ux.form.MultiSelect",{cls:"ns-toolbar-multiselect-left",width:N/2,height:180,valueField:"id",displayField:"name",store:q,tbar:[{xtype:"label",text:I.available,cls:"ns-toolbar-multiselect-left-label"},"->",{xtype:"button",iconCls:"ns-button-icon-arrowright",width:22,handler:function(){n.msSelect(Ht,Wt)}},{xtype:"button",iconCls:"ns-button-icon-arrowrightdouble",width:22,handler:function(){n.msSelectAll(Ht,Wt,!0)}}],listeners:{afterrender:function(){this.boundList.on("itemdblclick",function(){n.msSelect(Ht,Wt)},this)}}}),Wt=Ext.create("Ext.ux.form.MultiSelect",{cls:"ns-toolbar-multiselect-right",width:N/2,height:180,valueField:"id",displayField:"name",ddReorder:!0,store:K,tbar:[{xtype:"button",iconCls:"ns-button-icon-arrowleftdouble",width:22,handler:function(){n.msUnselectAll(Ht,Wt)}},{xtype:"button",iconCls:"ns-button-icon-arrowleft",width:22,handler:function(){n.msUnselect(Ht,Wt)}},"->",{xtype:"label",text:I.selected,cls:"ns-toolbar-multiselect-right-label"}],listeners:{afterrender:function(){this.boundList.on("itemdblclick",function(){n.msUnselect(Ht,Wt)},this)}}}),zt=function(){for(var t=Gt.getValue(),e=Gt.periodOffset,i=s.periodGenerator,r=i.generateReversedPeriods(t,"Yearly"===t?e-5:e),o=0;o<r.length;o++)r[o].id=r[o].iso;q.setIndex(r),q.loadData(r),n.msFilterAvailable(Ht,Wt)},Gt=Ext.create("Ext.form.field.ComboBox",{cls:"ns-combo",style:"margin-bottom:1px",width:N-62-62-2,valueField:"id",displayField:"name",emptyText:I.select_period_type,editable:!1,queryMode:"remote",store:X,periodOffset:0,listeners:{select:function(){Gt.periodOffset=0,zt()}}}),Yt=Ext.create("Ext.panel.Panel",{title:'<div class="ns-panel-title-period">'+I.periods+"</div>",hideCollapseTool:!0,dimension:T,checkboxes:L,clearDimension:function(t){K.removeAll(),Yt.resetRelativePeriods(),t||Vt.valueComponentMap[i.getRelativePeriod()].setValue(!0)},setDimension:function(t){if(t.hasDimension(this.dimension,!0)){var e,i=t.getDimension(this.dimension).extendRecords(t.getResponse()),r=[];i.forEach(function(t){e=Vt.valueComponentMap[t.id],e?e.setValue(!0):r.push(t)}),K.add(r),n.msFilterAvailable({store:q},{store:K})}},getDimension:function(){var t={dimension:T,items:[]};K.each(function(e){t.items.push({id:e.data.id,name:e.data.name})});for(var e,n=0;n<this.checkboxes.length;n++)e=this.checkboxes[n],e&&e.getValue()&&t.items.push({id:e.relativePeriodId,name:""});return t.items.length?t:null},getHeightValue:function(){var t=n.get("westRegion");return t.hasScrollbar?p.west_scrollbarheight_accordion_period:p.west_maxheight_accordion_period},onExpand:function(){ue.setThisHeight(this.getHeightValue()),n.msSetHeight([Ht,Wt],this,p.west_fill_accordion_period)},resetRelativePeriods:function(){for(var t=this.checkboxes,e=0;e<t.length;e++)t[e].setValue(!1)},isNoRelativePeriods:function(){for(var t=this.checkboxes,e=0;e<t.length;e++)if(t[e].getValue())return!1;return!0},items:[{xtype:"panel",layout:"column",bodyStyle:"border-style:none",style:"margin-top:0px",items:[Gt,{xtype:"button",text:I.prev_year,style:"margin-left:1px; border-radius:2px",height:24,width:62,handler:function(){Gt.getValue()&&(Gt.periodOffset--,zt())}},{xtype:"button",text:I.next_year,style:"margin-left:1px; border-radius:2px",height:24,width:62,handler:function(){Gt.getValue()&&(Gt.periodOffset++,zt())}}]},{xtype:"panel",layout:"column",bodyStyle:"border-style:none; padding-bottom:2px",items:[Ht,Wt]},Vt],listeners:{expand:function(t){t.onExpand()}}});R.push(n.reg(Yt,"period"));var Xt=Ext.create("Ext.tree.Panel",{cls:"ns-tree",style:"border-top: 1px solid #ddd; padding-top: 1px",width:N,displayField:"name",rootVisible:!1,autoScroll:!0,multiSelect:!0,rendered:!1,reset:function(){var t=this.getRootNode().findChild("id",i.rootNodes[0].id);this.collapseAll(),this.expandPath(t.getPath()),this.getSelectionModel().select(t)},selectRootIf:function(){if(this.getSelectionModel().getSelection().length<1){var t=this.getRootNode().findChild("id",i.rootNodes[0].id);return this.rendered&&this.getSelectionModel().select(t),t}},isPending:!1,recordsToSelect:[],recordsToRestore:[],multipleSelectIf:function(t,e){this.recordsToSelect=(0,l["default"])(this.recordsToSelect),this.recordsToSelect.length===Object.keys(t).length&&(this.getSelectionModel().select(this.recordsToSelect),this.recordsToSelect=[],this.isPending=!1,e&&update())},multipleExpand:function(t,e,n){var r=this,o=i.rootNodeId,a=e[t];a.substr(0,o.length+1)!=="/"+o&&(a="/"+o+"/"+a),r.expandPath(a,"id","/",function(){var i=r.getRootNode().findChild("id",t,!0);r.recordsToSelect.push(i),r.multipleSelectIf(e,n)})},select:function(t,e){e||(e={}),Ext.Ajax.request({url:encodeURI(t),method:"GET",params:e,scope:this,success:function(t){var e=Ext.decode(t.responseText).organisationUnits;this.numberOfRecords=e.length;for(var n=0;n<e.length;n++)this.multipleExpand(e[n].id,e[n].path)}})},getParentGraphMap:function(){var t=this.getSelectionModel().getSelection(),e={};if((0,m["default"])(t)&&t.length)for(var n,i=0;i<t.length;i++)n=t[i].getPath().split("/"),e[n.pop()]=n.join("/");return e},selectGraphMap:function(t,e){if(Object.keys(t).length){this.isPending=!0;for(var n in t)t.hasOwnProperty(n)&&Xt.multipleExpand(n,t,e)}},store:Ext.create("Ext.data.TreeStore",{fields:["id","name","hasChildren"],proxy:{type:"rest",format:"json",noCache:!1,extraParams:{fields:"children[id,"+D+",children::isNotEmpty~rename(hasChildren)&paging=false"},url:_+"/organisationUnits",reader:{type:"json",root:"children"},sortParam:!1},sorters:[{property:"name",direction:"ASC"}],root:{id:i.rootNodeId,expanded:!0,children:i.getRootNodes()},listeners:{beforeload:function(t,e){t.proxy._url||(t.proxy._url=t.proxy.url),t.proxy.url=t.proxy._url+"/"+e.node.data.id},load:function(t,e,n){n.forEach(function(t){(0,v["default"])(t.data.hasChildren)&&t.set("leaf",!t.data.hasChildren)})}}}),xable:function(t){for(var e=0;e<t.length;e++)if(t[e])return void this.disable();this.enable()},listeners:{beforeitemexpand:function(){Xt.isPending||(Xt.recordsToRestore=Xt.getSelectionModel().getSelection())},itemexpand:function(){!Xt.isPending&&Xt.recordsToRestore.length&&(Xt.getSelectionModel().select(Xt.recordsToRestore),Xt.recordsToRestore=[])},render:function(){this.rendered=!0},afterrender:function(){this.getSelectionModel().select(0)},itemcontextmenu:function(t,e,n,i,r){t.getSelectionModel().select(e,!1),t.menu&&t.menu.destroy(),t.menu=Ext.create("Ext.menu.Menu",{id:"treepanel-contextmenu",showSeparator:!1,shadow:!1}),e.data.leaf||(t.menu.add({id:"treepanel-contextmenu-item",text:I.select_sub_units,iconCls:"ns-button-icon-nodeselectchild",handler:function(){e.expand(!1,function(){t.getSelectionModel().select(e.childNodes,!0),t.getSelectionModel().deselect(e)})}}),t.menu.showAt(r.xy))}}});n.reg(Xt,"treePanel");var qt=Ext.create("Ext.form.field.Checkbox",{columnWidth:.25,style:"padding-top: 3px; padding-left: 5px; margin-bottom: 0",boxLabel:I.user_organisation_unit,labelWidth:p.form_label_width,handler:function(t,e){Xt.xable([e,Kt.getValue(),Qt.getValue()])}}),Kt=Ext.create("Ext.form.field.Checkbox",{columnWidth:.26,style:"padding-top: 3px; margin-bottom: 0",boxLabel:I.user_sub_units,labelWidth:p.form_label_width,handler:function(t,e){Xt.xable([e,qt.getValue(),Qt.getValue()])}}),Qt=Ext.create("Ext.form.field.Checkbox",{columnWidth:.4,style:"padding-top: 3px; margin-bottom: 0",boxLabel:I.user_sub_x2_units,labelWidth:p.form_label_width,handler:function(t,e){Xt.xable([e,qt.getValue(),Kt.getValue()])}}),Jt=Ext.create("Ext.form.field.ComboBox",{cls:"ns-combo",multiSelect:!0,style:"margin-bottom:0",width:N-37,valueField:"level",displayField:"name",emptyText:I.select_organisation_unit_levels,editable:!1,hidden:!0,store:Q}),Zt=Ext.create("Ext.form.field.ComboBox",{cls:"ns-combo",multiSelect:!0,style:"margin-bottom:0",width:N-37,valueField:"id",displayField:"name",emptyText:I.select_organisation_unit_groups,editable:!1,hidden:!0,store:J}),$t=Ext.create("Ext.menu.Menu",{shadow:!1,showSeparator:!1,menuValue:"orgunit",clickHandler:function(t){if(t){var e=this.items.items;this.menuValue=t;for(var n=0;n<e.length;n++)e[n].setIconCls&&(e[n].param===t?e[n].setIconCls("ns-menu-item-selected"):e[n].setIconCls("ns-menu-item-unselected"));"orgunit"===t?(qt.show(),Kt.show(),Qt.show(),Jt.hide(),Zt.hide(),(qt.getValue()||Kt.getValue())&&Xt.disable()):"level"===t?(qt.hide(),Kt.hide(),Qt.hide(),Jt.show(),Zt.hide(),Xt.enable()):"group"===t&&(J.load(),qt.hide(),Kt.hide(),Qt.hide(),Jt.hide(),Zt.show(),Xt.enable())}},items:[{xtype:"label",text:"Selection mode",style:"padding:7px 5px 5px 7px; font-weight:bold; border:0 none"},{text:I.select_organisation_units+"&nbsp;&nbsp;",param:"orgunit",iconCls:"ns-menu-item-selected"},{text:"Select levels&nbsp;&nbsp;",param:"level",iconCls:"ns-menu-item-unselected"},{text:"Select groups&nbsp;&nbsp;",param:"group",iconCls:"ns-menu-item-unselected"}],listeners:{afterrender:function(){this.getEl().addCls("ns-btn-menu")},click:function(t,e){this.clickHandler(e.param)}}}),te=Ext.create("Ext.button.Button",{cls:"ns-button-organisationunitselection",iconCls:"ns-button-icon-gear",width:36,height:24,menu:$t}),ee=Ext.create("Ext.panel.Panel",{width:36,bodyStyle:"border:0 none; text-align:right",style:"margin-right:1px",items:te}),ne=Ext.create("Ext.panel.Panel",{title:'<div class="ns-panel-title-organisationunit">'+I.organisation_units+"</div>",bodyStyle:"padding:1px",hideCollapseTool:!0,dimension:k,collapsed:!1,clearDimension:function(t){t&&(Xt.reset(),qt.setValue(!1),Kt.setValue(!1),Qt.setValue(!1))},setDimension:function(t){if(t.hasDimension(this.dimension,!0)){var e,n,i,r=t.getDimension(this.dimension,!0),o=t.parentGraphMap,a=r.getRecords(),s=[],l=[],u=[];a.forEach(function(t){"USER_ORGUNIT"===t.id?e=!0:"USER_ORGUNIT_CHILDREN"===t.id?n=!0:"USER_ORGUNIT_GRANDCHILDREN"===t.id?i=!0:"LEVEL"===t.id.substr(0,5)?l.push(parseInt(t.id.split("-")[1])):"OU_GROUP"===t.id.substr(0,8)?u.push(t.id.split("-")[1]):s.push(t.id)}),l.length?($t.clickHandler("level"),Jt.setValue(l)):u.length?($t.clickHandler("group"),Zt.setValue(u)):($t.clickHandler("orgunit"),qt.setValue(e),Kt.setValue(n),Qt.setValue(i)),e||n||i||(0,w["default"])(o)&&Xt.selectGraphMap(o)}else this.clearDimension(!0)},getDimension:function(){var t=Xt.getSelectionModel().getSelection(),e={dimension:k,items:[]};if("orgunit"===$t.menuValue)if(qt.getValue()||Kt.getValue()||Qt.getValue())qt.getValue()&&e.items.push({id:"USER_ORGUNIT",name:""}),Kt.getValue()&&e.items.push({id:"USER_ORGUNIT_CHILDREN",name:""}),Qt.getValue()&&e.items.push({id:"USER_ORGUNIT_GRANDCHILDREN",name:""});else for(var n=0;n<t.length;n++)e.items.push({id:t[n].data.id});else if("level"===$t.menuValue){for(var i=Jt.getValue(),n=0;n<i.length;n++)e.items.push({id:"LEVEL-"+i[n],name:""});for(var n=0;n<t.length;n++)e.items.push({id:t[n].data.id,name:""})}else if("group"===$t.menuValue){for(var r=Zt.getValue(),n=0;n<r.length;n++)e.items.push({id:"OU_GROUP-"+r[n],name:""});for(var n=0;n<t.length;n++)e.items.push({id:t[n].data.id,name:""})}return e.items.length?e:null},getHeightValue:function(){var t=n.get("westRegion");return t.hasScrollbar?p.west_scrollbarheight_accordion_organisationunit:p.west_maxheight_accordion_organisationunit},onExpand:function(){ue.setThisHeight(this.getHeightValue),Xt.setHeight(this.getHeight()-p.west_fill_accordion_organisationunit)},items:[{layout:"column",bodyStyle:"border:0 none",style:"padding-bottom:1px",items:[ee,{width:N-37,layout:"column",bodyStyle:"border:0 none",items:[qt,Kt,Qt,Jt,Zt]}]},Xt],listeners:{expand:function(t){t.onExpand()}}});R.push(n.reg(ne,"organisationUnit"));var ie=function(t,e){var i,r,o,a,s,l,u,d,c,h,f;return i=function(){var e=n.get("layoutWindow");o.getRange().length||u.getValue()?e.addDimension({id:t.id,name:t.name}):e.hasDimension(t.id)&&e.removeDimension(t.id)},r=Ext.create("Ext.data.Store",{fields:["id","name"],lastPage:null,nextPage:1,isPending:!1,isLoaded:!1,reset:function(){this.removeAll(),this.lastPage=null,this.nextPage=1,this.isPending=!1,s.hideFilter()},storage:{},addToStorage:function(t,e,n){e="cache_"+((0,E["default"])(e)||(0,b["default"])(e)?e:""),t&&(this.storage.hasOwnProperty(t)||(this.storage[t]={}),this.storage[t][e]||(this.storage[t][e]=n))},getFromStorage:function(t,e){if(e="cache_"+((0,E["default"])(e)||(0,b["default"])(e)?e:""),this.storage.hasOwnProperty(t)&&this.storage[t].hasOwnProperty(e))return this.storage[t][e]},loadPage:function(e,i,r,o){var a,s,u=this,c={};if(e=e||l.getValue()||null,s=u.getFromStorage(t.id,e),!i&&s)u.loadStore(s,{},i,o);else{if(i||(this.lastPage=null,this.nextPage=1),u.nextPage===u.lastPage)return;a="/dimensions/"+t.id+"/items.json?fields=id,"+D+(e?"&filter="+O+":ilike:"+e:""),r?c.paging=!1:(c.page=u.nextPage,
c.pageSize=50),u.isPending=!0,n.mask(d.boundList),Ext.Ajax.request({url:encodeURI(_+a),method:"GET",params:c,success:function(n){var r=Ext.decode(n.responseText),a=r.items||[],s=r.pager;u.addToStorage(t.id,e,a),u.loadStore(a,s,i,o)},callback:function(){u.isPending=!1,n.unmask(d.boundList)}})}},loadStore:function(t,e,i,a){e=e||{},this.loadData(t,i),this.lastPage=this.nextPage,e.pageCount>this.nextPage&&this.nextPage++,this.isPending=!1,n.msFilterAvailable({store:r},{store:o}),a&&a()},sortStore:function(){this.sort("name","ASC")}}),o=Ext.create("Ext.data.Store",{fields:["id","name"],data:[],listeners:{add:function(){i()},remove:function(){i()},clear:function(){i()}}}),a=Ext.create("Ext.form.Label",{text:I.available,cls:"ns-toolbar-multiselect-left-label",style:"margin-right:5px"}),s=Ext.create("Ext.button.Button",{width:22,height:22,cls:"ns-button-icon",iconCls:"ns-button-icon-search",showFilter:function(){a.hide(),this.hide(),l.show(),l.reset()},hideFilter:function(){a.show(),this.show(),l.hide(),l.reset()},handler:function(){this.showFilter()}}),l=Ext.create("Ext.form.field.Trigger",{cls:"ns-trigger-filter",emptyText:"Filter available..",height:22,hidden:!0,enableKeyEvents:!0,fieldStyle:"height:22px; border-right:0 none",style:"height:22px",onTriggerClick:function(){this.reset(),this.onKeyUpHandler(),s.hideFilter()},onKeyUpHandler:function(){var t=this.getValue(),e=r;((0,E["default"])(t)||(0,b["default"])(t))&&e.loadPage(t,!1,!0)},listeners:{keyup:{fn:function(t){t.onKeyUpHandler()},buffer:100},show:function(t){t.focus(!1,50)},focus:function(t){t.addCls("ns-trigger-filter-focused")},blur:function(t){t.removeCls("ns-trigger-filter-focused")}}}),u=Ext.create("Ext.form.field.Checkbox",{cls:"ns-checkbox",style:"margin-left: 2px; margin-right: 5px",boxLabel:"All",listeners:{change:function(t,e){h(e)}}}),d=Ext.create("Ext.ux.form.MultiSelect",{cls:"ns-toolbar-multiselect-left",width:N/2,valueField:"id",displayField:"name",store:r,tbar:[a,s,l,"->",{xtype:"button",iconCls:"ns-button-icon-arrowright",width:22,handler:function(){n.msSelect(d,c)}},{xtype:"button",iconCls:"ns-button-icon-arrowrightdouble",width:22,handler:function(){r.loadPage(null,null,!0,function(){n.msSelectAll(d,c)})}}],listeners:{render:function(t){var e=Ext.get(t.boundList.getEl().id+"-listEl").dom;e.addEventListener("scroll",function(t){n.isScrolled(t)&&!r.isPending&&r.loadPage(null,!0)}),t.boundList.on("itemdblclick",function(){n.msSelect(d,c)},t)}}}),c=Ext.create("Ext.ux.form.MultiSelect",{cls:"ns-toolbar-multiselect-right",width:N/2,valueField:"id",displayField:"name",ddReorder:!0,store:o,tbar:[{xtype:"button",iconCls:"ns-button-icon-arrowleftdouble",width:22,handler:function(){n.msUnselectAll(d,c)}},{xtype:"button",iconCls:"ns-button-icon-arrowleft",width:22,handler:function(){n.msUnselect(d,c)}},"->",{xtype:"label",text:I.selected,cls:"ns-toolbar-multiselect-right-label"},u],listeners:{afterrender:function(){this.boundList.on("itemdblclick",function(){n.msUnselect(d,c)},this)}}}),h=function(t){d.boundList&&c.boundList&&(t?(d.boundList.disable(),c.boundList.disable()):(d.boundList.enable(),c.boundList.enable())),i()},f=Ext.create("Ext.panel.Panel",{title:'<div class="'+e+'">'+t.name+"</div>",hideCollapseTool:!0,dimension:t.id,availableStore:r,selectedStore:o,selectedAll:u,isDynamic:!0,clearDimension:function(){r.reset(),o.removeAll(),u.setValue(!1)},setDimension:function(t){if(t.hasDimension(this.dimension,!0)){var e=t.getDimension(this.dimension).getRecords();e.length?(o.add(e),n.msFilterAvailable({store:r},{store:o})):u.setValue(!0)}},getDimension:function(){var e={};return t.id&&(e.dimension=t.id),!u.getValue()&&o.getRange().length&&(e.items=[],o.each(function(t){e.items.push({id:t.data.id})})),e.dimension?e:null},onExpand:function(){r.isLoaded||r.loadPage(),u.getValue()&&(d.boundList.disable(),c.boundList.disable());var t=n.get("westRegion"),e=n.get("accordion"),i=t.hasScrollbar?p.west_scrollbarheight_accordion_group:p.west_maxheight_accordion_group;e.setThisHeight(i),n.msSetHeight([d,c],this,p.west_fill_accordion_group)},items:[{xtype:"panel",layout:"column",bodyStyle:"border-style:none",items:[d,c]}],listeners:{expand:function(t){t.onExpand()}}})},re=[jt,Yt,ne].concat(o(i.dimensions.map(function(t){var e=ie(t,"ns-panel-title-dimension");return R.push(n.reg(e,e.dimension)),e}))),oe=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.map(function(t){return ie(t,"ns-panel-title-dimension")})},ae=Ext.create("Ext.panel.Panel",{layout:"accordion",activeOnTop:!0,cls:"ns-accordion",bodyStyle:"border:0 none",height:700,toBeRemoved:[],addItems:function(t){this.toBeRemoved=this.add(oe(t)),ue.setThisHeight()},removeItems:function(){this.toBeRemoved.map(function(t){return(0,E["default"])(t)?t:t.id}).forEach(function(t){ae.remove(t)}),ue.setThisHeight(),this.toBeRemoved=[]},getExpandedPanel:function(){var t;return this.items.each(function(e){if(!e.collapsed)return t=e,!1}),t},items:re}),se=function(t){var e=n.get("layoutWindow"),i=n.get("optionsWindow"),r=n.get("chartTypeToolbar");if(r&&r.reset(),ue.clearDimensions(t),t){var o=u.get("category");r&&r.setChartType(t.type),ue.setDimensions(t),e&&(e.reset(!0),e.setDimensions(t)),e.hasDimension(o.dimensionName)||e.addDimension({id:o.dimensionName,name:o.name},e.dimensionStore),i&&i.setOptions(t)}else Xt.reset(),e.reset(),i.reset()},le=function(t,e){var n=t.colStore.getDimensionNames(),i=t.rowStore.getDimensionNames(),r=t.filterStore.getDimensionNames(),o=e.getOptions(),a=u.get("data").dimensionName,s=u.get("category").dimensionName,l={};o.columns=[],o.rows=[],o.filters=[],ae.items.each(function(t){if(t.getDimension){var e=t.getDimension();e&&e.dimension&&(l[e.dimension]=[e])}});for(var d,c=0,h=[n,i,r],p=[o.columns,o.rows,o.filters];c<h.length;c++){d=h[c];for(var f,g=0;g<d.length;g++)if(f=d[g],f===s)p[c].push({dimension:s,items:[]});else if(f===a&&l.hasOwnProperty(f)&&l[f])for(var m=0;m<l[a].length;m++)p[c].push(Ext.clone(l[a][m])),l[a][m].program&&(o.program=l[a][m].program);else if(l.hasOwnProperty(f)&&l[f])for(var m=0;m<l[f].length;m++)p[c].push(Ext.clone(l[f][m]))}return o};!function(){U.on("load",function(){n.msFilterAvailable(ot,at)}),F.on("load",function(){n.msFilterAvailable(ct,ht)}),H.on("load",function(t){n.msFilterAvailable(xt,bt),t.sort("name","ASC")})}();var ue=Ext.create("Ext.panel.Panel",(e={bodyStyle:"border-style:none; border-top:1px solid #e1e1e1; padding:1px; padding-bottom:0; overflow-y:scroll;",accordionBody:ae,items:ae,panels:R,expandInitPanels:function(){ne.expand()},clearDimensions:function(t){R.forEach(function(e){e.clearDimension(!!t)})},setDimensions:function(t){R.forEach(function(e){e.setDimension(t)})},setThisHeight:function(t){var e,i=n.get("westRegion"),r=28*this.panels.length,o=i.hasChartTypeToolbar()?45:0;i.hasScrollbar?(e=r+t,this.setHeight(i.getHeight()-o-2),ae.setHeight(e-2)):(e=i.getHeight()-p.west_fill,t+=r,ue.setHeight((e>t?t:e)-2),ae.setHeight((e>t?t:e)-4))},getExpandedPanel:function(){return ae.getExpandedPanel()},getFirstPanel:function(){return this.panels[0]},getParentGraphMap:function(){return Xt.getParentGraphMap()},getUxArray:function(t){return ht.getUxArrayById(t)}},r(e,"accordionBody",ae),r(e,"panels",R),r(e,"treePanel",Xt),r(e,"getUiState",le),r(e,"setUiState",se),e));return ue}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.WestRegionTrackerItems=void 0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},s=n(33),l=(i(s),n(10)),u=i(l),d=n(4),c=i(d),h=n(5),p=(i(h),n(32)),f=i(p),g=n(11),m=i(g),y=n(1),v=i(y),x=n(23),b=i(x),A=n(6),w=i(A),S=n(2),E=i(S),C=n(3),P=i(C),M=e.WestRegionTrackerItems=void 0;e.WestRegionTrackerItems=M=function(t){var e,n=t.uiManager,i=(t.instanceManager,t.appManager),s=t.i18nManager,l=(t.sessionStorageManager,t.calendarManager),d=t.dimensionConfig,h=t.periodConfig,p=t.uiConfig,g=(t.optionConfig,t.api),y=(d.get("data").objectName,d.get("indicator").objectName,d.get("dataElement").objectName,d.get("operand").objectName,d.get("dataSet").objectName,d.get("eventDataItem").objectName,d.get("programIndicator").objectName,d.get("period").objectName),x=d.get("organisationUnit").objectName,A=s.get(),S=(i.getPath(),i.getApiPath()),C=i.getDisplayProperty(),M=i.getDisplayPropertyUrl(),T=[],k={},I={},_=448,O=_-2,D=36,R=62,L=Ext.create("Ext.data.Store",{fields:["id","name"],proxy:{type:"ajax",url:encodeURI(S+"/programs.json?fields=id,"+M+"&paging=false"),reader:{type:"json",root:"programs"},pageParam:!1,startParam:!1,limitParam:!1},sortInfo:{field:"name",direction:"ASC"},isLoaded:!1,listeners:{load:function(){this.isLoaded||(this.isLoaded=!0)}}}),B=Ext.create("Ext.data.Store",{fields:["id","name"],isLoaded:!1,listeners:{load:function(){this.isLoaded||(this.isLoaded=!0),this.sort("name","ASC")}}}),N=Ext.create("Ext.data.Store",{fields:["id","name","isAttribute","isProgramIndicator"],data:[],sorters:[{property:"name",direction:"ASC"}],onLoadData:function(){var t=n.get("aggregateLayoutWindow"),e=d.valueType.numeric_types,i=d.valueType.date_types;this.each(function(n){(0,c["default"])(e,n.data.valueType)&&t.valueStore.add(n.data),(0,c["default"])(i,n.data.valueType)&&t.timeFieldStore.add(n.data)}),this.toggleProgramIndicators()},toggleProgramIndicators:function(t){var e=n.get("dataTypeToolbar");t=t||(e?e.getDataType():null),this.clearFilter(),n.disallowProgramIndicators||t===d.dataType.aggregated_values?(K.select("all"),K.store.filterBy(function(t){return"pi"!=t.data.id}),this.filterBy(function(t){return!t.data.isProgramIndicator})):K.store.clearFilter()}}),U=Ext.create("Ext.data.Store",{fields:["id","name"],proxy:{type:"ajax",url:encodeURI(S+"/organisationUnitGroups.json?fields=id,"+M+"&paging=false"),reader:{type:"json",root:"organisationUnitGroups"}}}),j=Ext.create("Ext.data.Store",{fields:["id","name"],data:h.getPeriodTypeRecords()}),F=Ext.create("Ext.data.Store",{fields:["id","name","index"],data:[],setIndex:function(t){for(var e=0;e<t.length;e++)t[e].index=e},sortStore:function(){this.sort("index","ASC")}}),V=Ext.create("Ext.data.Store",{fields:["id","name"],data:[]}),H=function(t){N.toggleProgramIndicators(t),nt.toggleProgramIndicators(t)},W=function(t){G(null,t)},z=Ext.create("Ext.form.field.ComboBox",{editable:!1,valueField:"id",displayField:"name",fieldLabel:"Program",labelAlign:"top",labelCls:"ns-form-item-label-top",labelSeparator:"",emptyText:"Select program",forceSelection:!0,queryMode:"remote",columnWidth:.5,style:"margin:1px 1px 1px 0",storage:{},store:L,getRecord:function(){return this.getValue?{id:this.getValue(),name:this.getRawValue()}:null},listeners:{select:function(t){G(t.getValue())}}}),G=function(e,r){var o="default",a="ATTRIBUTE";if(e=e||(r?r.program.id:null)){Y.clearValue(),N.removeAll(),nt.removeAllDataElements(!0),n.get("aggregateLayoutWindow").value.resetData();var s=function(t){if((0,E["default"])(t)&&(0,v["default"])(t.categories)&&t.categories.length){var e=t.categories.filter(function(t){return t.name!==o});return e.forEach(function(t){t.items=t.categoryOptions,(0,v["default"])(t.items)&&(0,m["default"])(t.items)}),e}},l=function(t){var e=t.programStages,l=[];l=l.concat(s(t.categoryCombo)||[]),t.categoryCombo.name!==o&&(l=l.concat(i.categoryOptionGroupSets.filter(function(t){return t.dataDimensionType===a})||[])),Xt.removeItems(),Xt.addItems((0,m["default"])((0,u["default"])(l))),r&&Qt.setDimensions(r,!0),Y.enable(),Y.clearValue(),B.removeAll(),B.loadData(e);var d=(r?r.programStage.id:null)||(1===e.length?e[0].id:null);d&&(Y.setValue(d),X(d,r)),n.get("aggregateLayoutWindow").timeField.resetData(t.programType)};k[e]?l(k[e]):new g.Request(t,{baseUrl:i.getApiPath()+"/programs.json",type:"json",params:["filter=id:eq:"+e,["fields=programType,programStages[id,displayName~rename(name)]","programIndicators[id,"+M+"]","programTrackedEntityAttributes[trackedEntityAttribute[id,"+M+",valueType,confidential,optionSet[id,displayName~rename(name)],legendSets~rename(storageLegendSets)[id,displayName~rename(name)]]]","categoryCombo[id,name,categories[id,"+M+",categoryOptions[id,"+M+"]]]"].join(""),"paging=false"],success:function(t){var n=t.programs[0];n&&(n.programStages.forEach(function(t){t.isProgramStage=!0}),n.attributes=(0,f["default"])(n.programTrackedEntityAttributes,"trackedEntityAttribute").filter(function(t){return t.isAttribute=!0,t.name="[PA] "+t.name,!t.confidential}),n.programIndicators.forEach(function(t){t.name="[PI] "+t.name,t.isProgramIndicator=!0}),(0,v["default"])(n.programStages)&&n.programStages.length&&(k[e]=n,l(n)))}}).run()}},Y=Ext.create("Ext.form.field.ComboBox",{editable:!1,valueField:"id",displayField:"name",fieldLabel:"Stage",labelAlign:"top",labelCls:"ns-form-item-label-top",labelSeparator:"",emptyText:"Select stage",queryMode:"local",forceSelection:!0,columnWidth:.5,style:"margin:1px 0 1px 0",disabled:!0,listConfig:{loadMask:!1},store:B,getRecord:function(){return this.getValue()?{id:this.getValue(),name:this.getRawValue()}:null},listeners:{select:function(t){X(t.getValue())}}}),X=function(t,e){e||(nt.removeAllDataElements(!0),n.get("aggregateLayoutWindow").value.resetData());var i=k[e?e.program.id:z.getValue()];n.get("aggregateLayoutWindow").timeField.resetData(i.programType),K.enable(),Z.enable(),Z.hideFilter(),q(t,e)},q=function(e,n){var r=n?n.program.id:z.getValue()||null,o=k[r],a=(0,u["default"])([].concat(o.attributes||[],o.programIndicators||[]));e=e||n.programStage.id;var s=function(t){var e=(0,u["default"])(a.concat(t||[]));if(N.loadData(e),N.onLoadData(),n){for(var i,r,o=n?n.getDimensions(!0).filter(function(t){return!(0,c["default"])(["pe","ou"],t.dimension)}):[],s=[],l=0;l<o.length;l++)i=o[l],r=N.getById(i.dimension),r&&s.push(Ext.applyIf(i,r.data));rt(s,n)}};I.hasOwnProperty(e)?s(I[e]):new g.Request(t,{baseUrl:i.getApiPath()+"/programStages.json",type:"json",params:["filter=id:eq:"+e,"fields=programStageDataElements[dataElement[id,"+M+",valueType,optionSet[id,displayName~rename(name)],legendSets~rename(storageLegendSets)[id,displayName~rename(name)]]]","paging=false"],success:function(t){var n=t.programStages,i=d.valueType.tracker_aggregatable_types;if(!n.length)return void s();var r=function(t){return(0,c["default"])(i,t.valueType)||(0,E["default"])(t.optionSet)||(0,v["default"])(t.legendSets||t.storageLegendSets)},o=(0,f["default"])(n[0].programStageDataElements,"dataElement").filter(function(t){return t.isDataElement=!0,t.name="[DE] "+t.name,r(t)});I[e]=o,s(o)}}).run()},K=Ext.create("Ext.form.field.ComboBox",{editable:!1,valueField:"id",displayField:"name",queryMode:"local",lastQuery:"",width:O/2-32,disabled:!0,listConfig:{loadMask:!1},style:"padding-bottom:1px; border-bottom:1px solid #ddd; margin-bottom:1px",value:"all",store:{fields:["id","name"],data:[{id:"all",name:"All"},{id:"de",name:"Data elements"},{id:"pa",name:"Program attributes"},{id:"pi",name:"Program indicators"}]},reset:function(){Q("all")},listeners:{select:function(t){Q(t.getValue())}}}),Q=function(t){K.setValue(t);var e=N;switch(t){case"all":e.clearFilter(),(n.disallowProgramIndicators||n.get("dataTypeToolbar").getDataType()===d.dataType.aggregated_values)&&e.filterBy(function(t){return!t.data.isProgramIndicator});break;case"de":e.filterBy(function(t){return!t.data.isAttribute&&!t.data.isProgramIndicator});break;case"pa":e.filterBy(function(t){return t.data.isAttribute});break;case"pi":e.filterBy(function(t){return t.data.isProgramIndicator})}},J=Ext.create("Ext.form.Label",{width:O/2-32,text:A.available,cls:"ns-toolbar-multiselect-left-label",style:"margin-right:5px"}),Z=Ext.create("Ext.button.Button",{width:22,height:22,cls:"ns-button-icon",iconCls:"ns-button-icon-search",disabled:!0,showFilter:function(){J.hide(),this.hide(),tt.show(),tt.reset()},hideFilter:function(){J.show(),this.show(),tt.hide(),tt.reset()},handler:function(){this.showFilter()}}),tt=Ext.create("Ext.form.field.Trigger",{cls:"ns-trigger-filter",emptyText:"Filter available...",height:22,width:O/2-5,hidden:!0,enableKeyEvents:!0,fieldStyle:"height:22px; border-right:0 none",style:"height:22px",onTriggerClick:function(){this.getValue()&&(this.reset(),this.onKeyUpHandler()),Z.hideFilter()},onKeyUpHandler:function(){var t,e=N,n=this.getValue();return""===n?void e.clearFilter():void e.filterBy(function(e){return t=e.data.name||"",t.toLowerCase().indexOf(n.toLowerCase())!==-1})},listeners:{keyup:{fn:function(t){t.onKeyUpHandler()},buffer:100},show:function(t){t.focus(!1,50)},focus:function(t){t.addCls("ns-trigger-filter-focused")},blur:function(t){t.removeCls("ns-trigger-filter-focused")}}}),et=Ext.create("Ext.ux.form.MultiSelect",{cls:"ns-toolbar-multiselect-left",width:O,height:180,valueField:"id",displayField:"name",style:"margin-bottom:1px",store:N,tbar:[J,Z,tt,K,"->",{xtype:"button",iconCls:"ns-button-icon-arrowdown",width:22,height:22,handler:function(){et.getValue().length&&rt(et.getValue())}}],listeners:{afterrender:function(t){this.boundList.on("itemdblclick",function(){t.getValue().length&&rt(t.getValue())})}}}),nt=Ext.create("Ext.panel.Panel",{width:O,height:242,bodyStyle:"padding-left:1px",autoScroll:!0,tbar:[{xtype:"label",text:"Selected data items",style:"padding-left:6px; color:#333",cls:"ns-toolbar-multiselect-left-label"},"->",{xtype:"button",iconCls:"ns-button-icon-arrowupdouble",width:22,height:22,handler:function(){nt.removeAllDataElements()}}],getChildIndex:function(t){for(var e=this.items.items,n=0;n<e.length;n++)if(e[n].id===t.id)return n;return e.length},hasDataElement:function Jt(t){var Jt=!1;return this.items.each(function(e){e.dataElement.id===t&&(Jt=!0)}),Jt},getUxArrayById:function(t){var e=[];return this.items.each(function(n){n.dataElement.id===t&&e.push(n)}),e},removeAllDataElements:function(t){for(var e=this.items.items,n=e.length,i=0;i<n;i++)e[0].removeDataElement(t)},toggleProgramIndicators:function(t){this.items.each(function(e){t===d.dataType.aggregated_values&&e.isProgramIndicator?e.disable():e.enable()})}}),it=function Zt(t,e){var i=n.get("aggregateLayoutWindow"),r=n.get("queryLayoutWindow");e=e||nt.items.items.length;var o=function(t){var e=d.valueType;return(0,E["default"])(t.optionSet)&&(0,P["default"])(t.optionSet.id)?"Ext.ux.container.GroupSetContainer":(0,c["default"])(e.numeric_types,t.valueType)?"Ext.ux.container.DataElementIntegerContainer":(0,c["default"])(e.text_types,t.valueType)?"Ext.ux.container.DataElementStringContainer":(0,c["default"])(e.date_types,t.valueType)?"Ext.ux.container.DataElementDateContainer":(0,c["default"])(e.boolean_types,t.valueType)?"Ext.ux.container.DataElementBooleanContainer":"Ext.ux.container.DataElementIntegerContainer"},a=nt.insert(e,Ext.create(o(t),{dataElement:t}));return a.isAttribute=t.isAttribute,a.isProgramIndicator=t.isProgramIndicator,a.isDataElement=t.isDataElement,a.removeDataElement=function(e){nt.remove(a),nt.hasDataElement(t.id)||(e||(N.add(t),N.sort()),i.removeDimension(t.id,[i.valueStore,i.timeFieldStore]),r&&r.removeDimension(t.id))},a.duplicateDataElement=function(){var e=nt.getChildIndex(a)+1;Zt(t,e)},N.removeAt(N.findExact("id",t.id)),a},rt=function(t,e){for(var i,r=[],o=[],s=n.get("aggregateLayoutWindow"),l=n.get("queryLayoutWindow"),u=d.valueType.tracker_aggregatable_types,h=d.getObjectNameMap(),p=function(t){return t.id=t.id||t.dimension,t.name=t.name||e?e.getResponse().getNameById(t.dimension):h[t.dimension].name,t},f=0;f<t.length;f++)i=t[f],(0,P["default"])(i)?r.push(N.getById(i).data):(0,E["default"])(i)&&(i.data?r.push(i.data):r.push(i));for(var g,m,y,f=0;f<r.length;f++)if(g=r[f],o.push(g),(0,c["default"])(d.valueType.numeric_types,g.valueType)&&g.filter&&(m=g.filter.split(":"),y=m.length/2,y>1)){m.shift(),m.shift();for(var v,x=1;x<y;x++)v=a({},g),v.filter=m.shift(),v.filter+=":"+m.shift(),o.push(v)}for(var g,b,A,f=0;f<o.length;f++)g=o[f],g.name=g.name||g.displayName,h[g.id]=g,g.id!==s.value.getValue()&&(b=it(g),e&&b.setRecord(g)),A=(0,c["default"])(u,g.valueType)||g.optionSet?s.getDefaultStore():s.fixedFilterStore,s.addDimension(g,A,s.valueStore),l&&l.colStore.add(g);if(e&&e.dataType!==d.dataType.individual_cases){if(s.reset(!0,!0),e.startDate&&e.endDate&&s.fixedFilterStore.add({id:d.get("startEndDate").value,name:d.get("startEndDate").name}),e.columns)for(var w,S,f=0;f<e.columns.length;f++)S=a({},e.columns[f]),w=h[S.dimension],s.colStore.add(w||p(S));if(e.rows)for(var w,S,f=0;f<e.rows.length;f++)S=a({},e.rows[f]),w=h[S.dimension],s.rowStore.add(w||p(S));if(e.filters)for(var A,w,S,f=0;f<e.filters.length;f++)S=a({},e.filters[f]),w=h[S.dimension],A=(0,c["default"])(u,g.valueType)||g.optionSet?s.filterStore:s.fixedFilterStore,A.add(w||p(S));e.value&&e.aggregationType&&s.setValueConfig(e.value.id,e.aggregationType),e.timeField&&s.setTimeField(e.timeField),s.collapseDataDimensions&&(s.collapseDataDimensions.setValue(e.collapseDataDimensions),s.onCollapseDataDimensionsChange(e.collapseDataDimensions))}},ot=Ext.create("Ext.panel.Panel",{layout:"column",bodyStyle:"border:0 none",style:"margin-top:2px",items:[z,Y]}),at=Ext.create("Ext.panel.Panel",{title:'<div class="ns-panel-title-data">'+A.data+"</div>",cls:"ns-accordion-first",bodyStyle:"padding:1px",hideCollapseTool:!0,dimension:d.get("data").objectName,items:[ot,et,nt],setDimension:function(t){W(t)},clearDimension:function(){z.clearValue(),Y.clearValue(),N.removeAll(),nt.removeAll(),Z.hideFilter()},getHeightValue:function(){var t=n.get("westRegion");return t.hasScrollbar?p.west_scrollbarheight_accordion_indicator:p.west_maxheight_accordion_indicator},onExpand:function(){Qt.setThisHeight(this.getHeightValue());var t=this.getHeight()-28-ot.getHeight()-6;et.setHeight(.4*t),nt.setHeight(.6*t-1)},listeners:{expand:function(t){t.onExpand()}}});T.push(n.reg(at,"data"));var st=Ext.create("Ext.form.field.ComboBox",{editable:!1,valueField:"id",displayField:"name",queryMode:"local",width:O,listConfig:{loadMask:!1},style:"padding-bottom:1px; border-bottom:1px solid #ddd; margin-bottom:1px",value:"periods",store:{fields:["id","name"],data:[{id:"periods",name:"Fixed and relative periods"},{id:"dates",name:"Start/end dates"}]},reset:function(){lt("periods")},listeners:{select:function(t){lt(t.getValue())}}}),lt=function(t){var e=n.get("aggregateLayoutWindow");st.setValue(t),"dates"===t?(ht.show(),Ot.hide(),e.addDimension({id:d.get("startEndDate").value,name:d.get("startEndDate").name},e.fixedFilterStore),e.removeDimension(d.get("period").dimensionName)):"periods"===t&&(ht.hide(),Ot.show(),e.addDimension({id:d.get("period").dimensionName,name:d.get("period").name},e.colStore),e.removeDimension(d.get("startEndDate").value))},ut=function(t){$("#"+t.inputEl.id).calendarsPicker({calendar:l.calendar,dateFormat:i.systemInfo.dateFormat})},dt=Ext.create("Ext.form.field.Text",{fieldLabel:"Start date",labelAlign:"top",labelCls:"ns-form-item-label-top ns-form-item-label-top-padding",labelSeparator:"",columnWidth:.5,height:44,value:l.calendar.formatDate(i.systemInfo.dateFormat,l.calendar.today().add(-3,"m")),listeners:{render:function(t){ut(t)}}}),ct=Ext.create("Ext.form.field.Text",{fieldLabel:"End date",labelAlign:"top",labelCls:"ns-form-item-label-top ns-form-item-label-top-padding",labelSeparator:"",columnWidth:.5,height:44,style:"margin-left: 1px",value:l.calendar.formatDate(i.systemInfo.dateFormat,l.calendar.today()),listeners:{render:function(t){ut(t)}}}),ht=Ext.create("Ext.container.Container",{cls:"ns-container-default",layout:"column",hidden:!0,items:[dt,ct]}),pt=function(t){"checkbox"===t.xtype&&n.reg(t,t.relativePeriodId,null,"relativePeriod")},ft={added:function(t){pt(t)}},gt=Ext.create("Ext.panel.Panel",{bodyStyle:"border-style:none; padding:0 0 0 8px",defaults:{labelSeparator:"",style:"margin-bottom:0",listeners:ft},items:[{xtype:"label",text:A.days,cls:"ns-label-period-heading"},{xtype:"checkbox",relativePeriodId:"TODAY",boxLabel:A.today,index:0},{xtype:"checkbox",relativePeriodId:"YESTERDAY",boxLabel:A.yesterday,index:1},{xtype:"checkbox",relativePeriodId:"LAST_3_DAYS",boxLabel:A.last_3_days,index:2},{xtype:"checkbox",relativePeriodId:"LAST_7_DAYS",boxLabel:A.last_7_days,index:3},{xtype:"checkbox",relativePeriodId:"LAST_14_DAYS",boxLabel:A.last_14_days,index:4}]}),mt=Ext.create("Ext.panel.Panel",{bodyStyle:"border-style:none; padding:0 0 0 8px",defaults:{labelSeparator:"",style:"margin-bottom:0",listeners:ft},items:[{xtype:"label",text:A.weeks,cls:"ns-label-period-heading"},{xtype:"checkbox",relativePeriodId:"THIS_WEEK",boxLabel:A.this_week},{xtype:"checkbox",relativePeriodId:"LAST_WEEK",boxLabel:A.last_week},{xtype:"checkbox",relativePeriodId:"LAST_4_WEEKS",boxLabel:A.last_4_weeks},{xtype:"checkbox",relativePeriodId:"LAST_12_WEEKS",boxLabel:A.last_12_weeks},{xtype:"checkbox",relativePeriodId:"LAST_52_WEEKS",boxLabel:A.last_52_weeks},{xtype:"checkbox",relativePeriodId:"WEEKS_THIS_YEAR",boxLabel:A.weeks_this_year}]}),yt=Ext.create("Ext.panel.Panel",{bodyStyle:"border-style:none; padding:0 0 0 8px",defaults:{labelSeparator:"",style:"margin-bottom:0",listeners:ft},items:[{xtype:"label",text:A.months,cls:"ns-label-period-heading"},{xtype:"checkbox",relativePeriodId:"THIS_MONTH",boxLabel:A.this_month},{xtype:"checkbox",relativePeriodId:"LAST_MONTH",boxLabel:A.last_month},{xtype:"checkbox",relativePeriodId:"LAST_3_MONTHS",boxLabel:A.last_3_months},{xtype:"checkbox",relativePeriodId:"LAST_6_MONTHS",boxLabel:A.last_6_months},{xtype:"checkbox",relativePeriodId:"LAST_12_MONTHS",boxLabel:A.last_12_months,checked:!0},{xtype:"checkbox",relativePeriodId:"MONTHS_THIS_YEAR",boxLabel:A.months_this_year}]}),vt=Ext.create("Ext.panel.Panel",{bodyStyle:"border-style:none; padding:5px 0 0 8px",defaults:{labelSeparator:"",style:"margin-bottom:0",listeners:ft},items:[{xtype:"label",text:A.bimonths,cls:"ns-label-period-heading"},{xtype:"checkbox",relativePeriodId:"THIS_BIMONTH",boxLabel:A.this_bimonth},{xtype:"checkbox",relativePeriodId:"LAST_BIMONTH",boxLabel:A.last_bimonth},{xtype:"checkbox",relativePeriodId:"LAST_6_BIMONTHS",boxLabel:A.last_6_bimonths},{xtype:"checkbox",relativePeriodId:"BIMONTHS_THIS_YEAR",boxLabel:A.bimonths_this_year}]}),xt=Ext.create("Ext.panel.Panel",{bodyStyle:"border-style:none; padding:5px 0 0 8px",defaults:{labelSeparator:"",style:"margin-bottom:0",listeners:ft},items:[{xtype:"label",text:A.quarters,cls:"ns-label-period-heading"},{xtype:"checkbox",relativePeriodId:"THIS_QUARTER",boxLabel:A.this_quarter},{xtype:"checkbox",relativePeriodId:"LAST_QUARTER",boxLabel:A.last_quarter},{xtype:"checkbox",relativePeriodId:"LAST_4_QUARTERS",boxLabel:A.last_4_quarters},{xtype:"checkbox",relativePeriodId:"QUARTERS_THIS_YEAR",boxLabel:A.quarters_this_year}]}),bt=Ext.create("Ext.panel.Panel",{bodyStyle:"border-style:none; padding:5px 0 0 8px",defaults:{labelSeparator:"",style:"margin-bottom:0",listeners:ft},items:[{xtype:"label",text:A.sixmonths,cls:"ns-label-period-heading"},{xtype:"checkbox",relativePeriodId:"THIS_SIX_MONTH",boxLabel:A.this_sixmonth},{xtype:"checkbox",relativePeriodId:"LAST_SIX_MONTH",boxLabel:A.last_sixmonth},{xtype:"checkbox",relativePeriodId:"LAST_2_SIXMONTHS",boxLabel:A.last_2_sixmonths}]}),At=Ext.create("Ext.panel.Panel",{bodyStyle:"border-style:none; padding:5px 0 0 8px",defaults:{labelSeparator:"",style:"margin-bottom:0",listeners:ft},items:[{xtype:"label",text:A.financial_years,cls:"ns-label-period-heading"},{xtype:"checkbox",relativePeriodId:"THIS_FINANCIAL_YEAR",boxLabel:A.this_financial_year},{xtype:"checkbox",relativePeriodId:"LAST_FINANCIAL_YEAR",boxLabel:A.last_financial_year},{xtype:"checkbox",relativePeriodId:"LAST_5_FINANCIAL_YEARS",boxLabel:A.last_5_financial_years}]}),wt=Ext.create("Ext.panel.Panel",{bodyStyle:"border-style:none; padding:5px 0 0 8px",defaults:{labelSeparator:"",style:"margin-bottom:0",listeners:ft},items:[{xtype:"label",text:A.years,cls:"ns-label-period-heading"},{xtype:"checkbox",relativePeriodId:"THIS_YEAR",boxLabel:A.this_year},{xtype:"checkbox",relativePeriodId:"LAST_YEAR",boxLabel:A.last_year},{xtype:"checkbox",relativePeriodId:"LAST_5_YEARS",boxLabel:A.last_5_years}]}),St=Ext.create("Ext.panel.Panel",{layout:"column",hideCollapseTool:!0,autoScroll:!0,bodyStyle:"border:0 none",items:[{xtype:"container",columnWidth:.34,bodyStyle:"border-style:none",items:[gt,vt,At]},{xtype:"container",columnWidth:.33,bodyStyle:"border-style:none",items:[mt,xt,wt]},{xtype:"container",columnWidth:.33,bodyStyle:"border-style:none",items:[yt,bt]}],getRecords:function(){return n.getByGroup("relativePeriod").filter(function(t){return t.getValue()}).map(function(t){return t.relativePeriodId})}}),Et=Ext.create("Ext.ux.form.MultiSelect",{cls:"ns-toolbar-multiselect-left",width:O/2,height:160,valueField:"id",displayField:"name",store:F,tbar:[{xtype:"label",text:A.available,cls:"ns-toolbar-multiselect-left-label"},"->",{xtype:"button",iconCls:"ns-button-icon-arrowright",width:22,handler:function(){n.msSelect(Et,Ct)}},{xtype:"button",iconCls:"ns-button-icon-arrowrightdouble",width:22,handler:function(){n.msSelectAll(Et,Ct,!0)}}," "],listeners:{afterrender:function(){this.boundList.on("itemdblclick",function(){n.msSelect(Et,Ct)},this)}}}),Ct=Ext.create("Ext.ux.form.MultiSelect",{cls:"ns-toolbar-multiselect-right",width:O/2,height:160,valueField:"id",displayField:"name",ddReorder:!1,store:V,tbar:[" ",{xtype:"button",iconCls:"ns-button-icon-arrowleftdouble",width:22,handler:function(){n.msUnselectAll(Et,Ct)}},{xtype:"button",iconCls:"ns-button-icon-arrowleft",width:22,handler:function(){n.msUnselect(Et,Ct)}},"->",{xtype:"label",text:A.selected,cls:"ns-toolbar-multiselect-right-label"}],listeners:{afterrender:function(){this.boundList.on("itemdblclick",function(){n.msUnselect(Et,Ct)},this)}}}),Pt=function(){var t=Mt.getValue(),e=Mt.periodOffset,i=l.periodGenerator,r=i.generateReversedPeriods(t,"Yearly"===t?e-5:e);r.forEach(function(t){return t.id=t.iso}),F.setIndex(r),F.loadData(r),n.msFilterAvailable(Et,Ct)},Mt=Ext.create("Ext.form.field.ComboBox",{cls:"ns-combo",style:"margin-right:1px; margin-bottom:1px",width:O-2*R-2,valueField:"id",displayField:"name",emptyText:A.select_period_type,editable:!1,queryMode:"remote",store:j,periodOffset:0,listeners:{select:function(t){Mt.periodOffset=0,Pt()}}}),Tt=Ext.create("Ext.button.Button",{text:A.prev_year,style:"border-radius:1px; margin-right:1px",height:24,width:R,handler:function(){Mt.getValue()&&(Mt.periodOffset--,Pt())}}),kt=Ext.create("Ext.button.Button",{text:A.next_year,style:"border-radius:1px",height:24,width:R,handler:function(){Mt.getValue()&&(Mt.periodOffset++,Pt())}}),It=Ext.create("Ext.container.Container",{layout:"column",bodyStyle:"border-style:none",style:"margin-top:0px",items:[Mt,Tt,kt]}),_t=Ext.create("Ext.container.Container",{layout:"column",bodyStyle:"border-style:none; padding-bottom:2px",items:[Et,Ct]}),Ot=Ext.create("Ext.panel.Panel",{bodyStyle:"border-style:none",getRecords:function(){var t,e=[];return V.each(function(t){e.push({id:t.data.id})}),t=[].concat(e,o(n.getByGroup("relativePeriod").filter(function(t){return t.getValue()}).map(function(t){return{id:t.relativePeriodId}}))),t.length?t:null},getDimension:function(){return{dimension:"pe",items:this.getRecords()}},items:[{xtype:"panel",layout:"column",bodyStyle:"border-style:none; padding-bottom:2px",items:[It,_t]},St]}),Dt=Ext.create("Ext.panel.Panel",{title:'<div class="ns-panel-title-period">'+A.periods+"</div>",bodyStyle:"padding:1px",hideCollapseTool:!0,dimension:d.get("period").objectName,width:O,clearDimension:function(t){this.resetFixedPeriods(),this.resetRelativePeriods(),this.resetStartEndDates(),st.reset(),t||n.get(i.getRelativePeriod()).setValue(!0)},setDimension:function(t){if(t&&(t.startDate&&t.endDate?(lt("dates"),dt.setValue(t.startDate),ct.setValue(t.endDate)):lt("periods"),
t.hasDimension(this.dimension,!0))){var e,i=t.getDimension(this.dimension).extendRecords(t.getResponse()),r=[];i.forEach(function(t){e=n.get(t.id),e?e.setValue(!0):r.push(t)}),V.add(r),n.msFilterAvailable({store:F},{store:V})}},getDimension:function(){var t={dimension:y,items:Ot.getRecords()};return t.items.length?t:null},getHeightValue:function(){var t=n.get("westRegion");return t.hasScrollbar?p.west_scrollbarheight_accordion_period:p.west_maxheight_accordion_period},onExpand:function(){Qt.setThisHeight(this.getHeightValue()),n.msSetHeight([Et,Ct],this,p.west_fill_accordion_period)},reset:function(){this.resetRelativePeriods(),this.resetFixedPeriods(),this.resetStartEndDates(),st.reset()},isRelativePeriods:function(){return n.getByGroup("relativePeriod").some(function(t){return t.getValue()})},resetRelativePeriods:function(){n.getByGroup("relativePeriod").forEach(function(t){return t.setValue(!1)})},isNoRelativePeriods:function(){return!n.getByGroup("relativePeriod").some(function(t){return t.getValue()})},resetFixedPeriods:function(){F.removeAll(),V.removeAll(),Mt.clearValue()},resetStartEndDates:function(){dt.reset(),ct.reset()},items:[st,ht,Ot],listeners:{expand:function(t){t.onExpand()}}});T.push(n.reg(Dt,"period"));var Rt=Ext.create("Ext.tree.Panel",{cls:"ns-tree",height:436,width:O,bodyStyle:"border:0 none",style:"border-top: 1px solid #ddd; padding-top: 1px",displayField:"name",rootVisible:!1,autoScroll:!0,multiSelect:!0,rendered:!1,reset:function(){var t=this.getRootNode().findChild("id",i.rootNodes[0].id);this.collapseAll(),this.expandPath(t.getPath()),this.getSelectionModel().select(t)},selectRootIf:function(){if(this.getSelectionModel().getSelection().length<1){var t=this.getRootNode().findChild("id",i.rootNodes[0].id);return this.rendered&&this.getSelectionModel().select(t),t}},isPending:!1,recordsToSelect:[],recordsToRestore:[],multipleSelectIf:function(t,e){this.recordsToSelect=(0,u["default"])(this.recordsToSelect),this.recordsToSelect.length===Object.keys(t).length&&(this.getSelectionModel().select(this.recordsToSelect),this.recordsToSelect=[],this.isPending=!1,e&&update())},multipleExpand:function(t,e,n){var r=this,o=i.rootNodeId,a=e[t];a.substr(0,o.length+1)!=="/"+o&&(a="/"+o+"/"+a),r.expandPath(a,"id","/",function(){var i=r.getRootNode().findChild("id",t,!0);r.recordsToSelect.push(i),r.multipleSelectIf(e,n)})},select:function(t,e){e||(e={}),Ext.Ajax.request({url:t,method:"GET",params:e,scope:this,success:function(t){var e=Ext.decode(t.responseText).organisationUnits;this.numberOfRecords=e.length;for(var n=0;n<e.length;n++)this.multipleExpand(e[n].id,e[n].path)}})},getParentGraphMap:function(){var t=this.getSelectionModel().getSelection(),e={};if((0,v["default"])(t)&&t.length)for(var n,i=0;i<t.length;i++)n=t[i].getPath().split("/"),e[n.pop()]=n.join("/");return e},selectGraphMap:function(t,e){if(Object.keys(t).length){this.isPending=!0;for(var n in t)t.hasOwnProperty(n)&&Rt.multipleExpand(n,t,e)}},store:Ext.create("Ext.data.TreeStore",{fields:["id","name","hasChildren"],proxy:{type:"rest",format:"json",noCache:!1,extraParams:{fields:"children[id,"+M+",children::isNotEmpty~rename(hasChildren)&paging=false"},url:i.getApiPath()+"/organisationUnits",reader:{type:"json",root:"children"},sortParam:!1},sorters:[{property:"name",direction:"ASC"}],root:{id:i.rootNodeId,expanded:!0,children:i.getRootNodes()},listeners:{beforeload:function(t,e){t.proxy._url||(t.proxy._url=t.proxy.url),t.proxy.url=t.proxy._url+"/"+e.node.data.id},load:function(t,e,n){n.forEach(function(t){(0,b["default"])(t.data.hasChildren)&&t.set("leaf",!t.data.hasChildren)})}}}),xable:function(t){for(var e=0;e<t.length;e++)if(t[e])return void this.disable();this.enable()},getDimension:function(){var t=Rt.getSelectionModel().getSelection(),e={dimension:x,items:[]};if("orgunit"===Ft.menuValue)if(Lt.getValue()||Bt.getValue()||Nt.getValue())Lt.getValue()&&e.items.push({id:"USER_ORGUNIT",name:""}),Bt.getValue()&&e.items.push({id:"USER_ORGUNIT_CHILDREN",name:""}),Nt.getValue()&&e.items.push({id:"USER_ORGUNIT_GRANDCHILDREN",name:""});else for(var n=0;n<t.length;n++)e.items.push({id:t[n].data.id});else if("level"===Ft.menuValue){for(var i=Ut.getValue(),n=0;n<i.length;n++)e.items.push({id:"LEVEL-"+i[n],name:""});for(var n=0;n<t.length;n++)e.items.push({id:t[n].data.id,name:""})}else if("group"===Ft.menuValue){for(var r=jt.getValue(),n=0;n<r.length;n++)e.items.push({id:"OU_GROUP-"+r[n],name:""});for(var n=0;n<t.length;n++)e.items.push({id:t[n].data.id,name:""})}return e.items.length?e:null},listeners:{beforeitemexpand:function(){Rt.recordsToSelect;Rt.isPending||(Rt.recordsToRestore=Rt.getSelectionModel().getSelection())},itemexpand:function(){!Rt.isPending&&Rt.recordsToRestore.length&&(Rt.getSelectionModel().select(Rt.recordsToRestore),Rt.recordsToRestore=[])},render:function(){this.rendered=!0},afterrender:function(){this.getSelectionModel().select(0),Ext.defer(function(){at.expand()},20)},itemcontextmenu:function(t,e,n,i,r){t.getSelectionModel().select(e,!1),t.menu&&t.menu.destroy(),t.menu=Ext.create("Ext.menu.Menu",{id:"treepanel-contextmenu",showSeparator:!1,shadow:!1}),e.data.leaf||(t.menu.add({id:"treepanel-contextmenu-item",text:A.select_sub_units,iconCls:"ns-button-icon-nodeselectchild",handler:function(){e.expand(!1,function(){t.getSelectionModel().select(e.childNodes,!0),t.getSelectionModel().deselect(e)})}}),t.menu.showAt(r.xy))}}});n.reg(Rt,"treePanel");var Lt=Ext.create("Ext.form.field.Checkbox",{columnWidth:.25,style:"padding-top: 3px; padding-left: 5px; margin-bottom: 0",boxLabel:"User org unit",labelWidth:p.form_label_width,handler:function(t,e){Rt.xable([e,Bt.getValue(),Nt.getValue()])}}),Bt=Ext.create("Ext.form.field.Checkbox",{columnWidth:.26,style:"padding-top: 3px; margin-bottom: 0",boxLabel:A.user_sub_units,labelWidth:p.form_label_width,handler:function(t,e){Rt.xable([e,Lt.getValue(),Nt.getValue()])}}),Nt=Ext.create("Ext.form.field.Checkbox",{columnWidth:.4,style:"padding-top: 3px; margin-bottom: 0",boxLabel:A.user_sub_x2_units,labelWidth:p.form_label_width,handler:function(t,e){Rt.xable([e,Lt.getValue(),Bt.getValue()])}}),Ut=Ext.create("Ext.form.field.ComboBox",{cls:"ns-combo",multiSelect:!0,style:"margin-bottom:0",width:O-D-1,valueField:"level",displayField:"name",emptyText:A.select_organisation_unit_levels,editable:!1,hidden:!0,store:{fields:["id","name","level"],data:i.organisationUnitLevels}}),jt=Ext.create("Ext.form.field.ComboBox",{cls:"ns-combo",multiSelect:!0,style:"margin-bottom:0",width:O-D-1,valueField:"id",displayField:"name",emptyText:A.select_organisation_unit_groups,editable:!1,hidden:!0,store:U}),Ft=(Ext.create("Ext.panel.Panel",{width:O-D-1,layout:"column",bodyStyle:"border:0 none",items:[Lt,Bt,Nt,Ut,jt]}),Ext.create("Ext.menu.Menu",{shadow:!1,showSeparator:!1,menuValue:"orgunit",clickHandler:function(t){if(t){var e=this.items.items;this.menuValue=t;for(var n=0;n<e.length;n++)e[n].setIconCls&&(e[n].param===t?e[n].setIconCls("ns-menu-item-selected"):e[n].setIconCls("ns-menu-item-unselected"));"orgunit"===t?(Lt.show(),Bt.show(),Nt.show(),Ut.hide(),jt.hide(),(Lt.getValue()||Bt.getValue())&&Rt.disable()):"level"===t?(Lt.hide(),Bt.hide(),Nt.hide(),Ut.show(),jt.hide(),Rt.enable()):"group"===t&&(U.load(),Lt.hide(),Bt.hide(),Nt.hide(),Ut.hide(),jt.show(),Rt.enable())}},items:[{xtype:"label",text:"Selection mode",style:"padding:7px 5px 5px 7px; font-weight:bold; border:0 none"},{text:A.select_organisation_units+"&nbsp;&nbsp;",param:"orgunit",iconCls:"ns-menu-item-selected"},{text:"Select levels&nbsp;&nbsp;",param:"level",iconCls:"ns-menu-item-unselected"},{text:"Select groups&nbsp;&nbsp;",param:"group",iconCls:"ns-menu-item-unselected"}],listeners:{afterrender:function(){this.getEl().addCls("ns-btn-menu")},click:function(t,e){this.clickHandler(e.param)}}})),Vt=Ext.create("Ext.button.Button",{cls:"ns-button-organisationunitselection",iconCls:"ns-button-icon-gear",width:D,height:24,menu:Ft}),Ht=Ext.create("Ext.panel.Panel",{width:D,bodyStyle:"border:0 none; text-align:right",style:"margin-right:1px",items:Vt}),Wt=Ext.create("Ext.panel.Panel",{title:'<div class="ns-panel-title-organisationunit">'+A.organisation_units+"</div>",bodyStyle:"padding:1px",hideCollapseTool:!0,dimension:d.get("organisationUnit").objectName,collapsed:!1,clearDimension:function(t,e){t&&(Ft.clickHandler(Ft.menuValue),e||Rt.reset(),Lt.setValue(!1),Bt.setValue(!1),Nt.setValue(!1),Ut.clearValue(),jt.clearValue())},setDimension:function(t){if(t.hasDimension(this.dimension,!0)){var e,n,i,r=t.getDimension(this.dimension,!0),o=t.parentGraphMap,a=r.getRecords(),s=[],l=[],u=[];a.forEach(function(t){"USER_ORGUNIT"===t.id?e=!0:"USER_ORGUNIT_CHILDREN"===t.id?n=!0:"USER_ORGUNIT_GRANDCHILDREN"===t.id?i=!0:"LEVEL"===t.id.substr(0,5)?l.push(parseInt(t.id.split("-")[1])):"OU_GROUP"===t.id.substr(0,8)?u.push(t.id.split("-")[1]):s.push(t.id)}),l.length?(Ft.clickHandler("level"),Ut.setValue(l)):u.length?(Ft.clickHandler("group"),jt.setValue(u)):(Ft.clickHandler("orgunit"),Lt.setValue(e),Bt.setValue(n),Nt.setValue(i)),e||n||i||(0,E["default"])(o)&&Rt.selectGraphMap(o)}else this.clearDimension(!0)},getDimension:function(){var t=Rt.getSelectionModel().getSelection(),e={dimension:x,items:[]};if("orgunit"===Ft.menuValue)if(Lt.getValue()||Bt.getValue()||Nt.getValue())Lt.getValue()&&e.items.push({id:"USER_ORGUNIT",name:""}),Bt.getValue()&&e.items.push({id:"USER_ORGUNIT_CHILDREN",name:""}),Nt.getValue()&&e.items.push({id:"USER_ORGUNIT_GRANDCHILDREN",name:""});else for(var n=0;n<t.length;n++)e.items.push({id:t[n].data.id});else if("level"===Ft.menuValue){for(var i=Ut.getValue(),n=0;n<i.length;n++)e.items.push({id:"LEVEL-"+i[n],name:""});for(var n=0;n<t.length;n++)e.items.push({id:t[n].data.id,name:""})}else if("group"===Ft.menuValue){for(var r=jt.getValue(),n=0;n<r.length;n++)e.items.push({id:"OU_GROUP-"+r[n],name:""});for(var n=0;n<t.length;n++)e.items.push({id:t[n].data.id,name:""})}return e.items.length?e:null},getHeightValue:function(){var t=n.get("westRegion");return t.hasScrollbar?p.west_scrollbarheight_accordion_organisationunit:p.west_maxheight_accordion_organisationunit},onExpand:function(){Qt.setThisHeight(this.getHeightValue),Rt.setHeight(this.getHeight()-p.west_fill_accordion_organisationunit)},items:[{layout:"column",bodyStyle:"border:0 none",style:"padding-bottom:1px",items:[Ht,{width:O-37,layout:"column",bodyStyle:"border:0 none",items:[Lt,Bt,Nt,Ut,jt]}]},Rt],listeners:{expand:function(t){t.onExpand()}}});T.push(n.reg(Wt,"organisationUnit"));var zt=function(t,e){var i,r,o,a,s,l,u,d,c,h,f;return i=function(){var e=n.get("viewport").getLayoutWindow();o.getRange().length||u.getValue()?e.addDimension({id:t.id,name:t.name}):e.hasDimension(t.id)&&e.removeDimension(t.id)},r=Ext.create("Ext.data.Store",{fields:["id","name"],lastPage:null,nextPage:1,isPending:!1,isLoaded:!1,reset:function(){this.removeAll(),this.lastPage=null,this.nextPage=1,this.isPending=!1,s.hideFilter()},storage:{},addToStorage:function(t,e,n){e="cache_"+((0,P["default"])(e)||(0,w["default"])(e)?e:""),t&&(this.storage.hasOwnProperty(t)||(this.storage[t]={}),this.storage[t][e]||(this.storage[t][e]=n))},getFromStorage:function(t,e){if(e="cache_"+((0,P["default"])(e)||(0,w["default"])(e)?e:""),this.storage.hasOwnProperty(t)&&this.storage[t].hasOwnProperty(e))return this.storage[t][e]},loadPage:function(e,i,r,o){var a,s,u=this,c={};if(e=e||l.getValue()||null,s=u.getFromStorage(t.id,e),!i&&s)u.loadStore(s,{},i,o);else{if(i||(this.lastPage=null,this.nextPage=1),u.nextPage===u.lastPage)return;a="/dimensions/"+t.id+"/items.json?fields=id,"+M+(e?"&filter="+C+":ilike:"+e:""),r?c.paging=!1:(c.page=u.nextPage,c.pageSize=50),u.isPending=!0,n.mask(d.boundList),Ext.Ajax.request({url:encodeURI(S+a),method:"GET",params:c,success:function(n){var r=Ext.decode(n.responseText),a=r.items||[],s=r.pager;u.addToStorage(t.id,e,a),u.loadStore(a,s,i,o)},callback:function(){u.isPending=!1,n.unmask(d.boundList)}})}},loadStore:function(t,e,i,a){e=e||{},this.loadData(t,i),this.lastPage=this.nextPage,e.pageCount>this.nextPage&&this.nextPage++,this.isPending=!1,n.msFilterAvailable({store:r},{store:o}),a&&a()},sortStore:function(){this.sort("name","ASC")}}),o=Ext.create("Ext.data.Store",{fields:["id","name"],data:[],listeners:{add:function(){i()},remove:function(){i()},clear:function(){i()}}}),a=Ext.create("Ext.form.Label",{text:A.available,cls:"ns-toolbar-multiselect-left-label",style:"margin-right:5px"}),s=Ext.create("Ext.button.Button",{width:22,height:22,cls:"ns-button-icon",iconCls:"ns-button-icon-search",showFilter:function(){a.hide(),this.hide(),l.show(),l.reset()},hideFilter:function(){a.show(),this.show(),l.hide(),l.reset()},handler:function(){this.showFilter()}}),l=Ext.create("Ext.form.field.Trigger",{width:O/2,cls:"ns-trigger-filter",emptyText:"Filter available...",height:22,hidden:!0,enableKeyEvents:!0,fieldStyle:"height:22px; border-right:0 none",style:"height:22px",onTriggerClick:function(){this.reset(),this.onKeyUpHandler(),s.hideFilter()},onKeyUpHandler:function(){var t=this.getValue(),e=r;((0,P["default"])(t)||(0,w["default"])(t))&&e.loadPage(t,!1,!0)},listeners:{keyup:{fn:function(t){t.onKeyUpHandler()},buffer:100},show:function(t){t.focus(!1,50)},focus:function(t){t.addCls("ns-trigger-filter-focused")},blur:function(t){t.removeCls("ns-trigger-filter-focused")}}}),u=Ext.create("Ext.form.field.Checkbox",{cls:"ns-checkbox",style:"margin-left: 2px; margin-right: 5px",boxLabel:"All",listeners:{change:function(t,e){h(e)}}}),d=Ext.create("Ext.ux.form.MultiSelect",{cls:"ns-toolbar-multiselect-left",width:O/2,valueField:"id",displayField:"name",store:r,tbar:[a,s,l,"->",{xtype:"button",iconCls:"ns-button-icon-arrowright",width:22,handler:function(){n.msSelect(d,c)}},{xtype:"button",iconCls:"ns-button-icon-arrowrightdouble",width:22,handler:function(){r.loadPage(null,null,!0,function(){n.msSelectAll(d,c)})}}],listeners:{render:function(t){var e=Ext.get(t.boundList.getEl().id+"-listEl").dom;e.addEventListener("scroll",function(t){n.isScrolled(t)&&!r.isPending&&r.loadPage(null,!0)}),t.boundList.on("itemdblclick",function(){n.msSelect(d,c)},t)}}}),c=Ext.create("Ext.ux.form.MultiSelect",{cls:"ns-toolbar-multiselect-right",width:O/2,valueField:"id",displayField:"name",ddReorder:!0,store:o,tbar:[{xtype:"button",iconCls:"ns-button-icon-arrowleftdouble",width:22,handler:function(){n.msUnselectAll(d,c)}},{xtype:"button",iconCls:"ns-button-icon-arrowleft",width:22,handler:function(){n.msUnselect(d,c)}},"->",{xtype:"label",text:A.selected,cls:"ns-toolbar-multiselect-right-label"},u],listeners:{afterrender:function(){this.boundList.on("itemdblclick",function(){n.msUnselect(d,c)},this)}}}),h=function(t){d.boundList&&c.boundList&&(t?(d.boundList.disable(),c.boundList.disable()):(d.boundList.enable(),c.boundList.enable())),i()},f=Ext.create("Ext.panel.Panel",{title:'<div class="'+e+'">'+t.name+"</div>",hideCollapseTool:!0,dimension:t.id,availableStore:r,selectedStore:o,selectedAll:u,isDynamic:!0,clearDimension:function(){r.reset(),o.removeAll(),u.setValue(!1)},setDimension:function(t){if(t.hasDimension(this.dimension,!0)){var e=t.getDimension(this.dimension).getRecords();e.length?(o.add(e),n.msFilterAvailable({store:r},{store:o})):u.setValue(!0)}},getDimension:function(){var e={};return t.id&&(e.dimension=t.id),!u.getValue()&&o.getRange().length&&(e.items=[],o.each(function(t){e.items.push({id:t.data.id})})),e.dimension?e:null},getHeightValue:function(){var t=n.get("westRegion");return t.hasScrollbar?p.west_scrollbarheight_accordion_group:p.west_maxheight_accordion_group},onExpand:function(){r.isLoaded||r.loadPage(),u.getValue()&&(d.boundList.disable(),c.boundList.disable());var t=n.get("westRegion"),e=n.get("accordion"),i=t.hasScrollbar?p.west_scrollbarheight_accordion_group:p.west_maxheight_accordion_group;e.setThisHeight(i),n.msSetHeight([d,c],this,p.west_fill_accordion_group)},items:[{xtype:"panel",layout:"column",bodyStyle:"border-style:none",items:[d,c]}],listeners:{expand:function(t){t.onExpand()}}})},Gt=[at,Dt,Wt].concat(o(i.dimensions.map(function(t){var e=zt(t,"ns-panel-title-dimension");return T.push(n.reg(e,e.dimension)),e}))),Yt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.map(function(t){return zt(t,"ns-panel-title-dimension")})},Xt=Ext.create("Ext.panel.Panel",{layout:"accordion",activeOnTop:!0,cls:"ns-accordion",bodyStyle:"border:0 none",height:700,toBeRemoved:[],addItems:function(t){this.toBeRemoved=this.add(Yt(t)),Qt.setThisHeight()},removeItems:function(){this.toBeRemoved.map(function(t){return(0,P["default"])(t)?t:t.id}).forEach(function(t){Xt.remove(t)}),Qt.setThisHeight(),this.toBeRemoved=[]},getExpandedPanel:function(){var t;return this.items.each(function(e){if(!e.collapsed)return t=e,!1}),t},items:Gt}),qt=function(t,e){var i=(n.get("viewport"),n.get("dataTypeToolbar")),r=n.get("chartTypeToolbar"),o=n.get("aggregateLayoutWindow"),a=n.get("queryLayoutWindow"),s=n.get("aggregateOptionsWindow"),l=n.get("queryOptionsWindow");i&&i.setDataType(t?t.dataType:null),r&&r.setChartType(t?t.type:null),o&&o.reset(),a&&a.reset(),s&&s.setOptions(t),l&&l.setOptions(t),Qt.clearDimensions(t),t&&(L.add(t.program),z.setValue(t.program.id),Dt.setDimension(t),Wt.setDimension(t),W(t))},Kt=function(t,e,i,r){var o,a,s,l=n.get("viewport"),u=(n.get("accordion").panels,n.get("dataTypeToolbar")),c=n.get("aggregateLayoutWindow"),h=n.get("aggregateOptionsWindow"),p=n.get("queryOptionsWindow"),f=n.get("statusBar"),g={},m={},y=[],v=[],x=[];if(t=t||l.getLayoutWindow(),g.program=z.getRecord(),g.programStage=Y.getRecord(),g.program&&g.programStage){if(u)var r=u.getDataType();if(m.dy=[{dimension:"dy"}],"dates"===st.getValue()){if(g.startDate=dt.getSubmitValue(),g.endDate=ct.getSubmitValue(),!g.startDate||!g.endDate)return}else"periods"===st.getValue()&&(m.pe=[Ot.getDimension()]);m.ou=[Rt.getDimension()];for(var b,A=0;A<nt.items.items.length;A++)b=nt.items.items[A].getRecord(),m[b.dimension]=m[b.dimension]||[],m[b.dimension].push(b);return Xt.items.each(function(t){if(t.isDynamic&&t.getDimension){var e=t.getDimension();e&&e.dimension&&(m[e.dimension]=[e])}}),m.longitude=[{dimension:"longitude"}],m.latitude=[{dimension:"latitude"}],o=function(t,e){if(t.length)if(1===t.length)e.push(t[0]);else{for(var n,i=0;i<t.length;i++)n?n.filter+=":"+t[i].filter:n=t[i];e.push(n)}},a=t.colStore,a&&(s=a.findExact("id","dy")===-1?a.data:a.snapshot,s.each(function(t){o(m[t.data.id||t.data.dimensionName]||[],y)})),a=t.rowStore,a&&(s=a.findExact("id","dy")===-1?a.data:a.snapshot,s.each(function(t){o(m[t.data.id||t.data.dimensionName]||[],v)})),a=t.filterStore,a&&(s=a.findExact("id","dy")===-1?a.data:a.snapshot,s.each(function(t){o(m[t.data.id||t.data.dimensionName]||[],x)})),a=t.fixedFilterStore,a&&(s=a.findExact("id","dy")===-1?a.data:a.snapshot,s.each(function(t){o(m[t.data.id||t.data.dimensionName]||[],x)})),y.length&&(g.columns=y),v.length&&(g.rows=v),x.length&&(g.filters=x),Ext.apply(g,t.getValueConfig()),r===d.dataType.aggregated_values&&(Ext.applyIf(g,h.getOptions()),Ext.applyIf(g,c.getOptions()),g.sortOrder&&g.topLimit&&(g.sorting={id:1,direction:1==g.sortOrder?"DESC":"ASC"})),r===d.dataType.individual_cases&&(Ext.applyIf(g,p.getOptions()),f&&(g.paging={page:n.get("statusBar").getCurrentPage(),pageSize:100})),g}},Qt=Ext.create("Ext.panel.Panel",(e={bodyStyle:"border-style:none; padding:1px; padding-bottom:0; overflow-y:scroll;",accordionBody:Xt,items:Xt,panels:T,expandInitPanels:function(){Wt.expand()},clearDimensions:function(t){T.forEach(function(e){e.clearDimension(!!t)})},setDimensions:function(t,e){T.forEach(function(n){e&&!n.isDynamic||n.setDimension(t)})},setThisHeight:function(t){t=t||this.getExpandedPanel().getHeightValue();var e,i=41,r=i+28*Xt.items.items.length+t,o=n.get("westRegion").getHeight()-i-p.west_fill;e=n.get("westRegion").hasScrollbar?r-i-p.west_fill:(o>r?r:o)-p.west_fill,this.setHeight(o),Xt.setHeight(e)},getExpandedPanel:function(){return Xt.getExpandedPanel()},getFirstPanel:function(){return this.panels[0]},getParentGraphMap:function(){return Rt.getParentGraphMap()},getUxArray:function(t){return nt.getUxArrayById(t)}},r(e,"accordionBody",Xt),r(e,"panels",T),r(e,"treePanel",Rt),r(e,"getUiState",Kt),r(e,"setUiState",qt),r(e,"onTypeClick",H),e));return Qt}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.Plugin=void 0;var o=n(1),a=i(o),s=e.Plugin=void 0;e.Plugin=s=function(t){var e=t.refs,n=t.inits,i=void 0===n?[]:n,o=t.renderFn,s=(t.initializeFn,t.type),l=this;l.url=null,l.username=null,l.password=null,l.auth=null,l.loadingIndicator=!1;var u=[],d=!1,c=!1;l.add=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];e=(0,a["default"])(e[0])?e[0]:e,e.length&&(u=[].concat(r(u),r(e)))},l.load=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];l.add((0,a["default"])(e[0])?e[0]:e),f()},l.getType=function(){return s};var h=function(){c=!0,d=!1},p=function(){d=!0},f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t||g;if(c)for(;u.length;)o(l,u.shift());else d||(p(),t())},g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f,r=e.appManager,o=e.requestManager,a=(e.init,e.api.Request),s=l.username&&l.password?l.username+":"+l.password:null,u=l.auth;r.setAuth(s,u),r.path=l.url,new a(e,{baseUrl:r.getApiPath()+"/me.json",type:"json",param:["fields=id,firstName,surname,userCredentials[username],settings"],success:function(s){r.userAccount=s,i.forEach(function(t){return o.add(new a(e,t(e)))}),t(),o.set(n),o.run()}}).run()}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=e.SimpleRegression=void 0;e.SimpleRegression=n=function(){var t=0,e=0,n=0,i=0,r=0,o=0,a=0;this.addData=function(s,l){if(0==r)o=s,a=l;else{var u=s-o,d=l-a;n+=u*u*r/(r+1),i+=u*d*r/(r+1),o+=u/(r+1),a+=d/(r+1)}t+=s,e+=l,r++},this.predict=function(t){var e=this.getSlope();return this.getIntercept(e)+e*t},this.getSlope=function(){return r<2?Number.NaN:i/n},this.getIntercept=function(n){return(e-n*t)/r}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return Math.round((299*parseInt(t[0])+587*parseInt(t[1])+114*parseInt(t[2]))/1e3)},i=function(t){return"string"==typeof t&&"#"===t.charAt(0)},r=(e.isColorBright=function(t){return i(t)&&(t=r(t)),n(t)>125},e.hexToRgb=function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]:null})},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=e.isTargetDiv=function(t){return!!document.getElementById(t)};e.validateTargetDiv=function(t,e){return!!n(t)||(e&&console.log(e),!1)}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t){switch(t){case"STRING":case"TEXT":return function(t){return""+t};case"INTEGER":case"NUMBER":return function(t){return(0,o["default"])(t)?parseFloat(t):t};default:return function(t){return t}}};var r=n(25),o=i(r)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.DataElementBooleanContainer=void 0;var r=n(45),o=i(r),a=n(5),s=i(a),l=n(4),u=i(l),d=n(2),c=i(d),h=n(3),p=i(h),f=n(21),g=i(f),m=e.DataElementBooleanContainer=void 0;e.DataElementBooleanContainer=m=function(t){var e=t.i18nManager.get();Ext.define("Ext.ux.container.DataElementBooleanContainer",{extend:"Ext.container.Container",alias:"widget.dataelementbooleancontainer",cls:"ns-dxselector",layout:"column",bodyStyle:"border:0 none",style:"margin: "+g["default"].margin,getRecord:function(){for(var t=this.valueCmp.getValue(),e={dimension:this.dataElement.id,name:this.dataElement.name},n=0;n<t.length;n++)(0,c["default"])(t[n])&&(t[n]=t[n].code);return t.length&&(e.filter="IN:"+t.join(";")),e},setRecord:function(t){if((0,p["default"])(t.filter)&&t.filter.length){var e=t.filter.split(":");this.valueCmp.setOptionValues(e[1].split(";"))}},getRecordsByCode:function(t,e){for(var n=[],i=0;i<t.length;i++)for(var r=0;r<e.length;r++)t[i].code===e[r]&&n.push(t[i]);return n},initComponent:function(){var t=this,n="id",i="name";this.nameCmp=Ext.create("Ext.form.Label",{text:this.dataElement.name,flex:1,style:"padding:"+g["default"].namePadding}),this.addCmp=Ext.create("Ext.button.Button",{cls:"ns-linkbutton",style:"padding: 0",height:18,text:"Duplicate",handler:function(){t.duplicateDataElement()}}),this.removeCmp=Ext.create("Ext.button.Button",{cls:"ns-linkbutton",style:g["default"].removeCmpStyle,height:18,text:"Remove",handler:function(){t.removeDataElement()}}),this.operatorCmp=Ext.create("Ext.form.field.ComboBox",{valueField:"id",displayField:"name",queryMode:"local",editable:!1,style:"margin-bottom:0",width:g["default"].operatorCmpWidth,value:"IN",store:{fields:["id","name"],data:[{id:"IN",name:"One of"}]}}),this.getData=function(t){var r=[],o={},a={};o[n]="1",o[i]=e.yes,a[n]="0",a[i]=e.no;for(var s=0;s<t.length;s++)"1"===t[s]||1===t[s]?r.push(o):"0"!==t[s]&&0!==t[s]||r.push(a);return r},this.searchStore=Ext.create("Ext.data.Store",{fields:[n,i],data:t.getData(["1","0"])}),this.filterSearchStore=function(e){var i=t.valueCmp.getValue();e&&(t.searchCmp.onTriggerClick(),t.searchCmp.collapse()),t.searchStore.clearFilter(),t.searchStore.filterBy(function(t){return!(0,u["default"])(i,t.data[n])})},this.searchCmp=Ext.create("Ext.form.field.ComboBox",{multiSelect:!0,width:g["default"].operatorCmpWidth,style:"margin-bottom:0",emptyText:"Select..",valueField:n,displayField:i,queryMode:"local",listConfig:{minWidth:g["default"].nameCmpWidth-g["default"].operatorCmpWidth},store:this.searchStore,listeners:{select:function(){var e=(0,s["default"])(this.getValue())[0];t.valueStore.findExact(n,e)===-1&&t.valueStore.add(t.searchStore.getAt(t.searchStore.findExact(n,e)).data),this.select([]),t.filterSearchStore()},expand:function(){t.filterSearchStore()}}}),this.valueStore=Ext.create("Ext.data.Store",{fields:[n,i],listeners:{add:function(){t.valueCmp.select(this.getRange())},remove:function(){t.valueCmp.select(this.getRange())}}}),this.valueCmp=Ext.create("Ext.form.field.ComboBox",{multiSelect:!0,style:"margin-bottom:0",width:g["default"].nameCmpWidth-g["default"].operatorCmpWidth-g["default"].operatorCmpWidth,valueField:n,displayField:i,emptyText:"No selected items",editable:!1,hideTrigger:!0,store:t.valueStore,queryMode:"local",listConfig:{minWidth:266,cls:"ns-optionselector"},setOptionValues:function(e){t.valueStore.removeAll(),t.valueStore.loadData(t.getData(e)),this.setValue(e),t.filterSearchStore(!0),t.searchCmp.blur()},listeners:{change:function(e,i,r){if(i=(0,s["default"])(i),r=(0,s["default"])(r),i.length<r.length){var a=(0,o["default"])(r,i)[0];t.valueStore.removeAt(t.valueStore.findExact(n,a))}}}}),this.items=[{xtype:"container",layout:"hbox",width:g["default"].nameCmpWidth,items:[this.nameCmp,this.removeCmp]},this.operatorCmp,this.searchCmp,this.valueCmp],this.self.superclass.initComponent.call(this)}})}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.DataElementDateContainer=void 0;var r=n(3),o=i(r),a=n(21),s=i(a),l=e.DataElementDateContainer=void 0;e.DataElementDateContainer=l=function(t){Ext.define("Ext.ux.container.DataElementDateContainer",{extend:"Ext.container.Container",alias:"widget.dataelementdatecontainer",cls:"ns-dxselector",layout:"column",bodyStyle:"border:0 none",style:"margin: "+s["default"].margin,getRecord:function(){var t={};return t.dimension=this.dataElement.id,t.name=this.dataElement.name,this.valueCmp.getValue()&&(t.filter=this.operatorCmp.getValue()+":"+this.valueCmp.getSubmitValue()),t},setRecord:function(t){if(t.filter&&(0,o["default"])(t.filter)){var e=t.filter.split(":");this.operatorCmp.setValue(e[0]),this.valueCmp.setValue(e[1])}},initComponent:function(){var t=this;this.nameCmp=Ext.create("Ext.form.Label",{text:this.dataElement.name,flex:1,style:"padding:"+s["default"].namePadding}),this.addCmp=Ext.create("Ext.button.Button",{cls:"ns-linkbutton",style:"padding: 0",height:18,text:"Duplicate",handler:function(){t.duplicateDataElement()}}),this.removeCmp=Ext.create("Ext.button.Button",{cls:"ns-linkbutton",style:s["default"].removeCmpStyle,height:18,text:"Remove",handler:function(){t.removeDataElement()}}),this.operatorCmp=Ext.create("Ext.form.field.ComboBox",{valueField:"id",displayField:"name",queryMode:"local",editable:!1,width:s["default"].operatorCmpWidth,style:"margin-bottom:0",value:"EQ",store:{fields:["id","name"],data:[{id:"EQ",name:"="},{id:"GT",name:">"},{id:"GE",name:">="},{id:"LT",name:"<"},{id:"LE",name:"<="},{id:"NE",name:"!="}]}}),this.valueCmp=Ext.create("Ext.form.field.Date",{width:s["default"].nameCmpWidth-s["default"].operatorCmpWidth,style:"margin-bottom:0",format:"Y-m-d"}),this.items=[{xtype:"container",layout:"hbox",width:s["default"].nameCmpWidth,items:[this.nameCmp,this.addCmp,this.removeCmp]},this.operatorCmp,this.valueCmp],this.self.superclass.initComponent.call(this)}})}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.DataElementIntegerContainer=void 0;var r=n(45),o=i(r),a=n(5),s=i(a),l=n(4),u=i(l),d=n(1),c=i(d),h=n(2),p=i(h),f=n(3),g=i(f),m=n(21),y=i(m),v=e.DataElementIntegerContainer=void 0;e.DataElementIntegerContainer=v=function(t){var e=t.appManager,n=t.i18nManager.get();Ext.define("Ext.ux.container.DataElementIntegerContainer",{extend:"Ext.container.Container",alias:"widget.dataelementintegercontainer",cls:"ns-dxselector",layout:"column",bodyStyle:"border:0 none",style:"margin: "+y["default"].margin,getRecord:function(){var t={},e=this.rangeSetCmp.getValue(),n=e!==y["default"].defaultRangeSetId;if(t.dimension=this.dataElement.id,t.name=this.dataElement.name,n){t.legendSet={id:e};var i=this.rangeValueCmp.getValue();i.length&&(t.filter="IN:"+i.join(";"))}else this.valueCmp.getValue()&&(t.filter=this.operatorCmp.getValue()+":"+this.valueCmp.getValue());return t},setRecord:function(t){if((0,p["default"])(t.legendSet)&&t.legendSet.id){if(this.rangeSetCmp.store.add(e.getLegendSetById(t.legendSet.id)),this.rangeSetCmp.setValue(t.legendSet.id),this.onRangeSetSelect(t.legendSet.id),t.filter){var n=t.filter.split(":");n.length>1&&(0,g["default"])(n[1])&&this.onRangeSearchSelect(n[1].split(";"),!0)}}else if(this.rangeSetCmp.setValue(y["default"].defaultRangeSetId),this.onRangeSetSelect(y["default"].defaultRangeSetId),t.filter){var n=t.filter.split(":");n.length>1&&(this.operatorCmp.setValue(n[0]),this.valueCmp.setValue(n[1]))}},initComponent:function(){var t=this,i="id",r="name",a="displayName";this.nameCmp=Ext.create("Ext.form.Label",{text:this.dataElement.name,flex:1,style:"padding:"+y["default"].namePadding}),this.addCmp=Ext.create("Ext.button.Button",{cls:"ns-linkbutton",style:"padding: 0",height:18,text:n.duplicate,handler:function(){t.duplicateDataElement()}}),this.removeCmp=Ext.create("Ext.button.Button",{cls:"ns-linkbutton",style:y["default"].removeCmpStyle,height:18,text:n.remove,handler:function(){t.removeDataElement()}}),this.operatorCmp=Ext.create("Ext.form.field.ComboBox",{valueField:i,displayField:r,queryMode:"local",editable:!1,width:y["default"].operatorCmpWidth,style:"margin-bottom:0",value:"EQ",store:{fields:[i,r],data:[{id:"EQ",name:"="},{id:"GT",name:">"},{id:"GE",name:">="},{id:"LT",name:"<"},{id:"LE",name:"<="},{id:"NE",name:"!="}]}}),this.valueCmp=Ext.create("Ext.form.field.Number",{width:y["default"].nameCmpWidth-y["default"].operatorCmpWidth-y["default"].rangeSetWidth,style:"margin-bottom:0"}),this.rangeSearchStore=Ext.create("Ext.data.Store",{fields:[i,r]}),this.filterSearchStore=function(e){
var n=t.rangeValueCmp.getValue();e&&(t.rangeSearchCmp.onTriggerClick(),t.rangeSearchCmp.collapse()),t.rangeSearchStore.clearFilter(),t.rangeSearchStore.filterBy(function(t){return!(0,u["default"])(n,t.data[i])})},this.onRangeSearchSelect=function(e,n){e=(0,s["default"])(e);for(var r,o=0;o<e.length;o++)r=e[o],t.rangeValueStore.findExact(i,r)===-1&&t.rangeValueStore.add(t.rangeSearchStore.getAt(t.rangeSearchStore.findExact(i,r)).data);t.rangeSearchCmp.select([]),t.filterSearchStore(n)},this.rangeSearchCmp=Ext.create("Ext.form.field.ComboBox",{multiSelect:!0,width:y["default"].operatorCmpWidth,style:"margin-bottom: 0",emptyText:n.select+"..",valueField:i,displayField:a,editable:!1,queryMode:"local",hidden:!0,store:this.rangeSearchStore,listConfig:{minWidth:y["default"].operatorCmpWidth+(y["default"].nameCmpWidth-y["default"].operatorCmpWidth-y["default"].rangeSetWidth)},listeners:{select:function(){t.onRangeSearchSelect((0,s["default"])(this.getValue())[0])},expand:function(){t.filterSearchStore()}}}),this.rangeValueStore=Ext.create("Ext.data.Store",{fields:[i,r],listeners:{add:function(){t.rangeValueCmp.select(this.getRange())},remove:function(){t.rangeValueCmp.select(this.getRange())}}}),this.rangeValueCmp=Ext.create("Ext.form.field.ComboBox",{multiSelect:!0,style:"margin-bottom: 0",width:y["default"].nameCmpWidth-y["default"].operatorCmpWidth-y["default"].rangeSetWidth,valueField:i,displayField:r,emptyText:"No selected items",editable:!1,hideTrigger:!0,queryMode:"local",hidden:!0,store:t.rangeValueStore,listConfig:{minWidth:y["default"].valueCmpWidth,cls:"ns-optionselector"},setOptionValues:function(e){var n=this;t.rangeValueStore.removeAll(),t.rangeValueStore.loadData(e),n.setValue(e)},listeners:{change:function(e,n,r){if(n=(0,s["default"])(n),r=(0,s["default"])(r),n.length<r.length){var a=(0,o["default"])(r,n)[0];t.rangeValueStore.removeAt(t.rangeValueStore.findExact(i,a))}}}}),this.onRangeSetSelect=function(n){if(n&&n!==y["default"].defaultRangeSetId){t.operatorCmp.hide(),t.valueCmp.hide(),t.rangeSearchCmp.show(),t.rangeValueCmp.show();var i=e.getLegendSetById(n).legends.slice();i.forEach(function(t){t.displayName=t.name+" ("+t.startValue+" - "+t.endValue+")"}),t.rangeSearchStore.loadData(i),t.rangeSearchStore.sort("startValue","ASC")}else t.operatorCmp.show(),t.valueCmp.show(),t.rangeSearchCmp.hide(),t.rangeValueCmp.hide()},this.rangeSetCmp=Ext.create("Ext.form.field.ComboBox",{cls:"ns-combo h22",style:"margin-bottom: 0",width:y["default"].rangeSetWidth,height:22,fieldStyle:"height: 22px",queryMode:"local",valueField:i,displayField:r,editable:!1,storage:{},pendingValue:null,setPendingValue:function(){this.pendingValue&&(this.setValue(this.pendingValue),t.onRangeSetSelect(this.pendingValue),this.pendingValue=null),this.getValue()||(this.pendingValue=y["default"].defaultRangeSetId,this.setPendingValue())},store:Ext.create("Ext.data.Store",{fields:[i,r]}),listeners:{added:function(n){n.store.add({id:y["default"].defaultRangeSetId,name:"No range set"});var i=t.dataElement.legendSets||t.dataElement.storageLegendSets;(0,c["default"])(i)&&i.length&&(n.store.add(i.map(function(t){return e.getLegendSetById(t.id)}).filter(function(t){return(0,p["default"])(t)})),n.setValue(i[0].id),t.onRangeSetSelect(i[0].id)),n.setPendingValue()},select:function(e,n){var i=(0,s["default"])(n)[0].data.id;t.onRangeSetSelect(i)}}}),this.items=[{xtype:"container",layout:"hbox",width:y["default"].nameCmpWidth,items:[this.nameCmp,this.addCmp,this.removeCmp]},this.rangeSearchCmp,this.rangeValueCmp,this.operatorCmp,this.valueCmp,this.rangeSetCmp],this.self.superclass.initComponent.call(this)}})}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.DataElementStringContainer=void 0;var r=n(21),o=i(r),a=e.DataElementStringContainer=void 0;e.DataElementStringContainer=a=function(t){Ext.define("Ext.ux.container.DataElementStringContainer",{extend:"Ext.container.Container",alias:"widget.dataelementstringcontainer",cls:"ns-dxselector",layout:"column",bodyStyle:"border:0 none",style:"margin: "+o["default"].margin,getRecord:function(){var t={};return t.dimension=this.dataElement.id,t.name=this.dataElement.name,this.valueCmp.getValue()&&(t.filter=this.operatorCmp.getValue()+":"+this.valueCmp.getValue()),t},setRecord:function(t){this.operatorCmp.setValue(t.operator),this.valueCmp.setValue(t.filter)},initComponent:function(){var t=this;this.nameCmp=Ext.create("Ext.form.Label",{text:this.dataElement.name,flex:1,style:"padding:"+o["default"].namePadding}),this.addCmp=Ext.create("Ext.button.Button",{cls:"ns-linkbutton",style:"padding: 0",height:18,text:"Duplicate",handler:function(){t.duplicateDataElement()}}),this.removeCmp=Ext.create("Ext.button.Button",{cls:"ns-linkbutton",style:o["default"].removeCmpStyle,height:18,text:"Remove",handler:function(){t.removeDataElement()}}),this.operatorCmp=Ext.create("Ext.form.field.ComboBox",{valueField:"id",displayField:"name",queryMode:"local",editable:!1,width:o["default"].operatorCmpWidth,style:"margin-bottom:0",value:"LIKE",store:{fields:["id","name"],data:[{id:"LIKE",name:"Contains"},{id:"EQ",name:"Is exact"}]}}),this.valueCmp=Ext.create("Ext.form.field.Text",{width:o["default"].nameCmpWidth-o["default"].operatorCmpWidth,style:"margin-bottom:0"}),this.items=[{xtype:"container",layout:"hbox",width:o["default"].nameCmpWidth,items:[this.nameCmp,this.removeCmp]},this.operatorCmp,this.valueCmp],this.self.superclass.initComponent.call(this)}})}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.GroupSetContainer=void 0;var r=n(45),o=i(r),a=n(5),s=i(a),l=n(4),u=i(l),d=n(1),c=i(d),h=n(2),p=i(h),f=n(3),g=i(f),m=n(21),y=i(m),v=e.GroupSetContainer=void 0;e.GroupSetContainer=v=function(t){var e=t.api,n=t.appManager,i=100;Ext.define("Ext.ux.container.GroupSetContainer",{extend:"Ext.container.Container",alias:"widget.groupsetcontainer",cls:"ns-dxselector",layout:"column",bodyStyle:"border:0 none",style:"margin: "+y["default"].margin,getRecord:function(){for(var t=this.valueCmp.getValue(),e={dimension:this.dataElement.id,name:this.dataElement.name},n=0;n<t.length;n++)(0,p["default"])(t[n])&&(t[n]=t[n].code);return t.length&&(e.filter="IN:"+t.join(";")),e},setRecord:function(t){if((0,g["default"])(t.filter)&&t.filter.length){var e=t.filter.split(":");this.valueCmp.setOptionValues(e[1].split(";"))}},getOptionSetOptions:function(r,o,a,s){var l=["filter=optionSet.id:eq:"+r,"fields=code,name"];a&&l.push("pageSize="+i),o&&o.forEach(function(t){return l.push("filter="+t)}),new e.Request(t,{baseUrl:n.getApiPath()+"/options.json",params:l,success:s}).run()},initComponent:function(){var t=this,e="code",n="name";this.nameCmp=Ext.create("Ext.form.Label",{text:this.dataElement.name,flex:1,style:"padding:"+y["default"].namePadding}),this.addCmp=Ext.create("Ext.button.Button",{cls:"ns-linkbutton",style:"padding: 0",height:18,text:"Duplicate",handler:function(){t.duplicateDataElement()}}),this.removeCmp=Ext.create("Ext.button.Button",{cls:"ns-linkbutton",style:y["default"].removeCmpStyle,height:18,text:"Remove",handler:function(){t.removeDataElement()}}),this.operatorCmp=Ext.create("Ext.form.field.ComboBox",{valueField:"id",displayField:"name",queryMode:"local",editable:!1,style:"margin-bottom:0",width:y["default"].operatorCmpWidth,value:"IN",store:{fields:["id","name"],data:[{id:"IN",name:"One of"}]}}),this.searchStore=Ext.create("Ext.data.Store",{fields:[e,n],data:[],loadOptionSet:function(e,n,r){var o=this;e=e||t.dataElement.optionSet.id,r=r||i,t.getOptionSetOptions(e,n,!0,function(t){var e=t.options;(0,c["default"])(e)&&e.length&&o.loadData(e.slice(0,r))})},listeners:{datachanged:function(e){t.searchCmp&&e.getRange().length&&t.searchCmp.expand()}}}),this.filterSearchStore=function(){var n=t.valueCmp.getValue();t.searchStore.clearFilter(),t.searchStore.filterBy(function(t){return!(0,u["default"])(n,t.data[e])})},this.searchCmp=Ext.create("Ext.form.field.ComboBox",{multiSelect:!0,width:y["default"].operatorCmpWidth-y["default"].triggerCmpWidth,style:"margin-bottom:0",emptyText:"Search..",valueField:e,displayField:n,hideTrigger:!0,enableKeyEvents:!0,queryMode:"local",lastQuery:"",listConfig:{minWidth:y["default"].nameCmpWidth-y["default"].operatorCmpWidth},store:this.searchStore,listeners:{keyup:function(){var e=this.getValue(),n=t.dataElement.optionSet.id;t.searchStore.loadOptionSet(n,["name:ilike:"+e]),(!e||(0,g["default"])(e)&&1===e.length)&&t.triggerCmp.setDisabled(!!e)},select:function(){var n=(0,s["default"])(this.getValue())[0];t.valueStore.findExact(e,n)===-1&&t.valueStore.add(t.searchStore.getAt(t.searchStore.findExact(e,n)).data),this.select([]),t.filterSearchStore(),t.triggerCmp.enable()},expand:function(){t.filterSearchStore()}}}),this.triggerCmp=Ext.create("Ext.button.Button",{cls:"ns-button-combotrigger",disabledCls:"ns-button-combotrigger-disabled",width:y["default"].triggerCmpWidth,height:22,handler:function(e){t.searchStore.loadOptionSet()}}),this.valueStore=Ext.create("Ext.data.Store",{fields:[e,n],listeners:{add:function(){t.valueCmp.select(this.getRange())},remove:function(){t.valueCmp.select(this.getRange())}}}),this.valueCmp=Ext.create("Ext.form.field.ComboBox",{multiSelect:!0,style:"margin-bottom:0",width:y["default"].nameCmpWidth-y["default"].operatorCmpWidth-y["default"].operatorCmpWidth,valueField:e,displayField:n,emptyText:"No selected items",editable:!1,hideTrigger:!0,store:t.valueStore,queryMode:"local",listConfig:{minWidth:266,cls:"ns-optionselector"},setOptionValues:function(e){var n=this,i="code:in:["+e.join(",")+"]";t.getOptionSetOptions(t.dataElement.optionSet.id,[i],!1,function(e){var i=e.options;(0,c["default"])(i)&&i.length&&(t.valueStore.loadData(i),n.setValue(i))})},listeners:{change:function(n,i,r){if(i=(0,s["default"])(i),r=(0,s["default"])(r),i.length<r.length){var a=(0,o["default"])(r,i)[0];t.valueStore.removeAt(t.valueStore.findExact(e,a))}}}}),this.items=[{xtype:"container",layout:"hbox",width:y["default"].nameCmpWidth,items:[this.nameCmp,this.removeCmp]},this.operatorCmp,this.searchCmp,this.triggerCmp,this.valueCmp],this.self.superclass.initComponent.call(this)}})}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.LimitContainer=void 0;var r=n(6),o=i(r),a=e.LimitContainer=void 0;e.LimitContainer=a=function(t){var e=t.i18nManager.get();Ext.define("Ext.ux.container.LimitContainer",{extend:"Ext.container.Container",alias:"widget.limitcontainer",layout:"hbox",sortOrder:null,topLimit:null,comboboxWidth:null,comboBottomMargin:null,onCheckboxChange:function(t){this.sortOrderCmp.setDisabled(!t),this.topLimitCmp.setDisabled(!t)},getSortOrder:function(){return this.activateCmp.getValue()?this.sortOrderCmp.getValue():0},getTopLimit:function(){return this.activateCmp.getValue()?this.topLimitCmp.getValue():0},setValues:function(t,e){t=parseInt(t),e=parseInt(e),(0,o["default"])(t)?this.sortOrderCmp.setValue(t):this.sortOrderCmp.reset(),(0,o["default"])(e)?this.topLimitCmp.setValue(e):this.topLimitCmp.reset(),this.activateCmp.setValue(!!(t>0&&e>0))},initComponent:function(){var t=this,n=135,i=(this.comboboxWidth-n)/2;this.activateCmp=Ext.create("Ext.form.field.Checkbox",{boxLabel:t.boxLabel,width:n,style:"margin-bottom:4px",listeners:{change:function(e,n){t.onCheckboxChange(n)}}}),this.sortOrderCmp=Ext.create("Ext.form.field.ComboBox",{cls:"ns-combo",style:"margin-bottom:"+t.comboBottomMargin+"px",width:i,queryMode:"local",valueField:"id",editable:!1,value:t.sortOrder,store:Ext.create("Ext.data.Store",{fields:["id","text"],data:[{id:-1,text:e.bottom},{id:1,text:e.top}]})}),this.topLimitCmp=Ext.create("Ext.form.field.Number",{width:i-1,style:"margin-bottom:"+t.comboBottomMargin+"px; margin-left:1px",minValue:1,maxValue:1e4,value:t.topLimit,allowBlank:!1}),this.items=[this.activateCmp,this.sortOrderCmp,this.topLimitCmp],this.self.superclass.initComponent.call(this)},listeners:{render:function(){this.onCheckboxChange(!1)}}})}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.StatusBar=void 0;var r=n(189),o=i(r),a=e.StatusBar=void 0;e.StatusBar=a=function(t){var e=t.instanceManager,n=t.dimensionConfig,i=n.dataType.aggregated_values,r=n.dataType.individual_cases;Ext.define("Ext.ux.toolbar.StatusBar",{extend:"Ext.toolbar.Toolbar",alias:"widget.statusbar",queryCmps:[],showHideQueryCmps:function(t){this.queryCmps.forEach(function(e){e[t]()})},setStatus:function(t,e){if(this.pager=e.metaData.pager,this.reset(t.dataType),t.dataType===i)return void this.statusCmp.setText(e.rows.length+" values");if(t.dataType===r){var n=this.pager.page*this.pager.pageSize,a=n-this.pager.pageSize+1,s=(0,o["default"])([n,this.pager.total]);return this.pageCmp.setValue(this.pager.page),this.pageCmp.setMaxValue(this.pager.pageCount),this.totalPageCmp.setText(" of "+this.pager.pageCount),void this.statusCmp.setText(a+"-"+s+" of "+this.pager.total+" cases")}},reset:function(t){return t&&t!==i?void(t===r&&(this.showHideQueryCmps("show"),this.pageCmp.setValue(1),this.totalPageCmp.setText(" of 1"),this.statusCmp.setText(""))):(this.showHideQueryCmps("hide"),this.pageCmp.setValue(1),this.totalPageCmp.setText(""),void this.statusCmp.setText(""))},getCurrentPage:function(){return this.pageCmp.getValue()},getPageCount:function(){return this.pageCount},onPageChange:function(t,n){if(n=n||this.getCurrentPage(),t&&t>=1&&t<=this.pager.pageCount&&t!=n){var i=e.getStateCurrent();i.paging.page=t,i.setResponse(null),this.pageCmp.setValue(t),e.getReport(i)}},initComponent:function(){var t=this;this.pageSize;this.firstCmp=Ext.create("Ext.button.Button",{text:"<<",handler:function(){t.onPageChange(1)}}),this.queryCmps.push(this.firstCmp),this.prevCmp=Ext.create("Ext.button.Button",{text:"<",handler:function(){t.onPageChange(t.getCurrentPage()-1)}}),this.queryCmps.push(this.prevCmp),this.pageTextCmp=Ext.create("Ext.toolbar.TextItem",{text:"Page ",style:"line-height:21px"}),this.queryCmps.push(this.pageTextCmp),this.pageCmp=Ext.create("Ext.form.field.Number",{width:34,height:21,minValue:1,value:1,hideTrigger:!0,enableKeyEvents:!0,currentPage:1,listeners:{render:function(){Ext.get(this.getInputId()).setStyle("padding-top","2px")},keyup:{fn:function(e){var n=e.currentPage;e.currentPage=e.getValue(),t.onPageChange(e.getValue(),n)},buffer:200}}}),this.queryCmps.push(this.pageCmp),this.totalPageCmp=Ext.create("Ext.toolbar.TextItem",{text:"",style:"line-height:21px"}),this.queryCmps.push(this.totalPageCmp),this.nextCmp=Ext.create("Ext.button.Button",{text:">",handler:function(){t.onPageChange(t.getCurrentPage()+1)}}),this.queryCmps.push(this.nextCmp),this.lastCmp=Ext.create("Ext.button.Button",{text:">>",handler:function(){t.onPageChange(t.pager.pageCount)}}),this.queryCmps.push(this.lastCmp),this.statusCmp=Ext.create("Ext.toolbar.TextItem",{text:"",style:"line-height:21px"}),this.items=[this.statusCmp,this.firstCmp,this.prevCmp,this.pageTextCmp,this.pageCmp,this.totalPageCmp,this.nextCmp,this.lastCmp,"->",this.statusCmp],this.self.superclass.initComponent.call(this)}})}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,n){return(0,a["default"])(t,e,0,n)}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=r;var o=n(191),a=i(o)},function(t,e){"use strict";function n(t,e){for(var n,i=0,r=t.length,o=t[0];i<r;i++)n=t[i],e?1===e(o,n)&&(o=n):n<o&&(o=n);return o}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n},function(t,e){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("undefined"==typeof t)throw"Cannot repeat array of type undefined";var r=[];if(i){for(var o=0;o<t.length;o++)for(var a=0;a<e;a++)r.push(t[o]);return r}for(var s=0;s<e;s++)r.push.apply(r,n(t));return r}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i},function(t,e){"use strict";function n(t,e,n,i){return i&&i.length?e<t.length?t.splice.apply(t,[e,n].concat(i)):t.push.apply(t,i):t.splice(e,n),t}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n},function(t,e){"use strict";function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);var n=t.indexOf("Trident/");if(n>0){var i=t.indexOf("rv:");return parseInt(t.substring(i+3,t.indexOf(".",i)),10)}var r=t.indexOf("Edge/");return r>0&&parseInt(t.substring(r+5,t.indexOf(".",r)),10)}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n},83,function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){return e=e||0,t.toFixed(e)}return t}();e["default"]=n},function(t,e){"use strict";function n(t){return t.replace(/^[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+|[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+$/g,"")}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n},function(t,e,n){var i=n(225);t.exports=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t){return(0,g.rgb)(t).darker(.5).toString()}function a(t){return t.map(function(t,e){return[e,t]})}function s(t,e){var n=void 0,i={};switch(e){case"LINEAR":n=u(a(t)),i.type="line";break;case"POLYNOMIAL":n=d(a(t));break;case"LOESS":n=c(a(t),.25)}return h({},x,i,{data:n.points})}function l(t,e){for(var n=0,i=0,r=t.length-1,o=new Array(e),a=0;a<r;a++){n=a;for(var s=a+1;s<r;s++)Math.abs(t[a][s])>Math.abs(t[a][n])&&(n=s);for(var l=a;l<r+1;l++)i=t[l][a],t[l][a]=t[l][n],t[l][n]=i;for(var u=a+1;u<r;u++)for(var d=r;d>=a;d--)t[d][u]-=t[d][a]*t[a][u]/t[a][a]}for(var c=r-1;c>=0;c--){i=0;for(var h=c+1;h<r;h++)i+=t[h][c]*o[h];o[c]=(t[r][c]-i)/t[c][c]}return o}function u(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=[0,0,0,0,0],i=[],r=t.length,o=0,a=t.length;o<a;o++)null!=t[o].x&&(t[o][0]=t[o].x,t[o][1]=t[o].y),null!=t[o][1]?(n[0]+=t[o][0],n[1]+=t[o][1],n[2]+=t[o][0]*t[o][0],n[3]+=t[o][0]*t[o][1],n[4]+=t[o][1]*t[o][1]):r-=1;for(var s=(r*n[3]-n[0]*n[1])/(r*n[2]-n[0]*n[0]),l=n[1]/r-s*n[0]/r,u=0,d=t.length;u<d;u++){var c=t[u][0]*s+l;e&&(c=parseFloat(c.toFixed(e)));var h=[t[u][0],c];i.push(h)}i.sort(function(t,e){return t[0]>e[0]?1:t[0]<e[0]?-1:0});var p="y = "+Math.round(100*s)/100+"x + "+Math.round(100*l)/100;return{equation:[s,l],points:i,string:p}}function d(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,r=[],o=[],a=[],s=0,u=0,d=e+1,c=0;c<d;c++){for(var h=0,p=t.length;h<p;h++)null!=t[h].x&&(t[h][0]=t[h].x,t[h][1]=t[h].y),null!=t[h][1]&&(s+=Math.pow(t[h][0],c)*t[h][1]);r.push(s),s=0;for(var f=[],g=0;g<d;g++){for(var m=0,y=t.length;m<y;m++)t[m][1]&&(u+=Math.pow(t[m][0],c+g));f.push(u),u=0}o.push(f)}o.push(r);for(var v=l(o,d),x=t.length+n,b=t[t.length-1][0]-t[t.length-2][0],A=0,w=x;A<w;A++){var S=0,E=0;E="undefined"!=typeof t[A]?t[A][0]:t[t.length-1][0]+(A-t.length)*b;for(var C=0;C<v.length;C++)S+=v[C]*Math.pow(E,C),i&&(S=parseFloat(S.toFixed(i)));a.push([E,S])}a.sort(function(t,e){return t[0]>e[0]?1:t[0]<e[0]?-1:0});for(var P="y = ",M=v.length-1;M>=0;M--)P+=M>1?Math.round(100*v[M])/100+"x^"+M+" + ":1==M?Math.round(100*v[M])/100+"x + ":Math.round(100*v[M])/100;return{equation:v,points:a,string:P}}function c(t){function e(t){var e={},n=void 0,i=t.length,r=[];for(n=0;n<i;n+=1)e[t[n]]=t[n];for(n in e)r.push(e[n]);return r}function n(t){var e=1-t*t*t;return e*e*e}var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.25,r=t.map(function(t){return t[0]}),o=e(r);2/o.length>i&&(i=Math.min(2/o.length,1));var a=t.map(function(t){return t[1]}),s=[],l=0,u=Math.floor(i*r.length)-1;for(var d in r){var c=r[d];d>0&&u<r.length-1&&r[u+1]-r[d]<r[d]-r[l]&&(l++,u++);var h=void 0;h=r[d]-r[l]>r[u]-r[d]?l:u;for(var p=Math.abs(1/(r[h]-c)),f=0,g=0,m=0,y=0,v=0,x=l;x<=u;){var b=r[x],A=a[x],w=void 0;w=x<d?c-b:b-c;var S=n(w*p),E=b*S;f+=S,g+=E,m+=b*E,y+=A*S,v+=A*E,x++}var C=g/f,P=y/f,M=v/f,T=m/f,k=void 0;k=T==C*C?0:(M-C*P)/(T-C*C);var I=P-k*C;s[d]=k*c+I}return{equation:"",points:r.map(function(t,e){return[t,s[e]]}),string:""}}Object.defineProperty(e,"__esModule",{value:!0}),e.isRegressionIneligible=void 0;var h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};e["default"]=function(t,e,n){var i=[];return n?i.push.apply(i,r(e).concat([h({},s((0,y["default"])(e),t))])):e.forEach(function(e){i.push(e,h({},s(e.data,t),{name:e.name+" (trend)",color:o(e.color)}))}),i};var p=n(36),f=i(p),g=n(243),m=n(80),y=i(m),v=n(8),x={type:"spline",name:"Trend",dashStyle:"solid",color:"#333",lineWidth:1,marker:{enabled:!1,symbol:"circle",radius:2}};e.isRegressionIneligible=function(t){return(0,f["default"])([v.CHART_TYPE_GAUGE,v.CHART_TYPE_PIE],t)}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};e["default"]=function(t,e,n){return r({},(0,a["default"])(t.type),{renderTo:e||t.el},s,n?l:void 0)};var o=n(8),a=i(o),s={fontFamily:"Helvetica Neue,Helvetica,Arial,sans-serif !important",spacingTop:20},l={spacingTop:0,spacingRight:5,spacingBottom:2,spacingLeft:5}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t){var e=0,n=[];return t.forEach(function(t){n=t.data.reduce(function(t,n,i){return e=Math.max(e,(0,a["default"])(n)),i>0&&(n+=t[i-1]),t.push(n),t},[]),t.data=n.map(function(t){return t?parseFloat(t.toFixed(e)):t}),e=0}),t};var r=n(82),o=(i(r),n(238)),a=i(o)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,n){var i=e?(0,h["default"])(t.series):t.series[0].data.slice(),r=i.map(function(t,e){return{index:e,value:t}});return(0,d["default"])(r,n,"value"),(0,l["default"])(r,"index")}function o(t,e,n){var i=t.xAxis.categories,o=t.series,s=r(t,e,n),l=a({},t);return l.xAxis.categories=s.map(function(t){return i[t]}),l.series=o.map(function(t){return a({},t,{data:t.data.map(function(e,n){return t.data[s[n]]})})}),l}Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};e["default"]=function(t,e,n){var i=p.get(parseInt(e.sortOrder));return o(t,n,i)};var s=n(234),l=i(s),u=n(81),d=i(u),c=n(80),h=i(c),p=new Map([[-1,"ASC"],[1,"DESC"]])},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){return t.filter(function(t){return void 0!==t})}function o(t){return(0,p["default"])(t,null)&&1===(0,g["default"])(t).length}function a(t){var e=[],n=void 0;return t[0].data.forEach(function(i,r){n=[],t.forEach(function(t){n.push(t.data[r])}),o(n)&&e.push(r)}),e}function s(t){var e=void 0,n=0,i=void 0,r=void 0;return t.forEach(function(t){i=t.data.slice(),r=i.findIndex(function(t){return void 0!=t}),r>-1&&(e=void 0!==e?Math.min(e,r):r),r=i.reverse().findIndex(function(t){return void 0!=t}),r>-1&&(n=Math.max(n,i.length-1-r))}),{firstValueIndex:e,lastValueIndex:n}}function l(t,e,n,i,o){var a=void 0;switch(o){case"ALL":a=r(t.map(function(t,n){return(0,p["default"])(e,n)?void 0:t}));break;case"BEFORE_FIRST":a=t.slice(n);break;case"AFTER_LAST":a=t.slice(0,i+1);break;case"BEFORE_FIRST_AFTER_LAST":a=t.slice(n,i+1);break;default:a=t}return a}function u(t,e,n,i,r){return{xAxis:c({},t,{categories:l(t.categories,e,n,i,r)})}}function d(t,e,n,i,r){return{series:t.map(function(t){return c({},t,{data:l(t.data,e,n,i,r)})})}}Object.defineProperty(e,"__esModule",{value:!0});var c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};e["default"]=function(t,e){var n=a(t.series),i=s(t.series),r=i.firstValueIndex,o=i.lastValueIndex;return n.length&&t.xAxis&&t.series?c({},t,u(t.xAxis,n,r,o,e),d(t.series,n,r,o,e)):t};var h=n(36),p=i(h),f=n(236),g=i(f)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};e["default"]=function(t){var e=t.store,n=t.layout,i=t.el,o=t.extraConfig,s=t.extraOptions,u=O(n),c=e.generateData({type:u.type,seriesId:u.columns[0].dimension,categoryId:u.rows[0].dimension}),p=(0,C.getIsStacked)(u.type),g={chart:(0,l["default"])(u,i,s.dashboard),title:(0,m["default"])(u,e.data[0].metaData,s.dashboard),subtitle:(0,v["default"])(c,u,e.data[0].metaData,s.dashboard),xAxis:(0,d["default"])(e,u,s),yAxis:(0,h["default"])(u,s),series:(0,f["default"])(c.slice(),e,u,p,s),legend:(0,b["default"])(u,s.dashboard),pane:(0,w["default"])(u.type),noData:(0,E["default"])(),credits:{enabled:!1},exporting:{enabled:!1}};return"NONE"!==u.hideEmptyRowItems&&(g=(0,k["default"])(g,u.hideEmptyRowItems)),u.sortOrder&&(g=(0,M["default"])(g,u,p)),"NONE"===u.regressionType||(0,I.isRegressionIneligible)(u.type)||(g.series=(0,_["default"])(u.regressionType,g.series,p)),r(g,o),(0,a["default"])(g)};var o=n(35),a=i(o),s=n(198),l=i(s),u=n(215),d=i(u),c=n(218),h=i(c),p=n(208),f=i(p),g=n(212),m=i(g),y=n(211),v=i(y),x=n(203),b=i(x),A=n(206),w=i(A),S=n(204),E=i(S),C=n(8),P=n(200),M=i(P),T=n(201),k=i(T),I=n(197),_=i(I),O=function(t){return r({},t,{type:String(t.type).toUpperCase(),rangeAxisLabel:t.rangeAxisLabel||t.rangeAxisTitle,domainAxisLabel:t.domainAxisLabel||t.domainAxisTitle,targetLineLabel:t.targetLineLabel||t.targetLineTitle,baseLineLabel:t.baseLineLabel||t.baseLineTitle})}},function(t,e){"use strict";function n(t){return{itemStyle:r({},o,t?a:null)}}function i(t){return r({},s,t?l:null)}Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};e["default"]=function(t,e){return t.hideLegend?{enabled:!1}:r({},i(e),n(e))};var o={fontSize:"13px",fontWeight:"normal"},a={fontSize:"11px",fontWeight:500},s={symbolWidth:11,symbolHeight:11,itemMarginBottom:2},l={symbolPadding:3,itemDistance:10}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(){return{style:{fontSize:"13px",fontWeight:"normal"}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(){return{center:["50%","85%"],size:"90%",startAngle:-90,endAngle:90,background:{backgroundColor:"#F1F1F1",innerRadius:"60%",outerRadius:"100%",shape:"arc"}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t){switch(t){case a.CHART_TYPE_GAUGE:return(0,o["default"])();default:return}};var r=n(205),o=i(r),a=n(8)},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e){var r=e?i:n;return[{name:t[0].name,data:t[0].data.slice(0,1),enableMouseTracking:!1,dataLabels:{y:0,borderWidth:0,verticalAlign:"bottom",style:{fontSize:r}}}]};var n="34px",i="24px"},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){return t[e]||r(t,e-t.length)}function o(t,e){return"number"==typeof t?t:e}function a(t,e,n,i,o){return t.forEach(function(t,e){(n.showValues||n.showData)&&(t.dataLabels={enabled:!0}),i&&(t.stacking=n.percentStackedValues===!0?"percent":"normal");var a=(0,f["default"])(n.type).type;"column"!==a&&"bar"!==a||!n.noSpaceBetweenColumns||(t.pointPadding=0,t.groupPadding=0),t.color=r(o.colors,e),o.yearlySeries&&(t.name=o.yearlySeries[e])}),n.cumulativeValues===!0&&(t=(0,l["default"])(t)),t}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e,n,i,r){switch(n.type){case p.CHART_TYPE_PIE:t=(0,d["default"])(t,e,n,i,r.colors);break;case p.CHART_TYPE_GAUGE:t=(0,h["default"])(t,r.dashboard);break;default:t=a(t,e,n,i,r)}return t.forEach(function(t){t.animation={duration:o(r.animation,g)}}),t};var s=n(199),l=i(s),u=n(209),d=i(u),c=n(207),h=i(c),p=n(8),f=i(p),g=200},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e,n,i,r){return[{name:t[0].name,colorByPoint:!0,allowPointSelect:!0,cursor:"pointer",data:(0,o["default"])(e.data[0].metaData,n).map(function(e,n){return{name:e,color:r[n],y:t[0].data[n]}}),dataLabels:{enabled:!0,formatter:function(){return'<span style="font-weight:normal">'+this.point.name+"</span><br/>"+this.y+'<span style="font-weight:normal"> ('+this.percentage.toFixed(1)+" %)</span>"}}}]};var r=n(79),o=i(r)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e,n,i){var r=t[0].name,a=r+" - "+i;return{text:n||(0,o["default"])(e.title)?a:r}};var r=n(9),o=i(r)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,n){return{text:e||(0,s["default"])(t.title)?n:void 0}}Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};e["default"]=function(t,e,n,i){if(e.hideSubtitle)return null;var a=void 0;if((0,s["default"])(e.subtitle))a={text:e.subtitle};else{var l=(0,c["default"])(e.filters,n);switch(e.type){case h.CHART_TYPE_PIE:case h.CHART_TYPE_GAUGE:a=(0,u["default"])(t,e,i,l);break;default:a=r(e,i,l)}}return a?o({},p,i?f:void 0,a):a};var a=n(9),s=i(a),l=n(210),u=i(l),d=n(47),c=i(d),h=n(8),p={style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:"14px",color:"#555",textShadow:"0 0 #999"}},f={style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:"12px"}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,n){return t.filters&&!n?(0,u["default"])(t.filters,e):null}Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};e["default"]=function(t,e,n){var i={text:void 0};if(t.hideTitle)return i;if((0,s["default"])(t.title)&&t.title.length)i.text=t.title;else switch(t.type){case d.CHART_TYPE_YEAR_OVER_YEAR_LINE:case d.CHART_TYPE_YEAR_OVER_YEAR_COLUMN:i.text=(0,h["default"])(t,e,n);break;default:i.text=r(t,e,n)}return o({},p,n?f:void 0,i)};var a=n(9),s=i(a),l=n(47),u=i(l),d=n(8),c=n(213),h=i(c),p={margin:30,y:18,style:{color:"#111"}},f={margin:15,y:12,style:{fontSize:"13px",fontWeight:"bold"}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e,n){var i=[];return t.columns&&!n&&i.push((0,
o["default"])(t.columns,e)),t.filters&&!n&&i.push((0,o["default"])(t.filters,e)),i.length?i.join(" - "):null};var r=n(47),o=i(r)},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(){}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){return(0,a["default"])({categories:(0,d["default"])(t.data[0].metaData,e),title:(0,l["default"])(e.domainAxisLabel),labels:{style:{color:"#666",textShadow:"0 0 #ccc"}}})}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e,n){var i=void 0;switch(e.type){case g.CHART_TYPE_GAUGE:i=(0,h["default"])();break;case g.CHART_TYPE_YEAR_OVER_YEAR_LINE:case g.CHART_TYPE_YEAR_OVER_YEAR_COLUMN:i=(0,f["default"])(t,e,n);break;default:i=r(t,e)}return i};var o=n(35),a=i(o),s=n(78),l=i(s),u=n(79),d=i(u),c=n(214),h=i(c),p=n(216),f=i(p),g=n(8)},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e,n){var i=void 0;if(n.xAxisLabels)i=n.xAxisLabels;else{var r=t.data.reduce(function(t,e){return t?e.metaData.dimensions.pe.length>t.metaData.dimensions.pe.length&&(t=e):t=e,t},{}),o=r.metaData;i=o.dimensions.pe.reduce(function(t,e){return t.push(o.items[e].name),t},[])}return{categories:i}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){return(0,l["default"])(t)?(0,a["default"])(t.legends,"ASC","endValue").map(function(t){return[parseFloat(t.endValue)/c,t.color]}):void 0}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e){return(0,d["default"])({min:0,max:c,lineWidth:0,minorTickInterval:null,tickLength:0,tickAmount:0,labels:{y:18,style:{fontSize:"13px"}},stops:r(e)})};var o=n(81),a=i(o),s=n(17),l=i(s),u=n(35),d=i(u),c=100},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){return(0,v["default"])(t.rangeAxisMinValue)?t.rangeAxisMinValue:P}function o(t){return(0,v["default"])(t.rangeAxisMaxValue)?t.rangeAxisMaxValue:void 0}function a(t){return(0,v["default"])(t.rangeAxisSteps)?t.rangeAxisSteps:void 0}function s(t){return(0,v["default"])(t.targetLineValue)?h({},T,(0,m["default"])({value:t.targetLineValue,label:(0,b["default"])(t.targetLineLabel)?h({},k,{text:t.targetLineLabel}):void 0})):void 0}function l(t){return(0,v["default"])(t.baseLineValue)?h({},T,(0,m["default"])({value:t.baseLineValue,label:(0,b["default"])(t.baseLineLabel)?h({},k,{text:t.baseLineLabel}):void 0})):void 0}function u(t){return{formatter:function(){return this.value.toFixed(t.rangeAxisDecimals)}}}function d(t){return(0,v["default"])(t.rangeAxisDecimals)?u(t):void 0}function c(t){return(0,m["default"])({min:r(t),max:o(t),tickAmount:a(t),title:(0,w["default"])(t.rangeAxisLabel),plotLines:(0,f["default"])([s(t),l(t)]),gridLineColor:M,labels:d(t),reversedStacks:!(0,S.getIsStacked)(t.type)})}Object.defineProperty(e,"__esModule",{value:!0});var h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};e["default"]=function(t,e){var n=void 0;switch(t.type){case S.CHART_TYPE_GAUGE:n=(0,C["default"])(t,e.legendSet);break;default:n=c(t)}return n};var p=n(233),f=i(p),g=n(35),m=i(g),y=n(237),v=i(y),x=n(9),b=i(x),A=n(78),w=i(A),S=n(8),E=n(217),C=i(E),P=0,M="#E1E1E1",T={color:"#000",width:2,zIndex:4},k={y:-7,style:{fontSize:13,textShadow:"0 0 6px #FFF"}}},[681,202],function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e){if(t)return t.chart.renderTo=e||t.chart.renderTo,new o["default"].Chart(t)};var r=n(248),o=i(r),a=n(245),s=i(a),l=n(247),u=i(l),d=n(246),c=i(d),h=n(244),p=i(h);(0,s["default"])(o["default"]),(0,u["default"])(o["default"]),(0,c["default"])(o["default"]),(0,p["default"])(o["default"])},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(220),o=i(r);e["default"]={highcharts:o["default"]}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};e["default"]=function(t){var e=this,n=t.store,i=t.layout,o=t.el,s=t.inputFormat,u=void 0===s?"dhis":s,c=t.outputFormat,p=void 0===c?"highcharts":c,f=t.extraLayout,g=t.extraOptions,m=t.onError,y=t.onWarning,v=a["default"][u]||a["default"].noValidation,x=l["default"][u+"_"+p],b=d["default"][p];v===a["default"].noValidation&&y('No validation implementation for config input format "'+u+'"'),x||m('No config tranformation implementation for format "'+u+'" to format "'+p+'"'),b||m("No chart implementation for format "+p),this.getConfig=function(){return x({layout:v({layout:i,onError:m,onWarning:y}),extraOptions:r({},h,g),store:n,el:o,extraLayout:f})},this.createChart=function(){return b(e.getConfig(),o)}};var o=n(224),a=i(o),s=n(219),l=i(s),u=n(221),d=i(u),c=n(232),h={colors:c.theme1}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t){var e=t.layout;t.onError,t.onWarning;return e}},[683,223],function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:c,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:h,s=(0,a["default"])(t)?t:[t],u=new l["default"]({data:s,error:r,warning:o}),p=new d["default"]({store:u,layout:e,el:n,extraOptions:i,error:r,warning:o});return{store:u,config:p,chart:p.createChart()}}Object.defineProperty(e,"__esModule",{value:!0}),e.createChart=e.Config=e.Store=void 0;var o=n(12),a=i(o);n(97);var s=n(229),l=i(s),u=n(222),d=i(u),c=function(t){throw new Error(t)},h=function(t){console.log(t)};e.Store=l["default"],e.Config=d["default"],e.createChart=r,e["default"]={Store:l["default"],Config:d["default"],createChart:r}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){var e=new Map;return t.forEach(function(t,n){e.set(t.name,n)}),e}function o(t,e){return(e.isPrefix?e.name+"_":"")+t[e.index]}function a(t,e,n,i){var r=new Map,a=void 0,s=void 0;return t.forEach(function(t){a=o(t,e)+"-"+o(t,n),s=t[i],r.set(a,s)}),r}function s(t,e,n,i,r){return e.forEach(function(e){var o=[],a=r.items[e].name;n.forEach(function(t){var n=i.get(e+"-"+t);o.push(void 0==n?null:parseFloat(n))}),t.push({name:a,data:o})}),t}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t){var e=t.type,n=t.data,i=t.seriesId,o=t.categoryId,l=(0,d.isYearOverYear)(e)?u["default"]:s;return n.reduce(function(t,e){i=i||e.headers[0].name,o=o||e.headers[1].name;var n=e.headers,s=e.metaData,u=e.rows,d=r(n),h=d.get(i),p=d.get(o),f=d.get(c),g=n[h],m=n[p],y=a(u,g,m,f),v=s.dimensions[i],x=s.dimensions[o];return l(t,v,x,y,s),t},[])};var l=n(227),u=i(l),d=n(8),c="value"},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e,n,i,r){var o=[],a=void 0;return e.forEach(function(t){a=r.items[t].name,n.forEach(function(e){var n=i.get(t+"-"+e);o.push(void 0==n?null:parseFloat(n))})}),t.push({name:a,data:o}),t}},[681,226],function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t){var e=t.data,n=t.inputFormat,i=void 0===n?"dhis":n,r=t.outputFormat,a=void 0===r?"highcharts":r,l=(t.seriesId,t.categoryId,t.error),u=t.warning,d=o["default"][i]||o["default"].noValidation,c=s["default"][i+"_"+a];d===o["default"].noValidation&&u('Validation not supported for data input format "'+i+'"'),c||l('Data tranformation from "'+i+'" to "'+a+'" is not supported'),this.data=e,this.generateData=function(t){var n=t.type,i=t.seriesId,r=void 0===i?r:i,o=t.categoryId,a=void 0===o?a:o;return c({type:n,data:e.map(function(t){return d({data:t,error:l,warning:u})}),seriesId:r,categoryId:a})}};var r=n(231),o=i(r),a=n(228),s=i(a)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){return f+t}function o(t,e){(0,c["default"])(t)||e(r("Header is not an object")),t.meta&&((0,p["default"])(t.name)||e(r("Header name is not a string")))}function a(t,e){(0,p["default"])(t)||e(r("Row value is not a string"))}function s(t,e,n){(0,u["default"])(t)||n(r("Data row is not an array")),t.length!==e&&n(r("Data row length is invalid")),t.forEach(function(t){return a(t,n)})}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t){var e=t.data,n=t.error,i=t.warning;return(0,c["default"])(e)||n(r("Data is not an object")),(0,u["default"])(e.headers)||n(r("Response headers is not an array")),!e.headers.length>1&&n(r("At least two response headers required")),e.headers.forEach(function(t){return o(t,n)}),(0,c["default"])(e.metaData)||n(r("Metadata is not an object")),(0,c["default"])(e.metaData.items)||n(r("Metadata items is not an object")),(0,c["default"])(e.metaData.dimensions)||n(r("Metadata dimensions is not an object")),(0,u["default"])(e.rows)||i(r("Data rows is not an array")),e.rows.length||i(r("No data rows provided")),e.rows.forEach(function(t){return s(t,e.headers.length,n)}),e};var l=n(12),u=i(l),d=n(17),c=i(d),h=n(9),p=i(h),f="Data validator: "},[683,230],function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="#a9be3b|#558cc0|#d34957|#ff9f3a|#968f8f|#b7409f|#ffda64|#4fbdae|#b78040|#676767|#6a33cf|#4a7833".split("|");e.theme1=n},[669,48],32,[674,12,17,9],22,25,function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){for(var e=Math.abs(t),n=e,i=1;!(0,l["default"])(n)&&(0,a["default"])(n);)n=e*Math.pow(10,i++);return i-1}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=r;var o=n(83),a=i(o),s=n(82),l=i(s)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(14),u=i(l),d=n(13),c=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u["default"].getApi(),r=arguments[3];if(o(this,t),!(0,d.isString)(e))throw new Error("BaseStoreNamespace must be called with a string to identify the Namespace");if(!(0,d.isString)(r))throw new Error("BaseStoreNamespace must be called with an endPoint");if(this.constructor===t)throw new Error("Can't instantiate abstract class!");this.api=i,this.namespace=e,this.keys=n||[],this.endPoint=r}return s(t,[{key:"getKeys",value:function(){var t=this;return this.api.get([this.endPoint,this.namespace].join("/")).then(function(e){return e&&(0,d.isArray)(e)?(t.keys=e,e):Promise.reject(new Error("The requested namespace has no keys or does not exist."))})}},{key:"get",value:function(t){return this.api.get([this.endPoint,this.namespace,t].join("/"))}},{key:"set",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!i&&this.keys.includes(t))return this.update(t,e);var a=o===!0?"?encrypt=true":"";return this.api.post([this.endPoint,this.namespace,t+a].join("/"),e).then(function(e){return n.keys=[].concat(r(n.keys),[t]),e})}},{key:"delete",value:function(t){var e=this;return(0,d.isString)(t)?this.api["delete"]([this.endPoint,this.namespace,t].join("/")).then(function(n){return e.keys=e.keys.filter(function(e){return e!==t}),n}):Promise.reject(new Error("Expected key to be string, but got "+("undefined"==typeof t?"undefined":a(t))))}},{key:"update",value:function(t,e){return this.api.update([this.endPoint,this.namespace,t].join("/"),e)}}]),t}();e["default"]=c},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(13),s=n(26),l=n(241),u=i(l),d=n(431),c=i(d),h=(0,s.pickOr)("attributeValues",[]),p=function(){function t(e){var n=this;r(this,t),(0,a.checkType)(e,"object","modelDefinition"),(0,a.checkType)(e.modelProperties,"object","modelProperties"),Object.defineProperty(this,"modelDefinition",{value:e}),Object.defineProperty(this,"dirty",{writable:!0,value:!1}),Object.defineProperty(this,"dataValues",{configurable:!0,writable:!0,value:{}}),Object.defineProperties(this,e.modelProperties);var i={},o=e.attributeProperties;if((0,a.hasKeys)(o)){Object.defineProperty(this,"attributes",{value:i});var s=function(){return h(n)},u=function(t){return n.attributeValues=t},d=function(){return n.dirty=!0},p=(0,c["default"])(o,s,u,d);Object.defineProperties(i,p)}this[l.DIRTY_PROPERTY_LIST]=new Set([])}return o(t,null,[{key:"create",value:function(e){return new t(e)}}]),t}();p.prototype=u["default"],e["default"]=p},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.DIRTY_PROPERTY_LIST=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(321),s=i(a),l=n(242),u=n(432),d=s["default"].getModelValidation(),c=e.DIRTY_PROPERTY_LIST=Symbol("List to keep track of dirty properties"),h=function(){function t(){r(this,t),this.modelDefinition={modelValidations:{}}}return o(t,[{key:"create",value:function(){var t=this;return this.validate().then(function(e){return e.status?t.modelDefinition.saveNew(t).then(function(e){return u.updateModelFromResponseStatus.call(t,e)}):Promise.reject(e)})}},{key:"save",value:function(t){var e=this;return this.isDirty(t)?this.validate().then(function(t){return t.status?e.modelDefinition.save(e).then(function(t){return u.updateModelFromResponseStatus.call(e,t)}):Promise.reject(t)}):Promise.resolve({})}},{key:"validate",value:function(){var t=this;return new Promise(function(e,n){function i(t,e){return e&&t.indexOf(e)===-1&&t.push(e),t}function r(t){return d.validateAgainstSchema(t)}var o=[];r(t)["catch"](function(t){return Array.isArray(t)?t:Promise.reject(t)}).then(function(t){o=o.concat(t);var n={status:0===t.length,fields:o.map(function(t){return t.property}).reduce(i,[]),messages:o};e(n)})["catch"](function(t){return n(t)})})}},{key:"clone",value:function(){var t=this.modelDefinition.create((0,l.getJSONForProperties)(this,Object.keys(this.modelDefinition.modelValidations),!0));return this.isDirty()&&(t.dirty=this.isDirty(!0)),t}},{key:"delete",value:function(){return this.modelDefinition["delete"](this)}},{key:"isDirty",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.dirty||t===!0&&this.hasDirtyChildren()}},{key:"resetDirtyState",value:function(){return this.dirty=!1,this.getDirtyChildren().forEach(function(t){t.resetDirtyState?t.resetDirtyState():t.dirty=!1}),this[c].clear(),this}},{key:"getDirtyPropertyNames",value:function(){return Array.from(this[c].values())}},{key:"getCollectionChildren",value:function(){var t=this;return Object.keys(this).filter(function(e){return t[e]&&(0,u.hasModelValidationForProperty)(t,e)&&(0,u.pickOwnerFromModelValidation)(e,t)}).map(function(e){return t[e]})}},{key:"getCollectionChildrenPropertyNames",value:function(){var t=this;return Object.keys(this).filter(function(e){return"COLLECTION"===(0,u.pickTypeFromModelValidation)(e,t)})}},{key:"getReferenceProperties",value:function(){var t=this;return Object.keys(this).filter(function(e){return"REFERENCE"===(0,u.pickTypeFromModelValidation)(e,t)&&(0,u.pickEmbeddedObjectFromModelValidation)(e,t)===!1})}},{key:"getEmbeddedObjectCollectionPropertyNames",value:function(){var t=this;return this.getCollectionChildrenPropertyNames().filter(function(e){return(0,u.pickEmbeddedObjectFromModelValidation)(e,t)})}},{key:"getDirtyChildren",value:function(){return this.getCollectionChildren().filter(function(t){return t&&t.dirty===!0})}},{key:"hasDirtyChildren",value:function(){return this.getDirtyChildren().length>0}},{key:"toJSON",value:function(){return(0,l.getJSONForProperties)(this,Object.keys(this.modelDefinition.modelValidations))}}]),t}();e["default"]=new h},function(t,e,n){"use strict";function i(t){return function(e){return t.indexOf(e)===-1}}function r(t){return function(e){return!i(t)(e)}}function o(t){return function(e){return t.indexOf(e)>=0}}function a(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a={},s=t.getCollectionChildrenPropertyNames().filter(function(t){return"attributeValues"!==t}),d=Object.keys(t.modelDefinition.modelValidations).filter(function(t){return e.indexOf(t)>=0}).filter(function(e){return void 0!==t.dataValues[e]&&null!==t.dataValues[e]});return d.filter(i(s)).filter(function(e){return!o(t.getReferenceProperties())(e)}).forEach(function(e){a[e]=t.dataValues[e]}),d.filter(i(s)).filter(o(t.getReferenceProperties())).forEach(function(e){a[e]={id:t.dataValues[e].id}}),d.filter(r(s)).forEach(function(e){if(c(e,t.modelDefinition.name))return void(a[e]=Array.from(t.dataValues[e]));var i=Array.isArray(t.dataValues[e])?t.dataValues[e]:Array.from(t.dataValues[e].values());return t.getEmbeddedObjectCollectionPropertyNames().indexOf(e)!==-1?void(a[e]=i):void(a[e]=i.filter((0,u.pick)("id")).map(function(t){return n&&(0,l.isFunction)(t.clone)?t.clone():{id:t.id}}))}),a}function s(t){var e=t.modelDefinition.getOwnedPropertyNames();return a(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.getJSONForProperties=a,e.getOwnedPropertyJSON=s;var l=n(13),u=n(26),d={aggregationLevels:["dataElement"],grantTypes:["oAuth2Client"],translations:[],deliveryChannels:["programNotificationTemplate","dataSetNotificationTemplate"],redirectUris:["oAuth2Client"],organisationUnitLevels:["validationRule"],favorites:[],columns:[],rows:[],filters:[],yearlySeries:[]},c=function(t,e){var n=d[t];return!!n&&((0,l.contains)(e,n)||(0,l.isEmpty)(n))}},function(t,e,n){!function(t,n){n(e)}(this,function(t){"use strict";function e(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function n(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function i(){}function r(t){var e;return t=(t+"").trim().toLowerCase(),(e=I.exec(t))?(e=parseInt(e[1],16),new u(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1)):(e=_.exec(t))?o(parseInt(e[1],16)):(e=O.exec(t))?new u(e[1],e[2],e[3],1):(e=D.exec(t))?new u(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=R.exec(t))?a(e[1],e[2],e[3],e[4]):(e=L.exec(t))?a(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=B.exec(t))?d(e[1],e[2]/100,e[3]/100,1):(e=N.exec(t))?d(e[1],e[2]/100,e[3]/100,e[4]):U.hasOwnProperty(t)?o(U[t]):"transparent"===t?new u(NaN,NaN,NaN,0):null}function o(t){return new u(t>>16&255,t>>8&255,255&t,1)}function a(t,e,n,i){return i<=0&&(t=e=n=NaN),new u(t,e,n,i)}function s(t){return t instanceof i||(t=r(t)),t?(t=t.rgb(),new u(t.r,t.g,t.b,t.opacity)):new u}function l(t,e,n,i){return 1===arguments.length?s(t):new u(t,e,n,null==i?1:i)}function u(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function d(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new p(t,e,n,i)}function c(t){if(t instanceof p)return new p(t.h,t.s,t.l,t.opacity);if(t instanceof i||(t=r(t)),!t)return new p;if(t instanceof p)return t;t=t.rgb();var e=t.r/255,n=t.g/255,o=t.b/255,a=Math.min(e,n,o),s=Math.max(e,n,o),l=NaN,u=s-a,d=(s+a)/2;return u?(l=e===s?(n-o)/u+6*(n<o):n===s?(o-e)/u+2:(e-n)/u+4,u/=d<.5?s+a:2-s-a,l*=60):u=d>0&&d<1?0:l,new p(l,u,d,t.opacity)}function h(t,e,n,i){return 1===arguments.length?c(t):new p(t,e,n,null==i?1:i)}function p(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function f(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function g(t){if(t instanceof y)return new y(t.l,t.a,t.b,t.opacity);if(t instanceof E){var e=t.h*j;return new y(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof u||(t=s(t));var n=A(t.r),i=A(t.g),r=A(t.b),o=v((.4124564*n+.3575761*i+.1804375*r)/H),a=v((.2126729*n+.7151522*i+.072175*r)/W),l=v((.0193339*n+.119192*i+.9503041*r)/z);return new y(116*a-16,500*(o-a),200*(a-l),t.opacity)}function m(t,e,n,i){return 1===arguments.length?g(t):new y(t,e,n,null==i?1:i)}function y(t,e,n,i){this.l=+t,this.a=+e,this.b=+n,this.opacity=+i}function v(t){return t>q?Math.pow(t,1/3):t/X+G}function x(t){return t>Y?t*t*t:X*(t-G)}function b(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function A(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function w(t){if(t instanceof E)return new E(t.h,t.c,t.l,t.opacity);t instanceof y||(t=g(t));var e=Math.atan2(t.b,t.a)*F;return new E(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function S(t,e,n,i){return 1===arguments.length?w(t):new E(t,e,n,null==i?1:i)}function E(t,e,n,i){this.h=+t,this.c=+e,this.l=+n,this.opacity=+i}function C(t){if(t instanceof M)return new M(t.h,t.s,t.l,t.opacity);t instanceof u||(t=s(t));var e=t.r/255,n=t.g/255,i=t.b/255,r=(nt*i+tt*e-et*n)/(nt+tt-et),o=i-r,a=($*(n-r)-J*o)/Z,l=Math.sqrt(a*a+o*o)/($*r*(1-r)),d=l?Math.atan2(a,o)*F-120:NaN;return new M(d<0?d+360:d,l,r,t.opacity)}function P(t,e,n,i){return 1===arguments.length?C(t):new M(t,e,n,null==i?1:i)}function M(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}var T=.7,k=1/T,I=/^#([0-9a-f]{3})$/,_=/^#([0-9a-f]{6})$/,O=/^rgb\(\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*\)$/,D=/^rgb\(\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/,R=/^rgba\(\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*,\s*([-+]?\d+(?:\.\d+)?)\s*\)$/,L=/^rgba\(\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)\s*\)$/,B=/^hsl\(\s*([-+]?\d+(?:\.\d+)?)\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/,N=/^hsla\(\s*([-+]?\d+(?:\.\d+)?)\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)\s*\)$/,U={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};e(i,r,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),e(u,l,n(i,{brighter:function(t){return t=null==t?k:Math.pow(k,t),new u(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?T:Math.pow(T,t),new u(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),e(p,h,n(i,{brighter:function(t){return t=null==t?k:Math.pow(k,t),new p(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?T:Math.pow(T,t),new p(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new u(f(t>=240?t-240:t+120,r,i),f(t,r,i),f(t<120?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var j=Math.PI/180,F=180/Math.PI,V=18,H=.95047,W=1,z=1.08883,G=4/29,Y=6/29,X=3*Y*Y,q=Y*Y*Y;e(y,m,n(i,{brighter:function(t){return new y(this.l+V*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new y(this.l-V*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=W*x(t),e=H*x(e),n=z*x(n),new u(b(3.2404542*e-1.5371385*t-.4985314*n),b(-.969266*e+1.8760108*t+.041556*n),b(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),e(E,S,n(i,{brighter:function(t){return new E(this.h,this.c,this.l+V*(null==t?1:t),this.opacity)},darker:function(t){return new E(this.h,this.c,this.l-V*(null==t?1:t),this.opacity)},rgb:function(){return g(this).rgb()}}));var K=-.14861,Q=1.78277,J=-.29227,Z=-.90649,$=1.97294,tt=$*Z,et=$*Q,nt=Q*J-Z*K;e(M,P,n(i,{brighter:function(t){return t=null==t?k:Math.pow(k,t),new M(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?T:Math.pow(T,t),new M(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*j,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),r=Math.sin(t);return new u(255*(e+n*(K*i+Q*r)),255*(e+n*(J*i+Z*r)),255*(e+n*($*i)),this.opacity)}})),t.color=r,t.rgb=l,t.hsl=h,t.lab=m,t.hcl=S,t.cubehelix=P,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e){!function(e){"object"==typeof t&&t.exports?t.exports=e:e(Highcharts)}(function(t){!function(t){var e=t.defaultOptions,n=t.doc,i=t.Chart,r=t.addEvent,o=t.removeEvent,a=t.fireEvent,s=t.createElement,l=t.discardElement,u=t.css,d=t.merge,c=t.pick,h=t.each,p=t.objectEach,f=t.extend,g=t.isTouchDevice,m=t.win,y=m.navigator.userAgent,v=t.Renderer.prototype.symbols;/Edge\/|Trident\/|MSIE /.test(y),/firefox/i.test(y),f(e.lang,{printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"}),e.navigation={buttonOptions:{theme:{},symbolSize:14,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,verticalAlign:"top",width:24}},d(!0,e.navigation,{menuStyle:{border:"1px solid #999999",background:"#ffffff",padding:"5px 0"},menuItemStyle:{padding:"0.5em 1em",background:"none",color:"#333333",fontSize:g?"14px":"11px",transition:"background 250ms, color 250ms"},menuItemHoverStyle:{background:"#335cad",color:"#ffffff"},buttonOptions:{symbolFill:"#666666",symbolStroke:"#666666",symbolStrokeWidth:3,theme:{fill:"#ffffff",stroke:"none",padding:5}}}),e.exporting={type:"image/png",url:"https://export.highcharts.com/",printMaxWidth:780,scale:2,buttons:{contextButton:{className:"highcharts-contextbutton",menuClassName:"highcharts-contextmenu",symbol:"menu",_titleKey:"contextButtonTitle",menuItems:"printChart separator downloadPNG downloadJPEG downloadPDF downloadSVG".split(" ")}},menuItemDefinitions:{printChart:{textKey:"printChart",onclick:function(){this.print()}},separator:{separator:!0},downloadPNG:{textKey:"downloadPNG",onclick:function(){this.exportChart()}},downloadJPEG:{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},downloadPDF:{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},downloadSVG:{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}}},t.post=function(t,e,i){var r=s("form",d({method:"post",action:t,enctype:"multipart/form-data"},i),{display:"none"},n.body);p(e,function(t,e){s("input",{type:"hidden",name:e,value:t},null,r)}),r.submit(),l(r)},f(i.prototype,{sanitizeSVG:function(t,e){if(e&&e.exporting&&e.exporting.allowHTML){var n=t.match(/<\/svg>(.*?$)/);n&&n[1]&&(n='<foreignObject x="0" y="0" width="'+e.chart.width+'" height="'+e.chart.height+'"><body xmlns="http://www.w3.org/1999/xhtml">'+n[1]+"</body></foreignObject>",t=t.replace("</svg>",n+"</svg>"))}return t=t.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\(("|&quot;)(\S+)("|&quot;)\)/g,"url($2)").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (NS[0-9]+\:)?href=/g," xlink:href=").replace(/\n/," ").replace(/<\/svg>.*?$/,"</svg>").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g," ").replace(/&shy;/g,"­"),this.ieSanitizeSVG&&(t=this.ieSanitizeSVG(t)),t},getChartHTML:function(){return this.container.innerHTML},getSVG:function(e){var i,r,o,a,u,c=d(this.options,e);return r=s("div",null,{position:"absolute",top:"-9999em",width:this.chartWidth+"px",height:this.chartHeight+"px"},n.body),o=this.renderTo.style.width,u=this.renderTo.style.height,o=c.exporting.sourceWidth||c.chart.width||/px$/.test(o)&&parseInt(o,10)||600,
u=c.exporting.sourceHeight||c.chart.height||/px$/.test(u)&&parseInt(u,10)||400,f(c.chart,{animation:!1,renderTo:r,forExport:!0,renderer:"SVGRenderer",width:o,height:u}),c.exporting.enabled=!1,delete c.data,c.series=[],h(this.series,function(t){a=d(t.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:t.visible}),a.isInternal||c.series.push(a)}),h(this.axes,function(e){e.userOptions.internalKey||(e.userOptions.internalKey=t.uniqueKey())}),i=new t.Chart(c,this.callback),e&&h(["xAxis","yAxis","series"],function(t){var n={};e[t]&&(n[t]=e[t],i.update(n))}),h(this.axes,function(e){var n=t.find(i.axes,function(t){return t.options.internalKey===e.userOptions.internalKey}),r=e.getExtremes(),o=r.userMin,r=r.userMax;!n||void 0===o&&void 0===r||n.setExtremes(o,r,!0,!1)}),o=i.getChartHTML(),o=this.sanitizeSVG(o,c),c=null,i.destroy(),l(r),o},getSVGForExport:function(t,e){var n=this.options.exporting;return this.getSVG(d({chart:{borderRadius:0}},n.chartOptions,e,{exporting:{sourceWidth:t&&t.sourceWidth||n.sourceWidth,sourceHeight:t&&t.sourceHeight||n.sourceHeight}}))},exportChart:function(e,n){n=this.getSVGForExport(e,n),e=d(this.options.exporting,e),t.post(e.url,{filename:e.filename||"chart",type:e.type,width:e.width||0,scale:e.scale,svg:n},e.formAttributes)},print:function(){var t,e,i=this,r=i.container,o=[],s=r.parentNode,l=n.body,u=l.childNodes,d=i.options.exporting.printMaxWidth;i.isPrinting||(i.isPrinting=!0,i.pointer.reset(null,0),a(i,"beforePrint"),(e=d&&i.chartWidth>d)&&(t=[i.options.chart.width,void 0,!1],i.setSize(d,void 0,!1)),h(u,function(t,e){1===t.nodeType&&(o[e]=t.style.display,t.style.display="none")}),l.appendChild(r),m.focus(),m.print(),setTimeout(function(){s.appendChild(r),h(u,function(t,e){1===t.nodeType&&(t.style.display=o[e])}),i.isPrinting=!1,e&&i.setSize.apply(i,t),a(i,"afterPrint")},1e3))},contextMenu:function(e,i,o,a,l,d,c){var p,g,m=this,y=m.options.navigation,v=m.chartWidth,x=m.chartHeight,b="cache-"+e,A=m[b],w=Math.max(l,d);A||(m[b]=A=s("div",{className:e},{position:"absolute",zIndex:1e3,padding:w+"px"},m.container),p=s("div",{className:"highcharts-menu"},null,A),u(p,f({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},y.menuStyle)),g=function(){u(A,{display:"none"}),c&&c.setState(0),m.openMenu=!1},m.exportEvents.push(r(A,"mouseleave",function(){A.hideTimer=setTimeout(g,500)}),r(A,"mouseenter",function(){clearTimeout(A.hideTimer)}),r(n,"mouseup",function(t){m.pointer.inClass(t.target,e)||g()})),h(i,function(e){if("string"==typeof e&&(e=m.options.exporting.menuItemDefinitions[e]),t.isObject(e,!0)){var n;e.separator?n=s("hr",null,null,p):(n=s("div",{className:"highcharts-menu-item",onclick:function(t){t&&t.stopPropagation(),g(),e.onclick&&e.onclick.apply(m,arguments)},innerHTML:e.text||m.options.lang[e.textKey]},null,p),n.onmouseover=function(){u(this,y.menuItemHoverStyle)},n.onmouseout=function(){u(this,y.menuItemStyle)},u(n,f({cursor:"pointer"},y.menuItemStyle))),m.exportDivElements.push(n)}}),m.exportDivElements.push(p,A),m.exportMenuWidth=A.offsetWidth,m.exportMenuHeight=A.offsetHeight),i={display:"block"},o+m.exportMenuWidth>v?i.right=v-o-l-w+"px":i.left=o-w+"px",a+d+m.exportMenuHeight>x&&"top"!==c.alignOptions.verticalAlign?i.bottom=x-a-w+"px":i.top=a+d-w+"px",u(A,i),m.openMenu=!0},addButton:function(t){var e,n,i=this,r=i.renderer,o=d(i.options.navigation.buttonOptions,t),a=o.onclick,s=o.menuItems,l=o.symbolSize||12;if(i.btnCount||(i.btnCount=0),i.exportDivElements||(i.exportDivElements=[],i.exportSVGElements=[]),!1!==o.enabled){var u,h=o.theme,p=h.states,g=p&&p.hover,p=p&&p.select;delete h.states,a?u=function(t){t.stopPropagation(),a.call(i,t)}:s&&(u=function(){i.contextMenu(n.menuClassName,s,n.translateX,n.translateY,n.width,n.height,n),n.setState(2)}),o.text&&o.symbol?h.paddingLeft=c(h.paddingLeft,25):o.text||f(h,{width:o.width,height:o.height,padding:0}),n=r.button(o.text,0,0,u,h,g,p).addClass(t.className).attr({"stroke-linecap":"round",title:i.options.lang[o._titleKey],zIndex:3}),n.menuClassName=t.menuClassName||"highcharts-menu-"+i.btnCount++,o.symbol&&(e=r.symbol(o.symbol,o.symbolX-l/2,o.symbolY-l/2,l,l).addClass("highcharts-button-symbol").attr({zIndex:1}).add(n),e.attr({stroke:o.symbolStroke,fill:o.symbolFill,"stroke-width":o.symbolStrokeWidth||1})),n.add().align(f(o,{width:n.width,x:c(o.x,i.buttonOffset)}),!0,"spacingBox"),i.buttonOffset+=(n.width+o.buttonSpacing)*("right"===o.align?-1:1),i.exportSVGElements.push(n,e)}},destroyExport:function(t){var e=t?t.target:this;t=e.exportSVGElements;var n,i=e.exportDivElements,r=e.exportEvents;t&&(h(t,function(t,i){t&&(t.onclick=t.ontouchstart=null,n="cache-"+t.menuClassName,e[n]&&delete e[n],e.exportSVGElements[i]=t.destroy())}),t.length=0),i&&(h(i,function(t,n){clearTimeout(t.hideTimer),o(t,"mouseleave"),e.exportDivElements[n]=t.onmouseout=t.onmouseover=t.ontouchstart=t.onclick=null,l(t)}),i.length=0),r&&(h(r,function(t){t()}),r.length=0)}}),v.menu=function(t,e,n,i){return["M",t,e+2.5,"L",t+n,e+2.5,"M",t,e+i/2+.5,"L",t+n,e+i/2+.5,"M",t,e+i-1.5,"L",t+n,e+i-1.5]},i.prototype.renderExporting=function(){var t=this,e=t.options.exporting,n=e.buttons,i=t.isDirtyExporting||!t.exportSVGElements;t.buttonOffset=0,t.isDirtyExporting&&t.destroyExport(),i&&!1!==e.enabled&&(t.exportEvents=[],p(n,function(e){t.addButton(e)}),t.isDirtyExporting=!1),r(t,"destroy",t.destroyExport)},i.prototype.callbacks.push(function(t){t.renderExporting(),r(t,"redraw",t.renderExporting),h(["exporting","navigation"],function(e){t[e]={update:function(n,i){t.isDirtyExporting=!0,d(!0,t.options[e],n),c(i,!0)&&t.redraw()}}})})}(t)})},function(t,e){!function(e){"object"==typeof t&&t.exports?t.exports=e:e(Highcharts)}(function(t){!function(t){var e=t.deg2rad,n=t.isNumber,i=t.pick,r=t.relativeLength;t.CenteredSeriesMixin={getCenter:function(){var t,e,n=this.options,o=this.chart,a=2*(n.slicedOffset||0),s=o.plotWidth-2*a,o=o.plotHeight-2*a,l=n.center,l=[i(l[0],"50%"),i(l[1],"50%"),n.size||"100%",n.innerSize||0],u=Math.min(s,o);for(t=0;4>t;++t)e=l[t],n=2>t||2===t&&/%$/.test(e),l[t]=r(e,[s,o,u,l[2]][t])+(n?a:0);return l[3]>l[2]&&(l[3]=l[2]),l},getStartAndEndRadians:function(t,i){return t=n(t)?t:0,i=n(i)&&i>t&&360>i-t?i:t+360,{start:e*(t+-90),end:e*(i+-90)}}}}(t),function(t){function e(t,e){this.init(t,e)}var n=t.CenteredSeriesMixin,i=t.each,r=t.extend,o=t.merge,a=t.splat;r(e.prototype,{coll:"pane",init:function(t,e){this.chart=e,this.background=[],e.pane.push(this),this.setOptions(t)},setOptions:function(t){this.options=o(this.defaultOptions,this.chart.angular?{background:{}}:void 0,t)},render:function(){var t=this.options,e=this.options.background,n=this.chart.renderer;if(this.group||(this.group=n.g("pane-group").attr({zIndex:t.zIndex||0}).add()),this.updateCenter(),e)for(e=a(e),t=Math.max(e.length,this.background.length||0),n=0;n<t;n++)e[n]&&this.axis?this.renderBackground(o(this.defaultBackgroundOptions,e[n]),n):this.background[n]&&(this.background[n]=this.background[n].destroy(),this.background.splice(n,1))},renderBackground:function(t,e){var n="animate";this.background[e]||(this.background[e]=this.chart.renderer.path().add(this.group),n="attr"),this.background[e][n]({d:this.axis.getPlotBandPath(t.from,t.to,t)}).attr({fill:t.backgroundColor,stroke:t.borderColor,"stroke-width":t.borderWidth,"class":"highcharts-pane "+(t.className||"")})},defaultOptions:{center:["50%","50%"],size:"85%",startAngle:0},defaultBackgroundOptions:{shape:"circle",borderWidth:1,borderColor:"#cccccc",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#ffffff"],[1,"#e6e6e6"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"},updateCenter:function(t){this.center=(t||this.axis||{}).center=n.getCenter.call(this)},update:function(t,e){o(!0,this.options,t),this.setOptions(this.options),this.render(),i(this.chart.axes,function(t){t.pane===this&&(t.pane=null,t.update({},e))},this)}}),t.Pane=e}(t),function(t){var e,n,i=t.each,r=t.extend,o=t.map,a=t.merge,s=t.noop,l=t.pick,u=t.pInt,d=t.wrap,c=t.Axis.prototype;t=t.Tick.prototype,e={getOffset:s,redraw:function(){this.isDirty=!1},render:function(){this.isDirty=!1},setScale:s,setCategories:s,setTitle:s},n={defaultRadialGaugeOptions:{labels:{align:"center",x:0,y:null},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},defaultRadialXOptions:{gridLineWidth:1,labels:{align:null,distance:15,x:0,y:null,style:{textOverflow:"none"}},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},defaultRadialYOptions:{gridLineInterpolation:"circle",labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}},setOptions:function(t){t=this.options=a(this.defaultOptions,this.defaultRadialOptions,t),t.plotBands||(t.plotBands=[])},getOffset:function(){c.getOffset.call(this),this.chart.axisOffset[this.side]=0},getLinePath:function(t,e){t=this.center;var n=this.chart,i=l(e,t[2]/2-this.offset);return this.isCircular||void 0!==e?(e=this.chart.renderer.symbols.arc(this.left+t[0],this.top+t[1],i,i,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0}),e.xBounds=[this.left+t[0]],e.yBounds=[this.top+t[1]-i]):(e=this.postTranslate(this.angleRad,i),e=["M",t[0]+n.plotLeft,t[1]+n.plotTop,"L",e.x,e.y]),e},setAxisTranslation:function(){c.setAxisTranslation.call(this),this.center&&(this.transA=this.isCircular?(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):this.center[2]/2/(this.max-this.min||1),this.minPixelPadding=this.isXAxis?this.transA*this.minPointOffset:0)},beforeSetTickPositions:function(){(this.autoConnect=this.isCircular&&void 0===l(this.userMax,this.options.max)&&this.endAngleRad-this.startAngleRad===2*Math.PI)&&(this.max+=this.categories&&1||this.pointRange||this.closestPointRange||0)},setAxisSize:function(){c.setAxisSize.call(this),this.isRadial&&(this.pane.updateCenter(this),this.isCircular&&(this.sector=this.endAngleRad-this.startAngleRad),this.len=this.width=this.height=this.center[2]*l(this.sector,1)/2)},getPosition:function(t,e){return this.postTranslate(this.isCircular?this.translate(t):this.angleRad,l(this.isCircular?e:this.translate(t),this.center[2]/2)-this.offset)},postTranslate:function(t,e){var n=this.chart,i=this.center;return t=this.startAngleRad+t,{x:n.plotLeft+i[0]+Math.cos(t)*e,y:n.plotTop+i[1]+Math.sin(t)*e}},getPlotBandPath:function(t,e,n){var i,r=this.center,a=this.startAngleRad,s=r[2]/2,d=[l(n.outerRadius,"100%"),n.innerRadius,l(n.thickness,10)],c=Math.min(this.offset,0),h=/%$/,p=this.isCircular;return"polygon"===this.options.gridLineInterpolation?r=this.getPlotLinePath(t).concat(this.getPlotLinePath(e,!0)):(t=Math.max(t,this.min),e=Math.min(e,this.max),p||(d[0]=this.translate(t),d[1]=this.translate(e)),d=o(d,function(t){return h.test(t)&&(t=u(t,10)*s/100),t}),"circle"!==n.shape&&p?(t=a+this.translate(t),e=a+this.translate(e)):(t=-Math.PI/2,e=1.5*Math.PI,i=!0),d[0]-=c,d[2]-=c,r=this.chart.renderer.symbols.arc(this.left+r[0],this.top+r[1],d[0],d[0],{start:Math.min(t,e),end:Math.max(t,e),innerR:l(d[1],d[0]-d[2]),open:i})),r},getPlotLinePath:function(t,e){var n,r,o,a=this,s=a.center,l=a.chart,u=a.getPosition(t);return a.isCircular?o=["M",s[0]+l.plotLeft,s[1]+l.plotTop,"L",u.x,u.y]:"circle"===a.options.gridLineInterpolation?(t=a.translate(t))&&(o=a.getLinePath(0,t)):(i(l.xAxis,function(t){t.pane===a.pane&&(n=t)}),o=[],t=a.translate(t),s=n.tickPositions,n.autoConnect&&(s=s.concat([s[0]])),e&&(s=[].concat(s).reverse()),i(s,function(e,i){r=n.getPosition(e,t),o.push(i?"L":"M",r.x,r.y)})),o},getTitlePosition:function(){var t=this.center,e=this.chart,n=this.options.title;return{x:e.plotLeft+t[0]+(n.x||0),y:e.plotTop+t[1]-{high:.5,middle:.25,low:0}[n.align]*t[2]+(n.y||0)}}},d(c,"init",function(t,i,o){var s,u=i.angular,d=i.polar,c=o.isX,h=u&&c,p=i.options,f=o.pane||0,g=this.pane=i.pane&&i.pane[f],f=g&&g.options;u?(r(this,h?e:n),(s=!c)&&(this.defaultRadialOptions=this.defaultRadialGaugeOptions)):d&&(r(this,n),this.defaultRadialOptions=(s=c)?this.defaultRadialXOptions:a(this.defaultYAxisOptions,this.defaultRadialYOptions)),u||d?(this.isRadial=!0,i.inverted=!1,p.chart.zoomType=null):this.isRadial=!1,g&&s&&(g.axis=this),t.call(this,i,o),!h&&g&&(u||d)&&(t=this.options,this.angleRad=(t.angle||0)*Math.PI/180,this.startAngleRad=(f.startAngle-90)*Math.PI/180,this.endAngleRad=(l(f.endAngle,f.startAngle+360)-90)*Math.PI/180,this.offset=t.offset||0,this.isCircular=s)}),d(c,"autoLabelAlign",function(t){if(!this.isRadial)return t.apply(this,[].slice.call(arguments,1))}),d(t,"getPosition",function(t,e,n,i,r){var o=this.axis;return o.getPosition?o.getPosition(n):t.call(this,e,n,i,r)}),d(t,"getLabelPosition",function(t,e,n,i,r,o,a,s,u){var d=this.axis,c=o.y,h=20,p=o.align,f=(d.translate(this.pos)+d.startAngleRad+Math.PI/2)/Math.PI*180%360;return d.isRadial?(t=d.getPosition(this.pos,d.center[2]/2+l(o.distance,-25)),"auto"===o.rotation?i.attr({rotation:f}):null===c&&(c=d.chart.renderer.fontMetrics(i.styles.fontSize).b-i.getBBox().height/2),null===p&&(d.isCircular?(this.label.getBBox().width>d.len*d.tickInterval/(d.max-d.min)&&(h=0),p=f>h&&f<180-h?"left":f>180+h&&f<360-h?"right":"center"):p="center",i.attr({align:p})),t.x+=o.x,t.y+=c):t=t.call(this,e,n,i,r,o,a,s,u),t}),d(t,"getMarkPath",function(t,e,n,i,r,o,a){var s=this.axis;return s.isRadial?(t=s.getPosition(this.pos,s.center[2]/2+i),e=["M",e,n,"L",t.x,t.y]):e=t.call(this,e,n,i,r,o,a),e})}(t),function(t){var e=t.each,n=t.pick,i=t.defined,r=t.seriesType,o=t.seriesTypes,a=t.Series.prototype,s=t.Point.prototype;r("arearange","area",{lineWidth:1,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:null,verticalAlign:null,xLow:0,xHigh:0,yLow:0,yHigh:0}},{pointArrayMap:["low","high"],dataLabelCollections:["dataLabel","dataLabelUpper"],toYData:function(t){return[t.low,t.high]},pointValKey:"low",deferTranslatePolar:!0,highToXY:function(t){var e=this.chart,n=this.xAxis.postTranslate(t.rectPlotX,this.yAxis.len-t.plotHigh);t.plotHighX=n.x-e.plotLeft,t.plotHigh=n.y-e.plotTop,t.plotLowX=t.plotX},translate:function(){var t=this,n=t.yAxis,i=!!t.modifyValue;o.area.prototype.translate.apply(t),e(t.points,function(e){var r=e.low,o=e.high,a=e.plotY;null===o||null===r?(e.isNull=!0,e.plotY=null):(e.plotLow=a,e.plotHigh=n.translate(i?t.modifyValue(o,e):o,0,1,0,1),i&&(e.yBottom=e.plotHigh))}),this.chart.polar&&e(this.points,function(e){t.highToXY(e),e.tooltipPos=[(e.plotHighX+e.plotLowX)/2,(e.plotHigh+e.plotLow)/2]})},getGraphPath:function(t){var e,i,r,a,s=[],l=[],u=o.area.prototype.getGraphPath;a=this.options;var d=this.chart.polar&&!1!==a.connectEnds,c=a.connectNulls,h=a.step;for(t=t||this.points,e=t.length;e--;)i=t[e],i.isNull||d||c||t[e+1]&&!t[e+1].isNull||l.push({plotX:i.plotX,plotY:i.plotY,doCurve:!1}),r={polarPlotY:i.polarPlotY,rectPlotX:i.rectPlotX,yBottom:i.yBottom,plotX:n(i.plotHighX,i.plotX),plotY:i.plotHigh,isNull:i.isNull},l.push(r),s.push(r),i.isNull||d||c||t[e-1]&&!t[e-1].isNull||l.push({plotX:i.plotX,plotY:i.plotY,doCurve:!1});return t=u.call(this,t),h&&(!0===h&&(h="left"),a.step={left:"right",center:"center",right:"left"}[h]),s=u.call(this,s),l=u.call(this,l),a.step=h,a=[].concat(t,s),this.chart.polar||"M"!==l[0]||(l[0]="L"),this.graphPath=a,this.areaPath=t.concat(l),a.isArea=!0,a.xMap=t.xMap,this.areaPath.xMap=t.xMap,a},drawDataLabels:function(){var t,e,n,i=this.data,r=i.length,o=[],s=this.options.dataLabels,l=s.align,u=s.verticalAlign,d=s.inside,c=this.chart.inverted;if(s.enabled||this._hasPointLabels){for(t=r;t--;)(e=i[t])&&(n=d?e.plotHigh<e.plotLow:e.plotHigh>e.plotLow,e.y=e.high,e._plotY=e.plotY,e.plotY=e.plotHigh,o[t]=e.dataLabel,e.dataLabel=e.dataLabelUpper,e.below=n,c?l||(s.align=n?"right":"left"):u||(s.verticalAlign=n?"top":"bottom"),s.x=s.xHigh,s.y=s.yHigh);for(a.drawDataLabels&&a.drawDataLabels.apply(this,arguments),t=r;t--;)(e=i[t])&&(n=d?e.plotHigh<e.plotLow:e.plotHigh>e.plotLow,e.dataLabelUpper=e.dataLabel,e.dataLabel=o[t],e.y=e.low,e.plotY=e._plotY,e.below=!n,c?l||(s.align=n?"left":"right"):u||(s.verticalAlign=n?"bottom":"top"),s.x=s.xLow,s.y=s.yLow);a.drawDataLabels&&a.drawDataLabels.apply(this,arguments)}s.align=l,s.verticalAlign=u},alignDataLabel:function(){o.column.prototype.alignDataLabel.apply(this,arguments)},drawPoints:function(){var t,e,n=this.points.length;for(a.drawPoints.apply(this,arguments),e=0;e<n;)t=this.points[e],t.lowerGraphic=t.graphic,t.graphic=t.upperGraphic,t._plotY=t.plotY,t._plotX=t.plotX,t.plotY=t.plotHigh,i(t.plotHighX)&&(t.plotX=t.plotHighX),e++;for(a.drawPoints.apply(this,arguments),e=0;e<n;)t=this.points[e],t.upperGraphic=t.graphic,t.graphic=t.lowerGraphic,t.plotY=t._plotY,t.plotX=t._plotX,e++},setStackedPoints:t.noop},{setState:function(){var t=this.state,e=this.series,n=e.chart.polar;i(this.plotHigh)||(this.plotHigh=e.yAxis.toPixels(this.high,!0)),i(this.plotLow)||(this.plotLow=this.plotY=e.yAxis.toPixels(this.low,!0)),s.setState.apply(this,arguments),this.graphic=this.upperGraphic,this.plotY=this.plotHigh,n&&(this.plotX=this.plotHighX),this.state=t,e.stateMarkerGraphic&&(e.lowerStateMarkerGraphic=e.stateMarkerGraphic,e.stateMarkerGraphic=e.upperStateMarkerGraphic),s.setState.apply(this,arguments),this.plotY=this.plotLow,this.graphic=this.lowerGraphic,n&&(this.plotX=this.plotLowX),e.stateMarkerGraphic&&(e.upperStateMarkerGraphic=e.stateMarkerGraphic,e.stateMarkerGraphic=e.lowerStateMarkerGraphic,e.lowerStateMarkerGraphic=void 0)},haloPath:function(){var t,e=this.series.chart.polar;return this.plotY=this.plotLow,e&&(this.plotX=this.plotLowX),t=s.haloPath.apply(this,arguments),this.plotY=this.plotHigh,e&&(this.plotX=this.plotHighX),t=t.concat(s.haloPath.apply(this,arguments))},destroy:function(){return this.upperGraphic&&(this.upperGraphic=this.upperGraphic.destroy()),s.destroy.apply(this,arguments)}})}(t),function(t){var e=t.seriesType;e("areasplinerange","arearange",null,{getPointSpline:t.seriesTypes.spline.prototype.getPointSpline})}(t),function(t){var e=t.defaultPlotOptions,n=t.each,i=t.merge,r=t.noop,o=t.pick,a=t.seriesType,s=t.seriesTypes.column.prototype;a("columnrange","arearange",i(e.column,e.arearange,{pointRange:null,marker:null,states:{hover:{halo:!1}}}),{translate:function(){var t,e,i=this,r=i.yAxis,a=i.xAxis,l=a.startAngleRad,u=i.chart,d=i.xAxis.isRadial,c=Math.max(u.chartWidth,u.chartHeight)+999;s.translate.apply(i),n(i.points,function(n){var s,h,p=n.shapeArgs,f=i.options.minPointLength;n.plotHigh=e=Math.min(Math.max(-c,r.translate(n.high,0,1,0,1)),c),n.plotLow=Math.min(Math.max(-c,n.plotY),c),h=e,s=o(n.rectPlotY,n.plotY)-e,Math.abs(s)<f?(f-=s,s+=f,h-=f/2):0>s&&(s*=-1,h-=s),d?(t=n.barX+l,n.shapeType="path",n.shapeArgs={d:i.polarArc(h+s,h,t,t+n.pointWidth)}):(p.height=s,p.y=h,n.tooltipPos=u.inverted?[r.len+r.pos-u.plotLeft-h-s/2,a.len+a.pos-u.plotTop-p.x-p.width/2,s]:[a.left-u.plotLeft+p.x+p.width/2,r.pos-u.plotTop+h+s/2,s])})},directTouch:!0,trackerGroups:["group","dataLabelsGroup"],drawGraph:r,getSymbol:r,crispCol:s.crispCol,drawPoints:s.drawPoints,drawTracker:s.drawTracker,getColumnMetrics:s.getColumnMetrics,pointAttribs:s.pointAttribs,animate:function(){return s.animate.apply(this,arguments)},polarArc:function(){return s.polarArc.apply(this,arguments)},translate3dPoints:function(){return s.translate3dPoints.apply(this,arguments)},translate3dShapes:function(){return s.translate3dShapes.apply(this,arguments)}},{setState:s.pointClass.prototype.setState})}(t),function(t){var e=t.each,n=t.isNumber,i=t.merge,r=t.pick,o=t.pInt,a=t.Series,s=t.seriesType,l=t.TrackerMixin;s("gauge","line",{dataLabels:{enabled:!0,defer:!1,y:15,borderRadius:3,crop:!1,verticalAlign:"top",zIndex:2,borderWidth:1,borderColor:"#cccccc"},dial:{},pivot:{},tooltip:{headerFormat:""},showInLegend:!1},{angular:!0,directTouch:!0,drawGraph:t.noop,fixedBox:!0,forceDL:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],translate:function(){var t=this.yAxis,a=this.options,s=t.center;this.generatePoints(),e(this.points,function(e){var l=i(a.dial,e.dial),u=o(r(l.radius,80))*s[2]/200,d=o(r(l.baseLength,70))*u/100,c=o(r(l.rearLength,10))*u/100,h=l.baseWidth||3,p=l.topWidth||1,f=a.overshoot,g=t.startAngleRad+t.translate(e.y,null,null,null,!0);n(f)?(f=f/180*Math.PI,g=Math.max(t.startAngleRad-f,Math.min(t.endAngleRad+f,g))):!1===a.wrap&&(g=Math.max(t.startAngleRad,Math.min(t.endAngleRad,g))),g=180*g/Math.PI,e.shapeType="path",e.shapeArgs={d:l.path||["M",-c,-h/2,"L",d,-h/2,u,-p/2,u,p/2,d,h/2,-c,h/2,"z"],translateX:s[0],translateY:s[1],rotation:g},e.plotX=s[0],e.plotY=s[1]})},drawPoints:function(){var t=this,n=t.yAxis.center,o=t.pivot,a=t.options,s=a.pivot,l=t.chart.renderer;e(t.points,function(e){var n=e.graphic,r=e.shapeArgs,o=r.d,s=i(a.dial,e.dial);n?(n.animate(r),r.d=o):(e.graphic=l[e.shapeType](r).attr({rotation:r.rotation,zIndex:1}).addClass("highcharts-dial").add(t.group),e.graphic.attr({stroke:s.borderColor||"none","stroke-width":s.borderWidth||0,fill:s.backgroundColor||"#000000"}))}),o?o.animate({translateX:n[0],translateY:n[1]}):(t.pivot=l.circle(0,0,r(s.radius,5)).attr({zIndex:2}).addClass("highcharts-pivot").translate(n[0],n[1]).add(t.group),t.pivot.attr({"stroke-width":s.borderWidth||0,stroke:s.borderColor||"#cccccc",fill:s.backgroundColor||"#000000"}))},animate:function(t){var n=this;t||(e(n.points,function(t){var e=t.graphic;e&&(e.attr({rotation:180*n.yAxis.startAngleRad/Math.PI}),e.animate({rotation:t.shapeArgs.rotation},n.options.animation))}),n.animate=null)},render:function(){this.group=this.plotGroup("group","series",this.visible?"visible":"hidden",this.options.zIndex,this.chart.seriesGroup),a.prototype.render.call(this),this.group.clip(this.chart.clipRect)},setData:function(t,e){a.prototype.setData.call(this,t,!1),this.processData(),this.generatePoints(),r(e,!0)&&this.chart.redraw()},drawTracker:l&&l.drawTrackerPoint},{setState:function(t){this.state=t}})}(t),function(t){var e=t.each,n=t.noop,i=t.pick,r=t.seriesType,o=t.seriesTypes;r("boxplot","column",{threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",fillColor:"#ffffff",lineWidth:1,medianWidth:2,states:{hover:{brightness:-.3}},whiskerWidth:2},{pointArrayMap:["low","q1","median","q3","high"],toYData:function(t){return[t.low,t.q1,t.median,t.q3,t.high]},pointValKey:"high",pointAttribs:function(t){var e=this.options,n=t&&t.color||this.color;return{fill:t.fillColor||e.fillColor||n,stroke:e.lineColor||n,"stroke-width":e.lineWidth||0}},drawDataLabels:n,translate:function(){var t=this.yAxis,n=this.pointArrayMap;o.column.prototype.translate.apply(this),e(this.points,function(i){e(n,function(e){null!==i[e]&&(i[e+"Plot"]=t.translate(i[e],0,1,0,1))})})},drawPoints:function(){var t,n,r,o,a,s,l,u,d,c,h,p=this,f=p.options,g=p.chart.renderer,m=0,y=!1!==p.doQuartiles,v=p.options.whiskerLength;e(p.points,function(e){var x=e.graphic,b=x?"animate":"attr",A=e.shapeArgs,w={},S={},E={},C=e.color||p.color;void 0!==e.plotY&&(l=A.width,u=Math.floor(A.x),d=u+l,c=Math.round(l/2),t=Math.floor(y?e.q1Plot:e.lowPlot),n=Math.floor(y?e.q3Plot:e.lowPlot),r=Math.floor(e.highPlot),o=Math.floor(e.lowPlot),x||(e.graphic=x=g.g("point").add(p.group),e.stem=g.path().addClass("highcharts-boxplot-stem").add(x),v&&(e.whiskers=g.path().addClass("highcharts-boxplot-whisker").add(x)),y&&(e.box=g.path(void 0).addClass("highcharts-boxplot-box").add(x)),e.medianShape=g.path(void 0).addClass("highcharts-boxplot-median").add(x)),w.stroke=e.stemColor||f.stemColor||C,w["stroke-width"]=i(e.stemWidth,f.stemWidth,f.lineWidth),w.dashstyle=e.stemDashStyle||f.stemDashStyle,e.stem.attr(w),v&&(S.stroke=e.whiskerColor||f.whiskerColor||C,S["stroke-width"]=i(e.whiskerWidth,f.whiskerWidth,f.lineWidth),e.whiskers.attr(S)),y&&(x=p.pointAttribs(e),e.box.attr(x)),E.stroke=e.medianColor||f.medianColor||C,E["stroke-width"]=i(e.medianWidth,f.medianWidth,f.lineWidth),e.medianShape.attr(E),s=e.stem.strokeWidth()%2/2,m=u+c+s,e.stem[b]({d:["M",m,n,"L",m,r,"M",m,t,"L",m,o]}),y&&(s=e.box.strokeWidth()%2/2,t=Math.floor(t)+s,n=Math.floor(n)+s,u+=s,d+=s,e.box[b]({d:["M",u,n,"L",u,t,"L",d,t,"L",d,n,"L",u,n,"z"]})),v&&(s=e.whiskers.strokeWidth()%2/2,r+=s,o+=s,h=/%$/.test(v)?c*parseFloat(v)/100:v/2,e.whiskers[b]({d:["M",m-h,r,"L",m+h,r,"M",m-h,o,"L",m+h,o]})),a=Math.round(e.medianPlot),s=e.medianShape.strokeWidth()%2/2,a+=s,e.medianShape[b]({d:["M",u,a,"L",d,a]}))})},setStackedPoints:n})}(t),function(t){var e=t.each,n=t.noop,i=t.seriesType,r=t.seriesTypes;i("errorbar","boxplot",{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null},{type:"errorbar",pointArrayMap:["low","high"],toYData:function(t){return[t.low,t.high]},pointValKey:"high",doQuartiles:!1,drawDataLabels:r.arearange?function(){var t=this.pointValKey;r.arearange.prototype.drawDataLabels.call(this),e(this.data,function(e){e.y=e[t]})}:n,getColumnMetrics:function(){return this.linkedParent&&this.linkedParent.columnMetrics||r.column.prototype.getColumnMetrics.call(this)}})}(t),function(t){var e=t.correctFloat,n=t.isNumber,i=t.pick,r=t.Point,o=t.Series,a=t.seriesType,s=t.seriesTypes;a("waterfall","column",{dataLabels:{inside:!0},lineWidth:1,lineColor:"#333333",dashStyle:"dot",borderColor:"#333333",states:{hover:{lineWidthPlus:0}}},{pointValKey:"y",translate:function(){var t,n,r,o,a,l,u,d,c,h,p,f=this.options,g=this.yAxis,m=i(f.minPointLength,5),y=m/2,v=f.threshold,x=f.stacking;for(s.column.prototype.translate.apply(this),d=c=v,n=this.points,t=0,f=n.length;t<f;t++)r=n[t],u=this.processedYData[t],o=r.shapeArgs,a=x&&g.stacks[(this.negStacks&&u<v?"-":"")+this.stackKey],p=this.getStackIndicator(p,r.x,this.index),h=a?a[r.x].points[p.key]:[0,u],r.isSum?r.y=e(u):r.isIntermediateSum&&(r.y=e(u-c)),l=Math.max(d,d+r.y)+h[0],o.y=g.translate(l,0,1,0,1),r.isSum?(o.y=g.translate(h[1],0,1,0,1),o.height=Math.min(g.translate(h[0],0,1,0,1),g.len)-o.y):r.isIntermediateSum?(o.y=g.translate(h[1],0,1,0,1),o.height=Math.min(g.translate(c,0,1,0,1),g.len)-o.y,c=h[1]):(o.height=0<u?g.translate(d,0,1,0,1)-o.y:g.translate(d,0,1,0,1)-g.translate(d-u,0,1,0,1),d+=a&&a[r.x]?a[r.x].total:u),0>o.height&&(o.y+=o.height,o.height*=-1),r.plotY=o.y=Math.round(o.y)-this.borderWidth%2/2,o.height=Math.max(Math.round(o.height),.001),r.yBottom=o.y+o.height,o.height<=m&&!r.isNull?(o.height=m,o.y-=y,r.plotY=o.y,r.minPointLengthOffset=0>r.y?-y:y):r.minPointLengthOffset=0,o=r.plotY+(r.negative?o.height:0),this.chart.inverted?r.tooltipPos[0]=g.len-o:r.tooltipPos[1]=o},processData:function(t){var n,i,r,a,s,l,u,d=this.yData,c=this.options.data,h=d.length;for(r=i=a=s=this.options.threshold||0,u=0;u<h;u++)l=d[u],n=c&&c[u]?c[u]:{},"sum"===l||n.isSum?d[u]=e(r):"intermediateSum"===l||n.isIntermediateSum?d[u]=e(i):(r+=l,i+=l),a=Math.min(r,a),s=Math.max(r,s);o.prototype.processData.call(this,t),this.options.stacking||(this.dataMin=a,this.dataMax=s)},toYData:function(t){return t.isSum?0===t.x?null:"sum":t.isIntermediateSum?0===t.x?null:"intermediateSum":t.y},pointAttribs:function(t,e){var n=this.options.upColor;return n&&!t.options.color&&(t.color=0<t.y?n:null),t=s.column.prototype.pointAttribs.call(this,t,e),delete t.dashstyle,t},getGraphPath:function(){return["M",0,0]},getCrispPath:function(){var t,e,n,i=this.data,r=i.length,o=this.graph.strokeWidth()+this.borderWidth,o=Math.round(o)%2/2,a=this.yAxis.reversed,s=[];for(n=1;n<r;n++)e=i[n].shapeArgs,t=i[n-1].shapeArgs,e=["M",t.x+t.width,t.y+i[n-1].minPointLengthOffset+o,"L",e.x,t.y+i[n-1].minPointLengthOffset+o],(0>i[n-1].y&&!a||0<i[n-1].y&&a)&&(e[2]+=t.height,e[5]+=t.height),s=s.concat(e);return s},drawGraph:function(){o.prototype.drawGraph.call(this),this.graph.attr({d:this.getCrispPath()})},setStackedPoints:function(){var t,e,n=this.options;for(o.prototype.setStackedPoints.apply(this,arguments),t=this.stackedYData?this.stackedYData.length:0,e=1;e<t;e++)n.data[e].isSum||n.data[e].isIntermediateSum||(this.stackedYData[e]+=this.stackedYData[e-1])},getExtremes:function(){if(this.options.stacking)return o.prototype.getExtremes.apply(this,arguments)}},{getClassName:function(){var t=r.prototype.getClassName.call(this);return this.isSum?t+=" highcharts-sum":this.isIntermediateSum&&(t+=" highcharts-intermediate-sum"),t},isValid:function(){return n(this.y,!0)||this.isSum||this.isIntermediateSum}})}(t),function(t){var e=t.Series,n=t.seriesType,i=t.seriesTypes;n("polygon","scatter",{marker:{enabled:!1,states:{hover:{enabled:!1}}},stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:""},trackByArea:!0},{type:"polygon",getGraphPath:function(){for(var t=e.prototype.getGraphPath.call(this),n=t.length+1;n--;)(n===t.length||"M"===t[n])&&0<n&&t.splice(n,0,"z");return this.areaPath=t},drawGraph:function(){this.options.fillColor=this.color,i.area.prototype.drawGraph.call(this)},drawLegendSymbol:t.LegendSymbolMixin.drawRectangle,drawTracker:e.prototype.drawTracker,setStackedPoints:t.noop})}(t),function(t){var e=t.arrayMax,n=t.arrayMin,i=t.Axis,r=t.color,o=t.each,a=t.isNumber,s=t.noop,l=t.pick,u=t.pInt,d=t.Point,c=t.Series,h=t.seriesType,p=t.seriesTypes;h("bubble","scatter",{dataLabels:{formatter:function(){return this.point.z},inside:!0,verticalAlign:"middle"},marker:{lineColor:null,lineWidth:1,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"},{pointArrayMap:["y","z"],parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",bubblePadding:!0,zoneAxis:"z",directTouch:!0,pointAttribs:function(t,e){var n=l(this.options.marker.fillOpacity,.5);return t=c.prototype.pointAttribs.call(this,t,e),1!==n&&(t.fill=r(t.fill).setOpacity(n).get("rgba")),t},getRadii:function(t,e,n,i){var r,o,a,s=this.zData,l=[],u=this.options,d="width"!==u.sizeBy,c=u.zThreshold,h=e-t;for(o=0,r=s.length;o<r;o++)a=s[o],u.sizeByAbsoluteValue&&null!==a&&(a=Math.abs(a-c),e=Math.max(e-c,Math.abs(t-c)),t=0),null===a?a=null:a<t?a=n/2-1:(a=0<h?(a-t)/h:.5,d&&0<=a&&(a=Math.sqrt(a)),a=Math.ceil(n+a*(i-n))/2),l.push(a);this.radii=l},animate:function(t){var e=this.options.animation;t||(o(this.points,function(t){var n,i=t.graphic;i&&i.width&&(n={x:i.x,y:i.y,width:i.width,height:i.height},i.attr({x:t.plotX,y:t.plotY,width:1,height:1}),i.animate(n,e))}),this.animate=null)},translate:function(){var e,n,i,r=this.data,o=this.radii;for(p.scatter.prototype.translate.call(this),e=r.length;e--;)n=r[e],i=o?o[e]:0,a(i)&&i>=this.minPxSize/2?(n.marker=t.extend(n.marker,{radius:i,width:2*i,height:2*i}),n.dlBox={x:n.plotX-i,y:n.plotY-i,width:2*i,height:2*i}):n.shapeArgs=n.plotY=n.dlBox=void 0},alignDataLabel:p.column.prototype.alignDataLabel,buildKDTree:s,applyZones:s},{haloPath:function(t){return d.prototype.haloPath.call(this,0===t?0:(this.marker?this.marker.radius||0:0)+t)},ttBelow:!1}),i.prototype.beforePadding=function(){var t=this,i=this.len,r=this.chart,s=0,d=i,c=this.isXAxis,h=c?"xData":"yData",p=this.min,f={},g=Math.min(r.plotWidth,r.plotHeight),m=Number.MAX_VALUE,y=-Number.MAX_VALUE,v=this.max-p,x=i/v,b=[];o(this.series,function(i){var a=i.options;!i.bubblePadding||!i.visible&&r.options.chart.ignoreHiddenSeries||(t.allowZoomOutside=!0,b.push(i),c&&(o(["minSize","maxSize"],function(t){var e=a[t],n=/%$/.test(e),e=u(e);f[t]=n?g*e/100:e}),i.minPxSize=f.minSize,i.maxPxSize=Math.max(f.maxSize,f.minSize),i=i.zData,i.length&&(m=l(a.zMin,Math.min(m,Math.max(n(i),!1===a.displayNegative?a.zThreshold:-Number.MAX_VALUE))),y=l(a.zMax,Math.max(y,e(i))))))}),o(b,function(e){var n,i=e[h],r=i.length;if(c&&e.getRadii(m,y,e.minPxSize,e.maxPxSize),0<v)for(;r--;)a(i[r])&&t.dataMin<=i[r]&&i[r]<=t.dataMax&&(n=e.radii[r],
s=Math.min((i[r]-p)*x-n,s),d=Math.max((i[r]-p)*x+n,d))}),b.length&&0<v&&!this.isLog&&(d-=i,x*=(i+s-d)/i,o([["min","userMin",s],["max","userMax",d]],function(e){void 0===l(t.options[e[0]],t[e[1]])&&(t[e[0]]+=e[2]/x)}))}}(t),function(t){function e(t,e){var n=this.chart,i=this.options.animation,r=this.group,o=this.markerGroup,a=this.xAxis.center,s=n.plotLeft,l=n.plotTop;n.polar?n.renderer.isSVG&&(!0===i&&(i={}),e?(t={translateX:a[0]+s,translateY:a[1]+l,scaleX:.001,scaleY:.001},r.attr(t),o&&o.attr(t)):(t={translateX:s,translateY:l,scaleX:1,scaleY:1},r.animate(t,i),o&&o.animate(t,i),this.animate=null)):t.call(this,e)}var n=t.each,i=t.pick,r=t.seriesTypes,o=t.wrap,a=t.Series.prototype,s=t.Pointer.prototype;a.searchPointByAngle=function(t){var e=this.chart,n=this.xAxis.pane.center;return this.searchKDTree({clientX:180+-180/Math.PI*Math.atan2(t.chartX-n[0]-e.plotLeft,t.chartY-n[1]-e.plotTop)})},a.getConnectors=function(t,e,n,i){var r,o,a,s,l,u,d,c;return o=i?1:0,r=0<=e&&e<=t.length-1?e:0>e?t.length-1+e:0,e=0>r-1?t.length-(1+o):r-1,o=r+1>t.length-1?o:r+1,a=t[e],o=t[o],s=a.plotX,a=a.plotY,l=o.plotX,u=o.plotY,o=t[r].plotX,r=t[r].plotY,s=(1.5*o+s)/2.5,a=(1.5*r+a)/2.5,l=(1.5*o+l)/2.5,d=(1.5*r+u)/2.5,u=Math.sqrt(Math.pow(s-o,2)+Math.pow(a-r,2)),c=Math.sqrt(Math.pow(l-o,2)+Math.pow(d-r,2)),s=Math.atan2(a-r,s-o),d=Math.PI/2+(s+Math.atan2(d-r,l-o))/2,Math.abs(s-d)>Math.PI/2&&(d-=Math.PI),s=o+Math.cos(d)*u,a=r+Math.sin(d)*u,l=o+Math.cos(Math.PI+d)*c,d=r+Math.sin(Math.PI+d)*c,o={rightContX:l,rightContY:d,leftContX:s,leftContY:a,plotX:o,plotY:r},n&&(o.prevPointCont=this.getConnectors(t,e,!1,i)),o},o(a,"buildKDTree",function(t){this.chart.polar&&(this.kdByAngle?this.searchPoint=this.searchPointByAngle:this.options.findNearestPointBy="xy"),t.apply(this)}),a.toXY=function(t){var e,n=this.chart,i=t.plotX;e=t.plotY,t.rectPlotX=i,t.rectPlotY=e,e=this.xAxis.postTranslate(t.plotX,this.yAxis.len-e),t.plotX=t.polarPlotX=e.x-n.plotLeft,t.plotY=t.polarPlotY=e.y-n.plotTop,this.kdByAngle?(n=(i/Math.PI*180+this.xAxis.pane.options.startAngle)%360,0>n&&(n+=360),t.clientX=n):t.clientX=t.plotX},r.spline&&(o(r.spline.prototype,"getPointSpline",function(t,e,n,i){return this.chart.polar?i?(t=this.getConnectors(e,i,!0,this.connectEnds),t=["C",t.prevPointCont.rightContX,t.prevPointCont.rightContY,t.leftContX,t.leftContY,t.plotX,t.plotY]):t=["M",n.plotX,n.plotY]:t=t.call(this,e,n,i),t}),r.areasplinerange&&(r.areasplinerange.prototype.getPointSpline=r.spline.prototype.getPointSpline)),o(a,"translate",function(t){var e=this.chart;if(t.call(this),e.polar&&(this.kdByAngle=e.tooltip&&e.tooltip.shared,!this.preventPostTranslate))for(t=this.points,e=t.length;e--;)this.toXY(t[e])}),o(a,"getGraphPath",function(t,e){var i,r,o,a=this;if(this.chart.polar){for(e=e||this.points,i=0;i<e.length;i++)if(!e[i].isNull){r=i;break}!1!==this.options.connectEnds&&void 0!==r&&(this.connectEnds=!0,e.splice(e.length,0,e[r]),o=!0),n(e,function(t){void 0===t.polarPlotY&&a.toXY(t)})}return i=t.apply(this,[].slice.call(arguments,1)),o&&e.pop(),i}),o(a,"animate",e),r.column&&(r=r.column.prototype,r.polarArc=function(t,e,n,r){var o=this.xAxis.center,a=this.yAxis.len;return this.chart.renderer.symbols.arc(o[0],o[1],a-e,null,{start:n,end:r,innerR:a-i(t,a)})},o(r,"animate",e),o(r,"translate",function(t){var e,n,i,r=this.xAxis,o=r.startAngleRad;if(this.preventPostTranslate=!0,t.call(this),r.isRadial)for(e=this.points,i=e.length;i--;)n=e[i],t=n.barX+o,n.shapeType="path",n.shapeArgs={d:this.polarArc(n.yBottom,n.plotY,t,t+n.pointWidth)},this.toXY(n),n.tooltipPos=[n.plotX,n.plotY],n.ttBelow=n.plotY>r.center[1]}),o(r,"alignDataLabel",function(t,e,n,i,r,o){this.chart.polar?(t=e.rectPlotX/Math.PI*180,null===i.align&&(i.align=20<t&&160>t?"left":200<t&&340>t?"right":"center"),null===i.verticalAlign&&(i.verticalAlign=45>t||315<t?"bottom":135<t&&225>t?"top":"middle"),a.alignDataLabel.call(this,e,n,i,r,o)):t.call(this,e,n,i,r,o)})),o(s,"getCoordinates",function(t,e){var i=this.chart,r={xAxis:[],yAxis:[]};return i.polar?n(i.axes,function(t){var n=t.isXAxis,o=t.center,a=e.chartX-o[0]-i.plotLeft,o=e.chartY-o[1]-i.plotTop;r[n?"xAxis":"yAxis"].push({axis:t,value:t.translate(n?Math.PI-Math.atan2(a,o):Math.sqrt(Math.pow(a,2)+Math.pow(o,2)),!0)})}):r=t.call(this,e),r}),o(t.Chart.prototype,"getAxes",function(e){this.pane||(this.pane=[]),n(t.splat(this.options.pane),function(e){new t.Pane(e,this)},this),e.call(this)}),o(t.Chart.prototype,"drawChartBox",function(t){t.call(this),n(this.pane,function(t){t.render()})}),o(t.Chart.prototype,"get",function(e,n){return t.find(this.pane,function(t){return t.options.id===n})||e.call(this,n)})}(t)})},function(t,e){!function(e){"object"==typeof t&&t.exports?t.exports=e:e(Highcharts)}(function(t){!function(t){var e=t.seriesTypes,n=t.Chart.prototype,i=t.getOptions(),r=t.extend,o=t.each;r(i.lang,{noData:"No data to display"}),i.noData={position:{x:0,y:0,align:"center",verticalAlign:"middle"}},i.noData.style={fontWeight:"bold",fontSize:"12px",color:"#666666"},o("bubble gauge heatmap pie sankey treemap waterfall".split(" "),function(t){e[t]&&(e[t].prototype.hasData=function(){return!!this.points.length})}),t.Series.prototype.hasData=function(){return this.visible&&void 0!==this.dataMax&&void 0!==this.dataMin},n.showNoData=function(t){var e=this.options;t=t||e.lang.noData,e=e.noData,this.noDataLabel||(this.noDataLabel=this.renderer.label(t,0,0,null,null,null,e.useHTML,null,"no-data"),this.noDataLabel.attr(e.attr).css(e.style),this.noDataLabel.add(),this.noDataLabel.align(r(this.noDataLabel.getBBox(),e.position),!1,"plotBox"))},n.hideNoData=function(){this.noDataLabel&&(this.noDataLabel=this.noDataLabel.destroy())},n.hasData=function(){for(var t=this.series,e=t.length;e--;)if(t[e].hasData()&&!t[e].options.isInternal)return!0;return this.loadingShown},t.addEvent(n,"render",function(){this.hasData()?this.hideNoData():this.showNoData()})}(t)})},function(t,e){!function(e){"object"==typeof t&&t.exports?t.exports=e:e(Highcharts)}(function(t){!function(t){var e,n=t.pInt,i=t.pick,r=t.each,o=t.isNumber,a=t.wrap;a(t.Renderer.prototype.symbols,"arc",function(t,e,n,i,r,o){return t=t(e,n,i,r,o),o.rounded&&(i=((o.r||i)-o.innerR)/2,o=["A",i,i,0,1,1,t[12],t[13]],t.splice.apply(t,[t.length-1,0].concat(["A",i,i,0,1,1,t[1],t[2]])),t.splice.apply(t,[11,3].concat(o))),t}),e={initDataClasses:function(e){var n,i=this.chart,o=0,a=this.options;this.dataClasses=n=[],r(e.dataClasses,function(r,s){r=t.merge(r),n.push(r),r.color||("category"===a.dataClassColor?(s=i.options.colors,r.color=s[o++],o===s.length&&(o=0)):r.color=t.color(a.minColor).tweenTo(t.color(a.maxColor),s/(e.dataClasses.length-1)))})},initStops:function(e){this.stops=e.stops||[[0,this.options.minColor],[1,this.options.maxColor]],r(this.stops,function(e){e.color=t.color(e[1])})},toColor:function(t,e){var n,i,r,o,a=this.stops,s=this.dataClasses;if(s){for(o=s.length;o--;)if(r=s[o],n=r.from,a=r.to,(void 0===n||t>=n)&&(void 0===a||t<=a)){i=r.color,e&&(e.dataClass=o);break}}else{for(this.isLog&&(t=this.val2lin(t)),t=1-(this.max-t)/(this.max-this.min),o=a.length;o--&&!(t>a[o][0]););n=a[o]||a[o+1],a=a[o+1]||n,t=1-(a[0]-t)/(a[0]-n[0]||1),i=n.color.tweenTo(a.color,t)}return i}},t.seriesType("solidgauge","gauge",{colorByPoint:!0},{translate:function(){var n=this.yAxis;t.extend(n,e),!n.dataClasses&&n.options.dataClasses&&n.initDataClasses(n.options),n.initStops(n.options),t.seriesTypes.gauge.prototype.translate.call(this)},drawPoints:function(){var e,a=this,s=a.yAxis,l=s.center,u=a.options,d=a.chart.renderer,c=u.overshoot,h=o(c)?c/180*Math.PI:0;o(u.threshold)&&(e=s.startAngleRad+s.translate(u.threshold,null,null,null,!0)),this.thresholdAngleRad=i(e,s.startAngleRad),r(a.points,function(e){var r=e.graphic,o=s.startAngleRad+s.translate(e.y,null,null,null,!0),c=n(i(e.options.radius,u.radius,100))*l[2]/200,p=n(i(e.options.innerRadius,u.innerRadius,60))*l[2]/200,f=s.toColor(e.y,e),g=Math.min(s.startAngleRad,s.endAngleRad),m=Math.max(s.startAngleRad,s.endAngleRad);"none"===f&&(f=e.color||a.color||"none"),"none"!==f&&(e.color=f),o=Math.max(g-h,Math.min(m+h,o)),!1===u.wrap&&(o=Math.max(g,Math.min(m,o))),g=Math.min(o,a.thresholdAngleRad),o=Math.max(o,a.thresholdAngleRad),o-g>2*Math.PI&&(o=g+2*Math.PI),e.shapeArgs=p={x:l[0],y:l[1],r:c,innerR:p,start:g,end:o,rounded:u.rounded},e.startR=c,r?(e=p.d,r.animate(t.extend({fill:f},p)),e&&(p.d=e)):(e.graphic=d.arc(p).addClass(e.getClassName(),!0).attr({fill:f,"sweep-flag":0}).add(a.group),"square"!==u.linecap&&e.graphic.attr({"stroke-linecap":"round","stroke-linejoin":"round"}),e.graphic.attr({stroke:u.borderColor||"none","stroke-width":u.borderWidth||0}))})},animate:function(e){e||(this.startAngleRad=this.thresholdAngleRad,t.seriesTypes.pie.prototype.animate.call(this,e))}})}(t)})},function(t,e,n){var i;!function(r,o){"object"==typeof t&&t.exports?t.exports=r.document?o(r):o:(i=function(){return o(r)}.call(e,n,e,t),!(void 0!==i&&(t.exports=i)))}("undefined"!=typeof window?window:this,function(t){var e=function(){var e="undefined"==typeof t?window:t,n=e.document,i=e.navigator&&e.navigator.userAgent||"",r=n&&n.createElementNS&&!!n.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,o=/(edge|msie|trident)/i.test(i)&&!e.opera,a=-1!==i.indexOf("Firefox"),s=-1!==i.indexOf("Chrome"),l=a&&4>parseInt(i.split("Firefox/")[1],10);return e.Highcharts?e.Highcharts.error(16,!0):{product:"Highcharts",version:"6.2.0",deg2rad:2*Math.PI/360,doc:n,hasBidiBug:l,hasTouch:n&&void 0!==n.documentElement.ontouchstart,isMS:o,isWebKit:-1!==i.indexOf("AppleWebKit"),isFirefox:a,isChrome:s,isSafari:!s&&-1!==i.indexOf("Safari"),isTouchDevice:/(Mobile|Android|Windows Phone)/.test(i),SVG_NS:"http://www.w3.org/2000/svg",chartCount:0,seriesTypes:{},symbolSizes:{},svg:r,win:e,marginNames:["plotTop","marginRight","marginBottom","plotLeft"],noop:function(){},charts:[]}}();!function(t){t.timers=[];var e=t.charts,n=t.doc,i=t.win;t.error=function(e,n){if(e=t.isNumber(e)?"Highcharts error #"+e+": www.highcharts.com/errors/"+e:e,n)throw Error(e);i.console&&console.log(e)},t.Fx=function(t,e,n){this.options=e,this.elem=t,this.prop=n},t.Fx.prototype={dSetter:function(){var t,e=this.paths[0],n=this.paths[1],i=[],r=this.now,o=e.length;if(1===r)i=this.toD;else if(o===n.length&&1>r)for(;o--;)t=parseFloat(e[o]),i[o]=isNaN(t)?n[o]:r*parseFloat(n[o]-t)+t;else i=n;this.elem.attr("d",i,null,!0)},update:function(){var t=this.elem,e=this.prop,n=this.now,i=this.options.step;this[e+"Setter"]?this[e+"Setter"]():t.attr?t.element&&t.attr(e,n,null,!0):t.style[e]=n+this.unit,i&&i.call(t,n,this)},run:function(e,n,r){var o=this,a=o.options,s=function(t){return!s.stopped&&o.step(t)},l=i.requestAnimationFrame||function(t){setTimeout(t,13)},u=function(){for(var e=0;e<t.timers.length;e++)t.timers[e]()||t.timers.splice(e--,1);t.timers.length&&l(u)};e!==n||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=e,this.end=n,this.unit=r,this.now=this.start,this.pos=0,s.elem=this.elem,s.prop=this.prop,s()&&1===t.timers.push(s)&&l(u)):(delete a.curAnim[this.prop],a.complete&&0===t.keys(a.curAnim).length&&a.complete.call(this.elem))},step:function(e){var n,i=+new Date,r=this.options,o=this.elem,a=r.complete,s=r.duration,l=r.curAnim;return o.attr&&!o.element?e=!1:e||i>=s+this.startTime?(this.now=this.end,this.pos=1,this.update(),n=l[this.prop]=!0,t.objectEach(l,function(t){!0!==t&&(n=!1)}),n&&a&&a.call(o),e=!1):(this.pos=r.easing((i-this.startTime)/s),this.now=this.start+(this.end-this.start)*this.pos,this.update(),e=!0),e},initPath:function(e,n,i){function r(t){var e,n;for(d=t.length;d--;)e="M"===t[d]||"L"===t[d],n=/[a-zA-Z]/.test(t[d+3]),e&&n&&t.splice(d+1,0,t[d+1],t[d+2],t[d+1],t[d+2])}function o(t,e){for(;t.length<l;){t[0]=e[l-t.length];var n=t.slice(0,f);[].splice.apply(t,[0,0].concat(n)),m&&(n=t.slice(t.length-f),[].splice.apply(t,[t.length,0].concat(n)),d--)}t[0]="M"}function a(t,e){for(var n=(l-t.length)/f;0<n&&n--;)u=t.slice().splice(t.length/y-f,f*y),u[0]=e[l-f-n*f],p&&(u[f-6]=u[f-2],u[f-5]=u[f-1]),[].splice.apply(t,[t.length/y,0].concat(u)),m&&n--}n=n||"";var s,l,u,d,c=e.startX,h=e.endX,p=-1<n.indexOf("C"),f=p?7:3;n=n.split(" "),i=i.slice();var g,m=e.isArea,y=m?2:1;if(p&&(r(n),r(i)),c&&h){for(d=0;d<c.length;d++){if(c[d]===h[0]){s=d;break}if(c[0]===h[h.length-c.length+d]){s=d,g=!0;break}}void 0===s&&(n=[])}return n.length&&t.isNumber(s)&&(l=i.length+s*y*f,g?(o(n,i),a(i,n)):(o(i,n),a(n,i))),[n,i]},fillSetter:function(){t.Fx.prototype.strokeSetter.apply(this,arguments)},strokeSetter:function(){this.elem.attr(this.prop,t.color(this.start).tweenTo(t.color(this.end),this.pos),null,!0)}},t.merge=function(){var e,n,i=arguments,r={},o=function(e,n){return"object"!=typeof e&&(e={}),t.objectEach(n,function(i,r){!t.isObject(i,!0)||t.isClass(i)||t.isDOMElement(i)?e[r]=n[r]:e[r]=o(e[r]||{},i)}),e};for(!0===i[0]&&(r=i[1],i=Array.prototype.slice.call(i,2)),n=i.length,e=0;e<n;e++)r=o(r,i[e]);return r},t.pInt=function(t,e){return parseInt(t,e||10)},t.isString=function(t){return"string"==typeof t},t.isArray=function(t){return t=Object.prototype.toString.call(t),"[object Array]"===t||"[object Array Iterator]"===t},t.isObject=function(e,n){return!(!e||"object"!=typeof e||n&&t.isArray(e))},t.isDOMElement=function(e){return t.isObject(e)&&"number"==typeof e.nodeType},t.isClass=function(e){var n=e&&e.constructor;return!(!t.isObject(e,!0)||t.isDOMElement(e)||!n||!n.name||"Object"===n.name)},t.isNumber=function(t){return"number"==typeof t&&!isNaN(t)&&1/0>t&&-(1/0)<t},t.erase=function(t,e){for(var n=t.length;n--;)if(t[n]===e){t.splice(n,1);break}},t.defined=function(t){return void 0!==t&&null!==t},t.attr=function(e,n,i){var r;return t.isString(n)?t.defined(i)?e.setAttribute(n,i):e&&e.getAttribute&&((r=e.getAttribute(n))||"class"!==n||(r=e.getAttribute(n+"Name"))):t.defined(n)&&t.isObject(n)&&t.objectEach(n,function(t,n){e.setAttribute(n,t)}),r},t.splat=function(e){return t.isArray(e)?e:[e]},t.syncTimeout=function(t,e,n){return e?setTimeout(t,e,n):void t.call(0,n)},t.clearTimeout=function(e){t.defined(e)&&clearTimeout(e)},t.extend=function(t,e){var n;t||(t={});for(n in e)t[n]=e[n];return t},t.pick=function(){var t,e,n=arguments,i=n.length;for(t=0;t<i;t++)if(e=n[t],void 0!==e&&null!==e)return e},t.css=function(e,n){t.isMS&&!t.svg&&n&&void 0!==n.opacity&&(n.filter="alpha(opacity="+100*n.opacity+")"),t.extend(e.style,n)},t.createElement=function(e,i,r,o,a){e=n.createElement(e);var s=t.css;return i&&t.extend(e,i),a&&s(e,{padding:0,border:"none",margin:0}),r&&s(e,r),o&&o.appendChild(e),e},t.extendClass=function(e,n){var i=function(){};return i.prototype=new e,t.extend(i.prototype,n),i},t.pad=function(t,e,n){return Array((e||2)+1-String(t).replace("-","").length).join(n||0)+t},t.relativeLength=function(t,e,n){return/%$/.test(t)?e*parseFloat(t)/100+(n||0):parseFloat(t)},t.wrap=function(t,e,n){var i=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments),e=arguments,r=this;return r.proceed=function(){i.apply(r,arguments.length?arguments:e)},t.unshift(i),t=n.apply(this,t),r.proceed=null,t}},t.datePropsToTimestamps=function(e){t.objectEach(e,function(n,i){t.isObject(n)&&"function"==typeof n.getTime?e[i]=n.getTime():(t.isObject(n)||t.isArray(n))&&t.datePropsToTimestamps(n)})},t.formatSingle=function(e,n,i){var r=/\.([0-9])/,o=t.defaultOptions.lang;return/f$/.test(e)?(i=(i=e.match(r))?i[1]:-1,null!==n&&(n=t.numberFormat(n,i,o.decimalPoint,-1<e.indexOf(",")?o.thousandsSep:""))):n=(i||t.time).dateFormat(e,n),n},t.format=function(e,n,i){for(var r,o,a,s,l,u="{",d=!1,c=[];e&&(u=e.indexOf(u),-1!==u);){if(r=e.slice(0,u),d){for(r=r.split(":"),o=r.shift().split("."),s=o.length,l=n,a=0;a<s;a++)l&&(l=l[o[a]]);r.length&&(l=t.formatSingle(r.join(":"),l,i)),c.push(l)}else c.push(r);e=e.slice(u+1),u=(d=!d)?"}":"{"}return c.push(e),c.join("")},t.getMagnitude=function(t){return Math.pow(10,Math.floor(Math.log(t)/Math.LN10))},t.normalizeTickInterval=function(e,n,i,r,o){var a,s=e;for(i=t.pick(i,1),a=e/i,n||(n=o?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===r&&(1===i?n=t.grep(n,function(t){return 0===t%1}):.1>=i&&(n=[1/i]))),r=0;r<n.length&&(s=n[r],!(o&&s*i>=e||!o&&a<=(n[r]+(n[r+1]||n[r]))/2));r++);return s=t.correctFloat(s*i,-Math.round(Math.log(.001)/Math.LN10))},t.stableSort=function(t,e){var n,i,r=t.length;for(i=0;i<r;i++)t[i].safeI=i;for(t.sort(function(t,i){return n=e(t,i),0===n?t.safeI-i.safeI:n}),i=0;i<r;i++)delete t[i].safeI},t.arrayMin=function(t){for(var e=t.length,n=t[0];e--;)t[e]<n&&(n=t[e]);return n},t.arrayMax=function(t){for(var e=t.length,n=t[0];e--;)t[e]>n&&(n=t[e]);return n},t.destroyObjectProperties=function(e,n){t.objectEach(e,function(t,i){t&&t!==n&&t.destroy&&t.destroy(),delete e[i]})},t.discardElement=function(e){var n=t.garbageBin;n||(n=t.createElement("div")),e&&n.appendChild(e),n.innerHTML=""},t.correctFloat=function(t,e){return parseFloat(t.toPrecision(e||14))},t.setAnimation=function(e,n){n.renderer.globalAnimation=t.pick(e,n.options.chart.animation,!0)},t.animObject=function(e){return t.isObject(e)?t.merge(e):{duration:e?500:0}},t.timeUnits={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},t.numberFormat=function(e,n,i,r){e=+e||0,n=+n;var o,a,s=t.defaultOptions.lang,l=(e.toString().split(".")[1]||"").split("e")[0].length,u=e.toString().split("e");return-1===n?n=Math.min(l,20):t.isNumber(n)?n&&u[1]&&0>u[1]&&(o=n+ +u[1],0<=o?(u[0]=(+u[0]).toExponential(o).split("e")[0],n=o):(u[0]=u[0].split(".")[0]||0,e=20>n?(u[0]*Math.pow(10,u[1])).toFixed(n):0,u[1]=0)):n=2,a=(Math.abs(u[1]?u[0]:e)+Math.pow(10,-Math.max(n,l)-1)).toFixed(n),l=String(t.pInt(a)),o=3<l.length?l.length%3:0,i=t.pick(i,s.decimalPoint),r=t.pick(r,s.thousandsSep),e=(0>e?"-":"")+(o?l.substr(0,o)+r:""),e+=l.substr(o).replace(/(\d{3})(?=\d)/g,"$1"+r),n&&(e+=i+a.slice(-n)),u[1]&&0!==+e&&(e+="e"+u[1]),e},Math.easeInOutSine=function(t){return-.5*(Math.cos(Math.PI*t)-1)},t.getStyle=function(e,n,r){return"width"===n?Math.max(0,Math.min(e.offsetWidth,e.scrollWidth)-t.getStyle(e,"padding-left")-t.getStyle(e,"padding-right")):"height"===n?Math.max(0,Math.min(e.offsetHeight,e.scrollHeight)-t.getStyle(e,"padding-top")-t.getStyle(e,"padding-bottom")):(i.getComputedStyle||t.error(27,!0),(e=i.getComputedStyle(e,void 0))&&(e=e.getPropertyValue(n),t.pick(r,"opacity"!==n)&&(e=t.pInt(e))),e)},t.inArray=function(e,n,i){return(t.indexOfPolyfill||Array.prototype.indexOf).call(n,e,i)},t.grep=function(e,n){return(t.filterPolyfill||Array.prototype.filter).call(e,n)},t.find=Array.prototype.find?function(t,e){return t.find(e)}:function(t,e){var n,i=t.length;for(n=0;n<i;n++)if(e(t[n],n))return t[n]},t.some=function(e,n,i){return(t.somePolyfill||Array.prototype.some).call(e,n,i)},t.map=function(t,e){for(var n=[],i=0,r=t.length;i<r;i++)n[i]=e.call(t[i],t[i],i,t);return n},t.keys=function(e){return(t.keysPolyfill||Object.keys).call(void 0,e)},t.reduce=function(e,n,i){return(t.reducePolyfill||Array.prototype.reduce).apply(e,2<arguments.length?[n,i]:[n])},t.offset=function(t){var e=n.documentElement;return t=t.parentElement||t.parentNode?t.getBoundingClientRect():{top:0,left:0},{top:t.top+(i.pageYOffset||e.scrollTop)-(e.clientTop||0),left:t.left+(i.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}},t.stop=function(e,n){for(var i=t.timers.length;i--;)t.timers[i].elem!==e||n&&n!==t.timers[i].prop||(t.timers[i].stopped=!0)},t.each=function(e,n,i){return(t.forEachPolyfill||Array.prototype.forEach).call(e,n,i)},t.objectEach=function(t,e,n){for(var i in t)t.hasOwnProperty(i)&&e.call(n||t[i],t[i],i,t)},t.addEvent=function(e,n,i,r){var o,a=e.addEventListener||t.addEventListenerPolyfill;return o="function"==typeof e&&e.prototype?e.prototype.protoEvents=e.prototype.protoEvents||{}:e.hcEvents=e.hcEvents||{},t.Point&&e instanceof t.Point&&e.series&&e.series.chart&&(e.series.chart.runTrackerClick=!0),a&&a.call(e,n,i,!1),o[n]||(o[n]=[]),o[n].push(i),r&&t.isNumber(r.order)&&(i.order=r.order,o[n].sort(function(t,e){return t.order-e.order})),function(){t.removeEvent(e,n,i)}},t.removeEvent=function(e,n,i){function r(n,i){var r=e.removeEventListener||t.removeEventListenerPolyfill;r&&r.call(e,n,i,!1)}function o(i){var o,a;e.nodeName&&(n?(o={},o[n]=!0):o=i,t.objectEach(o,function(t,e){if(i[e])for(a=i[e].length;a--;)r(e,i[e][a])}))}var a,s;t.each(["protoEvents","hcEvents"],function(l){var u=e[l];u&&(n?(a=u[n]||[],i?(s=t.inArray(i,a),-1<s&&(a.splice(s,1),u[n]=a),r(n,i)):(o(u),u[n]=[])):(o(u),e[l]={}))})},t.fireEvent=function(e,i,r,o){var a,s,l,u,d;r=r||{},n.createEvent&&(e.dispatchEvent||e.fireEvent)?(a=n.createEvent("Events"),a.initEvent(i,!0,!0),t.extend(a,r),e.dispatchEvent?e.dispatchEvent(a):e.fireEvent(i,a)):t.each(["protoEvents","hcEvents"],function(n){if(e[n])for(s=e[n][i]||[],l=s.length,r.target||t.extend(r,{preventDefault:function(){r.defaultPrevented=!0},target:e,type:i}),u=0;u<l;u++)(d=s[u])&&!1===d.call(e,r)&&r.preventDefault()}),o&&!r.defaultPrevented&&o.call(e,r)},t.animate=function(e,n,i){var r,o,a,s,l="";t.isObject(i)||(s=arguments,i={duration:s[2],easing:s[3],complete:s[4]}),t.isNumber(i.duration)||(i.duration=400),i.easing="function"==typeof i.easing?i.easing:Math[i.easing]||Math.easeInOutSine,i.curAnim=t.merge(n),t.objectEach(n,function(s,u){t.stop(e,u),a=new t.Fx(e,i,u),o=null,"d"===u?(a.paths=a.initPath(e,e.d,n.d),a.toD=n.d,r=0,o=1):e.attr?r=e.attr(u):(r=parseFloat(t.getStyle(e,u))||0,"opacity"!==u&&(l="px")),o||(o=s),o&&o.match&&o.match("px")&&(o=o.replace(/px/g,"")),a.run(r,o,l)})},t.seriesType=function(e,n,i,r,o){var a=t.getOptions(),s=t.seriesTypes;return a.plotOptions[e]=t.merge(a.plotOptions[n],i),s[e]=t.extendClass(s[n]||function(){},r),s[e].prototype.type=e,o&&(s[e].prototype.pointClass=t.extendClass(t.Point,o)),s[e]},t.uniqueKey=function(){var t=Math.random().toString(36).substring(2,9),e=0;return function(){return"highcharts-"+t+"-"+e++}}(),i.jQuery&&(i.jQuery.fn.highcharts=function(){var n=[].slice.call(arguments);if(this[0])return n[0]?(new(t[t.isString(n[0])?n.shift():"Chart"])(this[0],n[0],n[1]),this):e[t.attr(this[0],"data-highcharts-chart")]})}(e),function(t){var e=t.each,n=t.isNumber,i=t.map,r=t.merge,o=t.pInt;t.Color=function(e){return this instanceof t.Color?void this.init(e):new t.Color(e)},t.Color.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(t){return[o(t[1]),o(t[2]),o(t[3]),parseFloat(t[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(t){return[o(t[1]),o(t[2]),o(t[3]),1]}}],names:{white:"#ffffff",black:"#000000"},init:function(e){var n,r,o,a;if((this.input=e=this.names[e&&e.toLowerCase?e.toLowerCase():""]||e)&&e.stops)this.stops=i(e.stops,function(e){return new t.Color(e[1])});else if(e&&e.charAt&&"#"===e.charAt()&&(n=e.length,e=parseInt(e.substr(1),16),7===n?r=[(16711680&e)>>16,(65280&e)>>8,255&e,1]:4===n&&(r=[(3840&e)>>4|(3840&e)>>8,(240&e)>>4|240&e,(15&e)<<4|15&e,1])),!r)for(o=this.parsers.length;o--&&!r;)a=this.parsers[o],(n=a.regex.exec(e))&&(r=a.parse(n));this.rgba=r||[]},get:function(t){var i,o=this.input,a=this.rgba;return this.stops?(i=r(o),i.stops=[].concat(i.stops),e(this.stops,function(e,n){i.stops[n]=[i.stops[n][0],e.get(t)]})):i=a&&n(a[0])?"rgb"===t||!t&&1===a[3]?"rgb("+a[0]+","+a[1]+","+a[2]+")":"a"===t?a[3]:"rgba("+a.join(",")+")":o,i},brighten:function(t){var i,r=this.rgba;if(this.stops)e(this.stops,function(e){e.brighten(t)});else if(n(t)&&0!==t)for(i=0;3>i;i++)r[i]+=o(255*t),0>r[i]&&(r[i]=0),255<r[i]&&(r[i]=255);return this},setOpacity:function(t){return this.rgba[3]=t,this},tweenTo:function(t,e){var n=this.rgba,i=t.rgba;return i.length&&n&&n.length?(t=1!==i[3]||1!==n[3],e=(t?"rgba(":"rgb(")+Math.round(i[0]+(n[0]-i[0])*(1-e))+","+Math.round(i[1]+(n[1]-i[1])*(1-e))+","+Math.round(i[2]+(n[2]-i[2])*(1-e))+(t?","+(i[3]+(n[3]-i[3])*(1-e)):"")+")"):e=t.input||"none",e}},t.color=function(e){return new t.Color(e)}}(e),function(t){var e,n,i=t.addEvent,r=t.animate,o=t.attr,a=t.charts,s=t.color,l=t.css,u=t.createElement,d=t.defined,c=t.deg2rad,h=t.destroyObjectProperties,p=t.doc,f=t.each,g=t.extend,m=t.erase,y=t.grep,v=t.hasTouch,x=t.inArray,b=t.isArray,A=t.isFirefox,w=t.isMS,S=t.isObject,E=t.isString,C=t.isWebKit,P=t.merge,M=t.noop,T=t.objectEach,k=t.pick,I=t.pInt,_=t.removeEvent,O=t.stop,D=t.svg,R=t.SVG_NS,L=t.symbolSizes,B=t.win;e=t.SVGElement=function(){return this},g(e.prototype,{opacity:1,SVG_NS:R,textProps:"direction fontSize fontWeight fontFamily fontStyle color lineHeight width textAlign textDecoration textOverflow textOutline cursor".split(" "),init:function(t,e){this.element="span"===e?u(e):p.createElementNS(this.SVG_NS,e),this.renderer=t},animate:function(e,n,i){return n=t.animObject(k(n,this.renderer.globalAnimation,!0)),0!==n.duration?(i&&(n.complete=i),r(this,e,n)):(this.attr(e,null,i),n.step&&n.step.call(this)),this},complexColor:function(e,n,i){var r,o,a,s,l,u,c,h,p,g,m,y,v=this.renderer,x=[];t.fireEvent(this.renderer,"complexColor",{args:arguments},function(){e.radialGradient?o="radialGradient":e.linearGradient&&(o="linearGradient"),o&&(a=e[o],l=v.gradients,c=e.stops,g=i.radialReference,b(a)&&(e[o]=a={x1:a[0],y1:a[1],x2:a[2],y2:a[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===o&&g&&!d(a.gradientUnits)&&(s=a,a=P(a,v.getRadialAttr(g,s),{gradientUnits:"userSpaceOnUse"})),T(a,function(t,e){"id"!==e&&x.push(e,t)}),T(c,function(t){x.push(t)}),x=x.join(","),l[x]?m=l[x].attr("id"):(a.id=m=t.uniqueKey(),l[x]=u=v.createElement(o).attr(a).add(v.defs),u.radAttr=s,u.stops=[],f(c,function(e){0===e[1].indexOf("rgba")?(r=t.color(e[1]),h=r.get("rgb"),p=r.get("a")):(h=e[1],p=1),e=v.createElement("stop").attr({offset:e[0],"stop-color":h,"stop-opacity":p}).add(u),u.stops.push(e)})),y="url("+v.url+"#"+m+")",i.setAttribute(n,y),i.gradient=x,e.toString=function(){return y})})},applyTextOutline:function(e){var n,i,r,a,s,l=this.element;if(-1!==e.indexOf("contrast")&&(e=e.replace(/contrast/g,this.renderer.getContrast(l.style.fill))),e=e.split(" "),i=e[e.length-1],(r=e[0])&&"none"!==r&&t.svg){for(this.fakeTS=!0,e=[].slice.call(l.getElementsByTagName("tspan")),this.ySetter=this.xSetter,r=r.replace(/(^[\d\.]+)(.*?)$/g,function(t,e,n){return 2*e+n}),s=e.length;s--;)n=e[s],"highcharts-text-outline"===n.getAttribute("class")&&m(e,l.removeChild(n));a=l.firstChild,f(e,function(t,e){0===e&&(t.setAttribute("x",l.getAttribute("x")),e=l.getAttribute("y"),t.setAttribute("y",e||0),null===e&&l.setAttribute("y",0)),t=t.cloneNode(1),o(t,{"class":"highcharts-text-outline",fill:i,stroke:i,"stroke-width":r,"stroke-linejoin":"round"}),l.insertBefore(t,a)})}},attr:function(t,e,n,i){var r,o,a,s,l=this.element,u=this;return"string"==typeof t&&void 0!==e&&(r=t,t={},t[r]=e),"string"==typeof t?u=(this[t+"Getter"]||this._defaultGetter).call(this,t,l):(T(t,function(e,n){a=!1,i||O(this,n),this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)$/.test(n)&&(o||(this.symbolAttr(t),o=!0),a=!0),!this.rotation||"x"!==n&&"y"!==n||(this.doTransform=!0),a||(s=this[n+"Setter"]||this._defaultSetter,s.call(this,e,n,l),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(n)&&this.updateShadows(n,e,s))},this),this.afterSetters()),n&&n.call(this),u},afterSetters:function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},updateShadows:function(t,e,n){for(var i=this.shadows,r=i.length;r--;)n.call(i[r],"height"===t?Math.max(e-(i[r].cutHeight||0),0):"d"===t?this.d:e,t,i[r])},addClass:function(t,e){var n=this.attr("class")||"";return-1===n.indexOf(t)&&(e||(t=(n+(n?" ":"")+t).replace("  "," ")),this.attr("class",t)),this},hasClass:function(t){return-1!==x(t,(this.attr("class")||"").split(" "))},removeClass:function(t){return this.attr("class",(this.attr("class")||"").replace(t,""))},symbolAttr:function(t){var e=this;f("x y r start end width height innerR anchorX anchorY".split(" "),function(n){e[n]=k(t[n],e[n])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":"none")},crisp:function(t,e){var n;return e=e||t.strokeWidth||0,n=Math.round(e)%2/2,t.x=Math.floor(t.x||this.x||0)+n,t.y=Math.floor(t.y||this.y||0)+n,t.width=Math.floor((t.width||this.width||0)-2*n),t.height=Math.floor((t.height||this.height||0)-2*n),d(t.strokeWidth)&&(t.strokeWidth=e),t},css:function(t){var e,n,i=this.styles,r={},a=this.element,s="",u=!i,d=["textOutline","textOverflow","width"];return t&&t.color&&(t.fill=t.color),i&&T(t,function(t,e){t!==i[e]&&(r[e]=t,u=!0)}),u&&(i&&(t=g(i,r)),t&&(null===t.width||"auto"===t.width?delete this.textWidth:"text"===a.nodeName.toLowerCase()&&t.width&&(e=this.textWidth=I(t.width))),this.styles=t,e&&!D&&this.renderer.forExport&&delete t.width,a.namespaceURI===this.SVG_NS?(n=function(t,e){return"-"+e.toLowerCase()},T(t,function(t,e){-1===x(e,d)&&(s+=e.replace(/([A-Z])/g,n)+":"+t+";")}),s&&o(a,"style",s)):l(a,t),this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),t&&t.textOutline&&this.applyTextOutline(t.textOutline))),this},strokeWidth:function(){return this["stroke-width"]||0},on:function(t,e){var n=this,i=n.element;return v&&"click"===t?(i.ontouchstart=function(t){n.touchEventFired=Date.now(),t.preventDefault(),e.call(i,t)},i.onclick=function(t){(-1===B.navigator.userAgent.indexOf("Android")||1100<Date.now()-(n.touchEventFired||0))&&e.call(i,t)}):i["on"+t]=e,this},setRadialReference:function(t){var e=this.renderer.gradients[this.element.gradient];return this.element.radialReference=t,e&&e.radAttr&&e.animate(this.renderer.getRadialAttr(t,e.radAttr)),this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(t){return this.inverted=t,this.updateTransform(),this},updateTransform:function(){var t=this.translateX||0,e=this.translateY||0,n=this.scaleX,i=this.scaleY,r=this.inverted,o=this.rotation,a=this.matrix,s=this.element;r&&(t+=this.width,e+=this.height),t=["translate("+t+","+e+")"],d(a)&&t.push("matrix("+a.join(",")+")"),r?t.push("rotate(90) scale(-1,1)"):o&&t.push("rotate("+o+" "+k(this.rotationOriginX,s.getAttribute("x"),0)+" "+k(this.rotationOriginY,s.getAttribute("y")||0)+")"),(d(n)||d(i))&&t.push("scale("+k(n,1)+" "+k(i,1)+")"),t.length&&s.setAttribute("transform",t.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,n){var i,r,o,a,s={};r=this.renderer,o=r.alignedObjects;var l,u;return t?(this.alignOptions=t,this.alignByTranslate=e,(!n||E(n))&&(this.alignTo=i=n||"renderer",m(o,this),o.push(this),n=null)):(t=this.alignOptions,e=this.alignByTranslate,i=this.alignTo),n=k(n,r[i],r),i=t.align,r=t.verticalAlign,o=(n.x||0)+(t.x||0),a=(n.y||0)+(t.y||0),"right"===i?l=1:"center"===i&&(l=2),l&&(o+=(n.width-(t.width||0))/l),s[e?"translateX":"x"]=Math.round(o),"bottom"===r?u=1:"middle"===r&&(u=2),u&&(a+=(n.height-(t.height||0))/u),s[e?"translateY":"y"]=Math.round(a),this[this.placed?"animate":"attr"](s),this.placed=!0,this.alignAttr=s,this},getBBox:function(t,e){var n,i,r,o,a,s=this.renderer,l=this.element,u=this.styles,h=this.textStr,p=s.cache,m=s.cacheKeys,y=l.namespaceURI===this.SVG_NS;if(e=k(e,this.rotation),i=e*c,r=u&&u.fontSize,d(h)&&(a=h.toString(),-1===a.indexOf("<")&&(a=a.replace(/[0-9]/g,"0")),a+=["",e||0,r,this.textWidth,u&&u.textOverflow].join()),a&&!t&&(n=p[a]),!n){if(y||s.forExport){try{(o=this.fakeTS&&function(t){f(l.querySelectorAll(".highcharts-text-outline"),function(e){e.style.display=t})})&&o("none"),n=l.getBBox?g({},l.getBBox()):{width:l.offsetWidth,height:l.offsetHeight},o&&o("")}catch(v){}(!n||0>n.width)&&(n={width:0,height:0})}else n=this.htmlGetBBox();if(s.isSVG&&(t=n.width,s=n.height,y&&(n.height=s={"11px,17":14,"13px,20":16}[u&&u.fontSize+","+Math.round(s)]||s),e&&(n.width=Math.abs(s*Math.sin(i))+Math.abs(t*Math.cos(i)),n.height=Math.abs(s*Math.cos(i))+Math.abs(t*Math.sin(i)))),a&&0<n.height){for(;250<m.length;)delete p[m.shift()];p[a]||m.push(a),p[a]=n}}return n},show:function(t){return this.attr({visibility:t?"inherit":"visible"})},hide:function(){return this.attr({
visibility:"hidden"})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.attr({y:-9999})}})},add:function(t){var e,n=this.renderer,i=this.element;return t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&n.buildText(this),this.added=!0,(!t||t.handleZ||this.zIndex)&&(e=this.zIndexSetter()),e||(t?t.element:n.box).appendChild(i),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t=this,e=t.element||{},n=t.renderer.isSVG&&"SPAN"===e.nodeName&&t.parentGroup,i=e.ownerSVGElement,r=t.clipPath;if(e.onclick=e.onmouseout=e.onmouseover=e.onmousemove=e.point=null,O(t),r&&i&&(f(i.querySelectorAll("[clip-path],[CLIP-PATH]"),function(t){var e=t.getAttribute("clip-path"),n=r.element.id;(-1<e.indexOf("(#"+n+")")||-1<e.indexOf('("#'+n+'")'))&&t.removeAttribute("clip-path")}),t.clipPath=r.destroy()),t.stops){for(i=0;i<t.stops.length;i++)t.stops[i]=t.stops[i].destroy();t.stops=null}for(t.safeRemoveChild(e),t.destroyShadows();n&&n.div&&0===n.div.childNodes.length;)e=n.parentGroup,t.safeRemoveChild(n.div),delete n.div,n=e;return t.alignTo&&m(t.renderer.alignedObjects,t),T(t,function(e,n){delete t[n]}),null},shadow:function(t,e,n){var i,r,a,s,l,u,d=[],c=this.element;if(t){if(!this.shadows){for(s=k(t.width,3),l=(t.opacity||.15)/s,u=this.parentInverted?"(-1,-1)":"("+k(t.offsetX,1)+", "+k(t.offsetY,1)+")",i=1;i<=s;i++)r=c.cloneNode(0),a=2*s+1-2*i,o(r,{stroke:t.color||"#000000","stroke-opacity":l*i,"stroke-width":a,transform:"translate"+u,fill:"none"}),r.setAttribute("class",(r.getAttribute("class")||"")+" highcharts-shadow"),n&&(o(r,"height",Math.max(o(r,"height")-a,0)),r.cutHeight=a),e?e.element.appendChild(r):c.parentNode&&c.parentNode.insertBefore(r,c),d.push(r);this.shadows=d}}else this.destroyShadows();return this},destroyShadows:function(){f(this.shadows||[],function(t){this.safeRemoveChild(t)},this),this.shadows=void 0},xGetter:function(t){return"circle"===this.element.nodeName&&("x"===t?t="cx":"y"===t&&(t="cy")),this._defaultGetter(t)},_defaultGetter:function(t){return t=k(this[t+"Value"],this[t],this.element?this.element.getAttribute(t):null,0),/^[\-0-9\.]+$/.test(t)&&(t=parseFloat(t)),t},dSetter:function(t,e,n){t&&t.join&&(t=t.join(" ")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),this[e]!==t&&(n.setAttribute(e,t),this[e]=t)},dashstyleSetter:function(t){var e,n=this["stroke-width"];if("inherit"===n&&(n=1),t=t&&t.toLowerCase()){for(t=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),e=t.length;e--;)t[e]=I(t[e])*n;t=t.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",t)}},alignSetter:function(t){this.alignValue=t,this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[t])},opacitySetter:function(t,e,n){this[e]=t,n.setAttribute(e,t)},titleSetter:function(t){var e=this.element.getElementsByTagName("title")[0];e||(e=p.createElementNS(this.SVG_NS,"title"),this.element.appendChild(e)),e.firstChild&&e.removeChild(e.firstChild),e.appendChild(p.createTextNode(String(k(t),"").replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")))},textSetter:function(t){t!==this.textStr&&(delete this.bBox,this.textStr=t,this.added&&this.renderer.buildText(this))},fillSetter:function(t,e,n){"string"==typeof t?n.setAttribute(e,t):t&&this.complexColor(t,e,n)},visibilitySetter:function(t,e,n){"inherit"===t?n.removeAttribute(e):this[e]!==t&&n.setAttribute(e,t),this[e]=t},zIndexSetter:function(t,e){var n,i,r,o=this.renderer,a=this.parentGroup,s=(a||o).element||o.box,l=this.element,o=s===o.box;n=this.added;var u;if(d(t)?(l.setAttribute("data-z-index",t),t=+t,this[e]===t&&(n=!1)):d(this[e])&&l.removeAttribute("data-z-index"),this[e]=t,n){for((t=this.zIndex)&&a&&(a.handleZ=!0),e=s.childNodes,u=e.length-1;0<=u&&!i;u--)a=e[u],n=a.getAttribute("data-z-index"),r=!d(n),a!==l&&(0>t&&r&&!o&&!u?(s.insertBefore(l,e[u]),i=!0):(I(n)<=t||r&&(!d(t)||0<=t))&&(s.insertBefore(l,e[u+1]||null),i=!0));i||(s.insertBefore(l,e[o?3:0]||null),i=!0)}return i},_defaultSetter:function(t,e,n){n.setAttribute(e,t)}}),e.prototype.yGetter=e.prototype.xGetter,e.prototype.translateXSetter=e.prototype.translateYSetter=e.prototype.rotationSetter=e.prototype.verticalAlignSetter=e.prototype.rotationOriginXSetter=e.prototype.rotationOriginYSetter=e.prototype.scaleXSetter=e.prototype.scaleYSetter=e.prototype.matrixSetter=function(t,e){this[e]=t,this.doTransform=!0},e.prototype["stroke-widthSetter"]=e.prototype.strokeSetter=function(t,n,i){this[n]=t,this.stroke&&this["stroke-width"]?(e.prototype.fillSetter.call(this,this.stroke,"stroke",i),i.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===n&&0===t&&this.hasStroke&&(i.removeAttribute("stroke"),this.hasStroke=!1)},n=t.SVGRenderer=function(){this.init.apply(this,arguments)},g(n.prototype,{Element:e,SVG_NS:R,init:function(t,e,n,r,a,s){var u;r=this.createElement("svg").attr({version:"1.1","class":"highcharts-root"}).css(this.getStyle(r)),u=r.element,t.appendChild(u),o(t,"dir","ltr"),-1===t.innerHTML.indexOf("xmlns")&&o(u,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=u,this.boxWrapper=r,this.alignedObjects=[],this.url=(A||C)&&p.getElementsByTagName("base").length?B.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(p.createTextNode("Created with Highcharts 6.2.0")),this.defs=this.createElement("defs").add(),this.allowHTML=s,this.forExport=a,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(e,n,!1);var d;A&&t.getBoundingClientRect&&(e=function(){l(t,{left:0,top:0}),d=t.getBoundingClientRect(),l(t,{left:Math.ceil(d.left)-d.left+"px",top:Math.ceil(d.top)-d.top+"px"})},e(),this.unSubPixelFix=i(B,"resize",e))},getStyle:function(t){return this.style=g({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},t)},setStyle:function(t){this.boxWrapper.css(this.getStyle(t))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),h(this.gradients||{}),this.gradients=null,t&&(this.defs=t.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:M,getRadialAttr:function(t,e){return{cx:t[0]-t[2]/2+e.cx*t[2],cy:t[1]-t[2]/2+e.cy*t[2],r:e.r*t[2]}},truncate:function(t,e,n,i,r,o,a){var s,l,u,d=this,c=t.rotation,h=i?1:0,f=(n||i).length,g=f,m=[],y=function(t){e.firstChild&&e.removeChild(e.firstChild),t&&e.appendChild(p.createTextNode(t))},v=function(o,s){if(s=s||o,void 0===m[s])if(e.getSubStringLength)try{m[s]=r+e.getSubStringLength(0,i?s+1:s)}catch(l){}else d.getSpanWidth&&(y(a(n||i,o)),m[s]=r+d.getSpanWidth(t,e));return m[s]};if(t.rotation=0,l=v(e.textContent.length),u=r+l>o){for(;h<=f;)g=Math.ceil((h+f)/2),i&&(s=a(i,g)),l=v(g,s&&s.length-1),h===f?h=f+1:l>o?f=g-1:h=g;0===f?y(""):n&&f===n.length-1||y(s||a(n||i,g))}return i&&i.splice(0,g),t.actualWidth=l,t.rotation=c,u},escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},buildText:function(t){var e,n,i,r=t.element,a=this,s=a.forExport,u=k(t.textStr,"").toString(),d=-1!==u.indexOf("<"),c=r.childNodes,h=o(r,"x"),g=t.styles,m=t.textWidth,v=g&&g.lineHeight,b=g&&g.textOutline,A=g&&"ellipsis"===g.textOverflow,w=g&&"nowrap"===g.whiteSpace,S=g&&g.fontSize,E=c.length,g=m&&!t.added&&this.box,C=function(t){var e;return e=/(px|em)$/.test(t&&t.style.fontSize)?t.style.fontSize:S||a.style.fontSize||12,v?I(v):a.fontMetrics(e,t.getAttribute("style")?t:r).h},P=function(t,e){return T(a.escapes,function(n,i){e&&-1!==x(n,e)||(t=t.toString().replace(new RegExp(n,"g"),i))}),t},M=function(t,e){var n;if(n=t.indexOf("<"),t=t.substring(n,t.indexOf(">")-n),n=t.indexOf(e+"="),-1!==n&&(n=n+e.length+1,e=t.charAt(n),'"'===e||"'"===e))return t=t.substring(n+1),t.substring(0,t.indexOf(e))};if(n=[u,A,w,v,b,S,m].join(),n!==t.textCache){for(t.textCache=n;E--;)r.removeChild(c[E]);d||b||A||m||-1!==u.indexOf(" ")?(g&&g.appendChild(r),u=d?u.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[u],u=y(u,function(t){return""!==t}),f(u,function(n,u){var d,c=0,g=0;n=n.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),d=n.split("|||"),f(d,function(n){if(""!==n||1===d.length){var f,y,v={},x=p.createElementNS(a.SVG_NS,"tspan");if((f=M(n,"class"))&&o(x,"class",f),(f=M(n,"style"))&&(f=f.replace(/(;| |^)color([ :])/,"$1fill$2"),o(x,"style",f)),(y=M(n,"href"))&&!s&&(o(x,"onclick",'location.href="'+y+'"'),o(x,"class","highcharts-anchor"),l(x,{cursor:"pointer"})),n=P(n.replace(/<[a-zA-Z\/](.|\n)*?>/g,"")||" ")," "!==n){if(x.appendChild(p.createTextNode(n)),c?v.dx=0:u&&null!==h&&(v.x=h),o(x,v),r.appendChild(x),!c&&i&&(!D&&s&&l(x,{display:"block"}),o(x,"dy",C(x))),m){var b=n.replace(/([^\^])-/g,"$1- ").split(" "),v=!w&&(1<d.length||u||1<b.length);y=0;var E=C(x);if(A)e=a.truncate(t,x,n,void 0,0,Math.max(0,m-parseInt(S||12,10)),function(t,e){return t.substring(0,e)+"…"});else if(v)for(;b.length;)b.length&&!w&&0<y&&(x=p.createElementNS(R,"tspan"),o(x,{dy:E,x:h}),f&&o(x,"style",f),x.appendChild(p.createTextNode(b.join(" ").replace(/- /g,"-"))),r.appendChild(x)),a.truncate(t,x,null,b,0===y?g:0,m,function(t,e){return b.slice(0,e).join(" ").replace(/- /g,"-")}),g=t.actualWidth,y++}c++}}}),i=i||r.childNodes.length}),A&&e&&t.attr("title",P(t.textStr,["&lt;","&gt;"])),g&&g.removeChild(r),b&&t.applyTextOutline&&t.applyTextOutline(b)):r.appendChild(p.createTextNode(P(u)))}},getContrast:function(t){return t=s(t).rgba,t[0]*=1,t[1]*=1.2,t[2]*=.5,459<t[0]+t[1]+t[2]?"#000000":"#FFFFFF"},button:function(t,e,n,r,o,a,s,l,u){var d=this.label(t,e,n,u,null,null,null,null,"button"),c=0;d.attr(P({padding:8,r:2},o));var h,p,f,m;return o=P({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},o),h=o.style,delete o.style,a=P(o,{fill:"#e6e6e6"},a),p=a.style,delete a.style,s=P(o,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},s),f=s.style,delete s.style,l=P(o,{style:{color:"#cccccc"}},l),m=l.style,delete l.style,i(d.element,w?"mouseover":"mouseenter",function(){3!==c&&d.setState(1)}),i(d.element,w?"mouseout":"mouseleave",function(){3!==c&&d.setState(c)}),d.setState=function(t){1!==t&&(d.state=c=t),d.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][t||0]),d.attr([o,a,s,l][t||0]).css([h,p,f,m][t||0])},d.attr(o).css(g({cursor:"default"},h)),d.on("click",function(t){3!==c&&r.call(d,t)})},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=Math.round(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=Math.round(t[2])+e%2/2),t},path:function(t){var e={fill:"none"};return b(t)?e.d=t:S(t)&&g(e,t),this.createElement("path").attr(e)},circle:function(t,e,n){return t=S(t)?t:{x:t,y:e,r:n},e=this.createElement("circle"),e.xSetter=e.ySetter=function(t,e,n){n.setAttribute("c"+e,t)},e.attr(t)},arc:function(t,e,n,i,r,o){return S(t)?(i=t,e=i.y,n=i.r,t=i.x):i={innerR:i,start:r,end:o},t=this.symbol("arc",t,e,n,n,i),t.r=n,t},rect:function(t,e,n,i,r,a){r=S(t)?t.r:r;var s=this.createElement("rect");return t=S(t)?t:void 0===t?{}:{x:t,y:e,width:Math.max(n,0),height:Math.max(i,0)},void 0!==a&&(t.strokeWidth=a,t=s.crisp(t)),t.fill="none",r&&(t.r=r),s.rSetter=function(t,e,n){o(n,{rx:t,ry:t})},s.attr(t)},setSize:function(t,e,n){var i=this.alignedObjects,r=i.length;for(this.width=t,this.height=e,this.boxWrapper.animate({width:t,height:e},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:k(n,!0)?void 0:0});r--;)i[r].align()},g:function(t){var e=this.createElement("g");return t?e.attr({"class":"highcharts-"+t}):e},image:function(t,e,n,r,o,a){var s,l={preserveAspectRatio:"none"},u=function(t,e){t.setAttributeNS?t.setAttributeNS("http://www.w3.org/1999/xlink","href",e):t.setAttribute("hc-svg-href",e)},d=function(e){u(s.element,t),a.call(s,e)};return 1<arguments.length&&g(l,{x:e,y:n,width:r,height:o}),s=this.createElement("image").attr(l),a?(u(s.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),l=new B.Image,i(l,"load",d),l.src=t,l.complete&&d({})):u(s.element,t),s},symbol:function(t,e,n,i,r,o){var s,c,h,m=this,y=/^url\((.*?)\)$/,v=y.test(t),x=!v&&(this.symbols[t]?t:"circle"),b=x&&this.symbols[x],A=d(e)&&b&&b.call(this.symbols,Math.round(e),Math.round(n),i,r,o);return b?(s=this.path(A),s.attr("fill","none"),g(s,{symbolName:x,x:e,y:n,width:i,height:r}),o&&g(s,o)):v&&(c=t.match(y)[1],s=this.image(c),s.imgwidth=k(L[c]&&L[c].width,o&&o.width),s.imgheight=k(L[c]&&L[c].height,o&&o.height),h=function(){s.attr({width:s.width,height:s.height})},f(["width","height"],function(t){s[t+"Setter"]=function(t,e){var n={},i=this["img"+e],r="width"===e?"translateX":"translateY";this[e]=t,d(i)&&(this.element&&this.element.setAttribute(e,i),this.alignByTranslate||(n[r]=((this[e]||0)-i)/2,this.attr(n)))}}),d(e)&&s.attr({x:e,y:n}),s.isImg=!0,d(s.imgwidth)&&d(s.imgheight)?h():(s.attr({width:0,height:0}),u("img",{onload:function(){var t=a[m.chartIndex];0===this.width&&(l(this,{position:"absolute",top:"-999em"}),p.body.appendChild(this)),L[c]={width:this.width,height:this.height},s.imgwidth=this.width,s.imgheight=this.height,s.element&&h(),this.parentNode&&this.parentNode.removeChild(this),m.imgCount--,!m.imgCount&&t&&t.onload&&t.onload()},src:c}),this.imgCount++)),s},symbols:{circle:function(t,e,n,i){return this.arc(t+n/2,e+i/2,n/2,i/2,{start:0,end:2*Math.PI,open:!1})},square:function(t,e,n,i){return["M",t,e,"L",t+n,e,t+n,e+i,t,e+i,"Z"]},triangle:function(t,e,n,i){return["M",t+n/2,e,"L",t+n,e+i,t,e+i,"Z"]},"triangle-down":function(t,e,n,i){return["M",t,e,"L",t+n,e,t+n/2,e+i,"Z"]},diamond:function(t,e,n,i){return["M",t+n/2,e,"L",t+n,e+i/2,t+n/2,e+i,t,e+i/2,"Z"]},arc:function(t,e,n,i,r){var o=r.start,a=r.r||n,s=r.r||i||n,l=r.end-.001;n=r.innerR,i=k(r.open,.001>Math.abs(r.end-r.start-2*Math.PI));var u=Math.cos(o),c=Math.sin(o),h=Math.cos(l),l=Math.sin(l);return r=.001>r.end-o-Math.PI?0:1,a=["M",t+a*u,e+s*c,"A",a,s,0,r,1,t+a*h,e+s*l],d(n)&&a.push(i?"M":"L",t+n*h,e+n*l,"A",n,n,0,r,0,t+n*u,e+n*c),a.push(i?"":"Z"),a},callout:function(t,e,n,i,r){var o=Math.min(r&&r.r||0,n,i),a=o+6,s=r&&r.anchorX;r=r&&r.anchorY;var l;return l=["M",t+o,e,"L",t+n-o,e,"C",t+n,e,t+n,e,t+n,e+o,"L",t+n,e+i-o,"C",t+n,e+i,t+n,e+i,t+n-o,e+i,"L",t+o,e+i,"C",t,e+i,t,e+i,t,e+i-o,"L",t,e+o,"C",t,e,t,e,t+o,e],s&&s>n?r>e+a&&r<e+i-a?l.splice(13,3,"L",t+n,r-6,t+n+6,r,t+n,r+6,t+n,e+i-o):l.splice(13,3,"L",t+n,i/2,s,r,t+n,i/2,t+n,e+i-o):s&&0>s?r>e+a&&r<e+i-a?l.splice(33,3,"L",t,r+6,t-6,r,t,r-6,t,e+o):l.splice(33,3,"L",t,i/2,s,r,t,i/2,t,e+o):r&&r>i&&s>t+a&&s<t+n-a?l.splice(23,3,"L",s+6,e+i,s,e+i+6,s-6,e+i,t+o,e+i):r&&0>r&&s>t+a&&s<t+n-a&&l.splice(3,3,"L",s-6,e,s,e-6,s+6,e,n-o,e),l}},clipRect:function(e,n,i,r){var o=t.uniqueKey(),a=this.createElement("clipPath").attr({id:o}).add(this.defs);return e=this.rect(e,n,i,r,0).add(a),e.id=o,e.clipPath=a,e.count=0,e},text:function(t,e,n,i){var r={};return!i||!this.allowHTML&&this.forExport?(r.x=Math.round(e||0),n&&(r.y=Math.round(n)),d(t)&&(r.text=t),t=this.createElement("text").attr(r),i||(t.xSetter=function(t,e,n){var i,r,o=n.getElementsByTagName("tspan"),a=n.getAttribute(e);for(r=0;r<o.length;r++)i=o[r],i.getAttribute(e)===a&&i.setAttribute(e,t);n.setAttribute(e,t)}),t):this.html(t,e,n)},fontMetrics:function(t,e){return t=t||e&&e.style&&e.style.fontSize||this.style&&this.style.fontSize,t=/px/.test(t)?I(t):/em/.test(t)?parseFloat(t)*(e?this.fontMetrics(null,e.parentNode).f:16):12,e=24>t?t+3:Math.round(1.2*t),{h:e,b:Math.round(.8*e),f:t}},rotCorr:function(t,e,n){var i=t;return e&&n&&(i=Math.max(i*Math.cos(e*c),4)),{x:-t/3*Math.sin(e*c),y:i}},label:function(n,i,r,o,a,s,l,u,c){var h,p,m,y,v,x,b,A,w,S,E,C,M,T=this,k=T.g("button"!==c&&"label"),I=k.text=T.text("",0,0,l).attr({zIndex:1}),O=0,D=3,R=0,L={},B=/^url\((.*?)\)$/.test(o),N=B;c&&k.addClass("highcharts-"+c),N=B,S=function(){return(A||0)%2/2},E=function(){var t=I.element.style,e={};p=(void 0===m||void 0===y||b)&&d(I.textStr)&&I.getBBox(),k.width=(m||p.width||0)+2*D+R,k.height=(y||p.height||0)+2*D,w=D+T.fontMetrics(t&&t.fontSize,I).b,N&&(h||(k.box=h=T.symbols[o]||B?T.symbol(o):T.rect(),h.addClass(("button"===c?"":"highcharts-label-box")+(c?" highcharts-"+c+"-box":"")),h.add(k),t=S(),e.x=t,e.y=(u?-w:0)+t),e.width=Math.round(k.width),e.height=Math.round(k.height),h.attr(g(e,L)),L={})},C=function(){var t,e=R+D;t=u?0:w,d(m)&&p&&("center"===b||"right"===b)&&(e+={center:.5,right:1}[b]*(m-p.width)),e===I.x&&t===I.y||(I.attr("x",e),I.hasBoxWidthChanged&&(p=I.getBBox(!0),E()),void 0!==t&&I.attr("y",t)),I.x=e,I.y=t},M=function(t,e){h?h.attr(t,e):L[t]=e},k.onAdd=function(){I.add(k),k.attr({text:n||0===n?n:"",x:i,y:r}),h&&d(a)&&k.attr({anchorX:a,anchorY:s})},k.widthSetter=function(e){m=t.isNumber(e)?e:null},k.heightSetter=function(t){y=t},k["text-alignSetter"]=function(t){b=t},k.paddingSetter=function(t){d(t)&&t!==D&&(D=k.padding=t,C())},k.paddingLeftSetter=function(t){d(t)&&t!==R&&(R=t,C())},k.alignSetter=function(t){t={left:0,center:.5,right:1}[t],t!==O&&(O=t,p&&k.attr({x:v}))},k.textSetter=function(t){void 0!==t&&I.textSetter(t),E(),C()},k["stroke-widthSetter"]=function(t,e){t&&(N=!0),A=this["stroke-width"]=t,M(e,t)},k.strokeSetter=k.fillSetter=k.rSetter=function(t,e){"r"!==e&&("fill"===e&&t&&(N=!0),k[e]=t),M(e,t)},k.anchorXSetter=function(t,e){a=k.anchorX=t,M(e,Math.round(t)-S()-v)},k.anchorYSetter=function(t,e){s=k.anchorY=t,M(e,t-x)},k.xSetter=function(t){k.x=t,O&&(t-=O*((m||p.width)+2*D),k["forceAnimate:x"]=!0),v=Math.round(t),k.attr("translateX",v)},k.ySetter=function(t){x=k.y=Math.round(t),k.attr("translateY",x)};var U=k.css;return g(k,{css:function(t){if(t){var e={};t=P(t),f(k.textProps,function(n){void 0!==t[n]&&(e[n]=t[n],delete t[n])}),I.css(e),"width"in e&&E()}return U.call(k,t)},getBBox:function(){return{width:p.width+2*D,height:p.height+2*D,x:p.x-D,y:p.y-D}},shadow:function(t){return t&&(E(),h&&h.shadow(t)),k},destroy:function(){_(k.element,"mouseenter"),_(k.element,"mouseleave"),I&&(I=I.destroy()),h&&(h=h.destroy()),e.prototype.destroy.call(k),k=T=E=C=M=null}})}}),t.Renderer=n}(e),function(t){var e=t.attr,n=t.createElement,i=t.css,r=t.defined,o=t.each,a=t.extend,s=t.isFirefox,l=t.isMS,u=t.isWebKit,d=t.pick,c=t.pInt,h=t.SVGRenderer,p=t.win,f=t.wrap;a(t.SVGElement.prototype,{htmlCss:function(t){var e="SPAN"===this.element.tagName&&t&&"width"in t,n=d(e&&t.width,void 0);return e&&(delete t.width,this.textWidth=n,this.htmlUpdateTransform()),t&&"ellipsis"===t.textOverflow&&(t.whiteSpace="nowrap",t.overflow="hidden"),this.styles=a(this.styles,t),i(this.element,t),this},htmlGetBBox:function(){var t=this.element;return{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var t=this.renderer,e=this.element,n=this.translateX||0,a=this.translateY||0,s=this.x||0,l=this.y||0,u=this.textAlign||"left",d={left:0,center:.5,right:1}[u],h=this.styles,p=h&&h.whiteSpace;if(i(e,{marginLeft:n,marginTop:a}),this.shadows&&o(this.shadows,function(t){i(t,{marginLeft:n+1,marginTop:a+1})}),this.inverted&&o(e.childNodes,function(n){t.invertChild(n,e)}),"SPAN"===e.tagName){var f,h=this.rotation,g=this.textWidth&&c(this.textWidth),m=[h,u,e.innerHTML,this.textWidth,this.textAlign].join();(f=g!==this.oldTextWidth)&&!(f=g>this.oldTextWidth)&&((f=this.textPxLength)||(i(e,{width:"",whiteSpace:p||"nowrap"}),f=e.offsetWidth),f=f>g),f&&/[ \-]/.test(e.textContent||e.innerText)?(i(e,{width:g+"px",display:"block",whiteSpace:p||"normal"}),this.oldTextWidth=g,this.hasBoxWidthChanged=!0):this.hasBoxWidthChanged=!1,m!==this.cTT&&(p=t.fontMetrics(e.style.fontSize).b,!r(h)||h===(this.oldRotation||0)&&u===this.oldAlign||this.setSpanRotation(h,d,p),this.getSpanCorrection(!r(h)&&this.textPxLength||e.offsetWidth,p,d,h,u)),i(e,{left:s+(this.xCorr||0)+"px",top:l+(this.yCorr||0)+"px"}),this.cTT=m,this.oldRotation=h,this.oldAlign=u}}else this.alignOnAdd=!0},setSpanRotation:function(t,e,n){var r={},o=this.renderer.getTransformKey();r[o]=r.transform="rotate("+t+"deg)",r[o+(s?"Origin":"-origin")]=r.transformOrigin=100*e+"% "+n+"px",i(this.element,r)},getSpanCorrection:function(t,e,n){this.xCorr=-t*n,this.yCorr=-e}}),a(h.prototype,{getTransformKey:function(){return l&&!/Edge/.test(p.navigator.userAgent)?"-ms-transform":u?"-webkit-transform":s?"MozTransform":p.opera?"-o-transform":""},html:function(t,i,r){var s=this.createElement("span"),l=s.element,u=s.renderer,c=u.isSVG,h=function(t,e){o(["opacity","visibility"],function(n){f(t,n+"Setter",function(t,n,i,r){t.call(this,n,i,r),e[i]=n})}),t.addedSetters=!0};return s.textSetter=function(t){t!==l.innerHTML&&delete this.bBox,this.textStr=t,l.innerHTML=d(t,""),s.doTransform=!0},c&&h(s,s.element.style),s.xSetter=s.ySetter=s.alignSetter=s.rotationSetter=function(t,e){"align"===e&&(e="textAlign"),s[e]=t,s.doTransform=!0},s.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},s.attr({text:t,x:Math.round(i),y:Math.round(r)}).css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize,position:"absolute"}),l.style.whiteSpace="nowrap",s.css=s.htmlCss,c&&(s.add=function(t){var i,r=u.box.parentNode,d=[];if(this.parentGroup=t){if(i=t.div,!i){for(;t;)d.push(t),t=t.parentGroup;o(d.reverse(),function(t){function o(e,n){t[n]=e,"translateX"===n?l.left=e+"px":l.top=e+"px",t.doTransform=!0}var l,u=e(t.element,"class");u&&(u={className:u}),i=t.div=t.div||n("div",u,{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px",display:t.display,opacity:t.opacity,pointerEvents:t.styles&&t.styles.pointerEvents},i||r),l=i.style,a(t,{classSetter:function(t){return function(e){this.element.setAttribute("class",e),t.className=e}}(i),on:function(){return d[0].div&&s.on.apply({element:d[0].div},arguments),t},translateXSetter:o,translateYSetter:o}),t.addedSetters||h(t,l)})}}else i=r;return i.appendChild(l),s.added=!0,s.alignOnAdd&&s.htmlUpdateTransform(),s}),s}})}(e),function(t){var e=t.defined,n=t.each,i=t.extend,r=t.merge,o=t.pick,a=t.timeUnits,s=t.win;t.Time=function(t){this.update(t,!1)},t.Time.prototype={defaultOptions:{},update:function(t){var e=o(t&&t.useUTC,!0),n=this;this.options=t=r(!0,this.options||{},t),this.Date=t.Date||s.Date,this.timezoneOffset=(this.useUTC=e)&&t.timezoneOffset,this.getTimezoneOffset=this.timezoneOffsetFunction(),(this.variableTimezone=!(e&&!t.getTimezoneOffset&&!t.timezone))||this.timezoneOffset?(this.get=function(t,e){var i=e.getTime(),r=i-n.getTimezoneOffset(e);return e.setTime(r),t=e["getUTC"+t](),e.setTime(i),t},this.set=function(t,e,i){var r;"Milliseconds"===t||"Seconds"===t||"Minutes"===t&&0===e.getTimezoneOffset()%60?e["set"+t](i):(r=n.getTimezoneOffset(e),r=e.getTime()-r,e.setTime(r),e["setUTC"+t](i),t=n.getTimezoneOffset(e),r=e.getTime()+t,e.setTime(r))}):e?(this.get=function(t,e){return e["getUTC"+t]()},this.set=function(t,e,n){return e["setUTC"+t](n)}):(this.get=function(t,e){return e["get"+t]()},this.set=function(t,e,n){return e["set"+t](n)})},makeTime:function(e,n,i,r,a,s){var l,u,d;return this.useUTC?(l=this.Date.UTC.apply(0,arguments),u=this.getTimezoneOffset(l),l+=u,d=this.getTimezoneOffset(l),u!==d?l+=d-u:u-36e5!==this.getTimezoneOffset(l-36e5)||t.isSafari||(l-=36e5)):l=new this.Date(e,n,o(i,1),o(r,0),o(a,0),o(s,0)).getTime(),l},timezoneOffsetFunction:function(){var e=this,n=this.options,i=s.moment;if(!this.useUTC)return function(t){return 6e4*new Date(t).getTimezoneOffset()};if(n.timezone){if(i)return function(t){return 6e4*-i.tz(t,n.timezone).utcOffset()};t.error(25)}return this.useUTC&&n.getTimezoneOffset?function(t){return 6e4*n.getTimezoneOffset(t)}:function(){return 6e4*(e.timezoneOffset||0)}},dateFormat:function(e,n,i){if(!t.defined(n)||isNaN(n))return t.defaultOptions.lang.invalidDate||"";e=t.pick(e,"%Y-%m-%d %H:%M:%S");var r=this,o=new this.Date(n),a=this.get("Hours",o),s=this.get("Day",o),l=this.get("Date",o),u=this.get("Month",o),d=this.get("FullYear",o),c=t.defaultOptions.lang,h=c.weekdays,p=c.shortWeekdays,f=t.pad,o=t.extend({a:p?p[s]:h[s].substr(0,3),A:h[s],d:f(l),e:f(l,2," "),w:s,b:c.shortMonths[u],B:c.months[u],m:f(u+1),o:u+1,y:d.toString().substr(2,2),Y:d,H:f(a),k:a,I:f(a%12||12),l:a%12||12,M:f(r.get("Minutes",o)),p:12>a?"AM":"PM",P:12>a?"am":"pm",S:f(o.getSeconds()),L:f(Math.floor(n%1e3),3)},t.dateFormats);return t.objectEach(o,function(t,i){for(;-1!==e.indexOf("%"+i);)e=e.replace("%"+i,"function"==typeof t?t.call(r,n):t)}),i?e.substr(0,1).toUpperCase()+e.substr(1):e},resolveDTLFormat:function(e){return t.isObject(e,!0)?e:(e=t.splat(e),{main:e[0],from:e[1],to:e[2]})},getTimeTicks:function(t,r,s,l){var u,d,c=this,h=[],p={};u=new c.Date(r);var f,g=t.unitRange,m=t.count||1;if(l=o(l,1),e(r)){c.set("Milliseconds",u,g>=a.second?0:m*Math.floor(c.get("Milliseconds",u)/m)),g>=a.second&&c.set("Seconds",u,g>=a.minute?0:m*Math.floor(c.get("Seconds",u)/m)),g>=a.minute&&c.set("Minutes",u,g>=a.hour?0:m*Math.floor(c.get("Minutes",u)/m)),g>=a.hour&&c.set("Hours",u,g>=a.day?0:m*Math.floor(c.get("Hours",u)/m)),g>=a.day&&c.set("Date",u,g>=a.month?1:m*Math.floor(c.get("Date",u)/m)),g>=a.month&&(c.set("Month",u,g>=a.year?0:m*Math.floor(c.get("Month",u)/m)),d=c.get("FullYear",u)),g>=a.year&&c.set("FullYear",u,d-d%m),g===a.week&&(d=c.get("Day",u),c.set("Date",u,c.get("Date",u)-d+l+(d<l?-7:0))),d=c.get("FullYear",u),l=c.get("Month",u);var y=c.get("Date",u),v=c.get("Hours",u);for(r=u.getTime(),c.variableTimezone&&(f=s-r>4*a.month||c.getTimezoneOffset(r)!==c.getTimezoneOffset(s)),r=u.getTime(),u=1;r<s;)h.push(r),r=g===a.year?c.makeTime(d+u*m,0):g===a.month?c.makeTime(d,l+u*m):!f||g!==a.day&&g!==a.week?f&&g===a.hour&&1<m?c.makeTime(d,l,y,v+u*m):r+g*m:c.makeTime(d,l,y+u*m*(g===a.day?1:7)),u++;h.push(r),g<=a.hour&&1e4>h.length&&n(h,function(t){0===t%18e5&&"000000000"===c.dateFormat("%H%M%S%L",t)&&(p[t]="day")})}return h.info=i(t,{higherRanks:p,totalRange:g*m}),h}}}(e),function(t){var e=t.color,n=t.merge;t.defaultOptions={colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" "),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:t.Time.prototype.defaultOptions,chart:{borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",alignColumns:!0,layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:t.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",padding:8,snap:t.isTouchDevice?25:10,backgroundColor:e("#f7f7f7").setOpacity(.85).get(),borderWidth:1,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,style:{color:"#333333",cursor:"default",fontSize:"12px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,href:"https://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}},t.setOptions=function(e){return t.defaultOptions=n(!0,t.defaultOptions,e),t.time.update(n(t.defaultOptions.global,t.defaultOptions.time),!1),t.defaultOptions},t.getOptions=function(){return t.defaultOptions},t.defaultPlotOptions=t.defaultOptions.plotOptions,t.time=new t.Time(n(t.defaultOptions.global,t.defaultOptions.time)),t.dateFormat=function(e,n,i){return t.time.dateFormat(e,n,i)}}(e),function(t){var e=t.correctFloat,n=t.defined,i=t.destroyObjectProperties,r=t.fireEvent,o=t.isNumber,a=t.merge,s=t.pick,l=t.deg2rad;t.Tick=function(t,e,n,i,r){this.axis=t,this.pos=e,this.type=n||"",this.isNewLabel=this.isNew=!0,this.parameters=r||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,n||i||this.addLabel()},t.Tick.prototype={addLabel:function(){var i,r,o,l,u=this,d=u.axis,c=d.options,h=d.chart,p=d.categories,f=d.names,g=u.pos,m=s(u.options&&u.options.labels,c.labels),y=d.tickPositions,v=g===y[0],x=g===y[y.length-1],p=this.parameters.category||(p?s(p[g],f[g],g):g),b=u.label,y=y.info;d.isDatetimeAxis&&y&&(r=h.time.resolveDTLFormat(c.dateTimeLabelFormats[!c.grid&&y.higherRanks[g]||y.unitName]),i=r.main),u.isFirst=v,u.isLast=x,u.formatCtx={axis:d,chart:h,isFirst:v,isLast:x,dateTimeLabelFormat:i,tickPositionInfo:y,value:d.isLog?e(d.lin2log(p)):p,pos:g},c=d.labelFormatter.call(u.formatCtx,this.formatCtx),(l=r&&r.list)&&(u.shortenLabel=function(){for(o=0;o<l.length;o++)if(b.attr({text:d.labelFormatter.call(t.extend(u.formatCtx,{dateTimeLabelFormat:l[o]}))}),b.getBBox().width<d.getSlotWidth(u)-2*s(m.padding,5))return;b.attr({text:""})}),n(b)?b&&b.textStr!==c&&(!b.textWidth||m.style&&m.style.width||b.styles.width||b.css({width:null}),b.attr({text:c})):((u.label=b=n(c)&&m.enabled?h.renderer.text(c,0,0,m.useHTML).css(a(m.style)).add(d.labelGroup):null)&&(b.textPxLength=b.getBBox().width),u.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(t){var e,n=this.axis,i=n.options.labels,r=t.x,o=n.chart.chartWidth,a=n.chart.spacing,u=s(n.labelLeft,Math.min(n.pos,a[3])),a=s(n.labelRight,Math.max(n.isRadial?0:n.pos+n.len,o-a[1])),d=this.label,c=this.rotation,h={left:0,center:.5,right:1}[n.labelAlign||d.attr("align")],p=d.getBBox().width,f=n.getSlotWidth(this),g=f,m=1,y={};c||"justify"!==s(i.overflow,"justify")?0>c&&r-h*p<u?e=Math.round(r/Math.cos(c*l)-u):0<c&&r+h*p>a&&(e=Math.round((o-r)/Math.cos(c*l))):(o=r+(1-h)*p,r-h*p<u?g=t.x+g*(1-h)-u:o>a&&(g=a-t.x+g*h,m=-1),g=Math.min(f,g),g<f&&"center"===n.labelAlign&&(t.x+=m*(f-g-h*(f-Math.min(p,g)))),(p>g||n.autoRotation&&(d.styles||{}).width)&&(e=g)),e&&(this.shortenLabel?this.shortenLabel():(y.width=e,(i.style||{}).textOverflow||(y.textOverflow="ellipsis"),d.css(y)))},getPosition:function(e,n,i,o){var a=this.axis,s=a.chart,l=o&&s.oldChartHeight||s.chartHeight;return e={x:e?t.correctFloat(a.translate(n+i,null,null,o)+a.transB):a.left+a.offset+(a.opposite?(o&&s.oldChartWidth||s.chartWidth)-a.right-a.left:0),
y:e?l-a.bottom+a.offset-(a.opposite?a.height:0):t.correctFloat(l-a.translate(n+i,null,null,o)-a.transB)},r(this,"afterGetPosition",{pos:e}),e},getLabelPosition:function(t,e,i,o,a,s,u,d){var c=this.axis,h=c.transA,p=c.reversed,f=c.staggerLines,g=c.tickRotCorr||{x:0,y:0},m=a.y,y=o||c.reserveSpaceDefault?0:-c.labelOffset*("center"===c.labelAlign?.5:1),v={};return n(m)||(m=0===c.side?i.rotation?-8:-i.getBBox().height:2===c.side?g.y+8:Math.cos(i.rotation*l)*(g.y-i.getBBox(!1,0).height/2)),t=t+a.x+y+g.x-(s&&o?s*h*(p?-1:1):0),e=e+m-(s&&!o?s*h*(p?1:-1):0),f&&(i=u/(d||1)%f,c.opposite&&(i=f-i-1),e+=c.labelOffset/f*i),v.x=t,v.y=Math.round(e),r(this,"afterGetLabelPosition",{pos:v}),v},getMarkPath:function(t,e,n,i,r,o){return o.crispLine(["M",t,e,"L",t+(r?0:-n),e+(r?n:0)],i)},renderGridLine:function(t,e,n){var i=this.axis,r=i.options,o=this.gridLine,a={},l=this.pos,u=this.type,d=s(this.tickmarkOffset,i.tickmarkOffset),c=i.chart.renderer,h=u?u+"Grid":"grid",p=r[h+"LineWidth"],f=r[h+"LineColor"],r=r[h+"LineDashStyle"];o||(a.stroke=f,a["stroke-width"]=p,r&&(a.dashstyle=r),u||(a.zIndex=1),t&&(e=0),this.gridLine=o=c.path().attr(a).addClass("highcharts-"+(u?u+"-":"")+"grid-line").add(i.gridGroup)),o&&(n=i.getPlotLinePath(l+d,o.strokeWidth()*n,t,"pass"))&&o[t||this.isNew?"attr":"animate"]({d:n,opacity:e})},renderMark:function(t,e,n){var i=this.axis,r=i.options,o=i.chart.renderer,a=this.type,l=a?a+"Tick":"tick",u=i.tickSize(l),d=this.mark,c=!d,h=t.x;t=t.y;var p=s(r[l+"Width"],!a&&i.isXAxis?1:0),r=r[l+"Color"];u&&(i.opposite&&(u[0]=-u[0]),c&&(this.mark=d=o.path().addClass("highcharts-"+(a?a+"-":"")+"tick").add(i.axisGroup),d.attr({stroke:r,"stroke-width":p})),d[c?"attr":"animate"]({d:this.getMarkPath(h,t,u[0],d.strokeWidth()*n,i.horiz,o),opacity:e}))},renderLabel:function(t,e,n,i){var r=this.axis,a=r.horiz,l=r.options,u=this.label,d=l.labels,c=d.step,r=s(this.tickmarkOffset,r.tickmarkOffset),h=!0,p=t.x;t=t.y,u&&o(p)&&(u.xy=t=this.getLabelPosition(p,t,u,a,d,r,i,c),this.isFirst&&!this.isLast&&!s(l.showFirstLabel,1)||this.isLast&&!this.isFirst&&!s(l.showLastLabel,1)?h=!1:!a||d.step||d.rotation||e||0===n||this.handleOverflow(t),c&&i%c&&(h=!1),h&&o(t.y)?(t.opacity=n,u[this.isNewLabel?"attr":"animate"](t),this.isNewLabel=!1):(u.attr("y",-9999),this.isNewLabel=!0))},render:function(e,n,i){var r=this.axis,o=r.horiz,a=this.pos,l=s(this.tickmarkOffset,r.tickmarkOffset),a=this.getPosition(o,a,l,n),l=a.x,u=a.y,r=o&&l===r.pos+r.len||!o&&u===r.pos?-1:1;i=s(i,1),this.isActive=!0,this.renderGridLine(n,i,r),this.renderMark(a,i,r),this.renderLabel(a,n,i,e),this.isNew=!1,t.fireEvent(this,"afterRender")},destroy:function(){i(this,this.axis)}}}(e);var n=function(t){var e=t.addEvent,n=t.animObject,i=t.arrayMax,r=t.arrayMin,o=t.color,a=t.correctFloat,s=t.defaultOptions,l=t.defined,u=t.deg2rad,d=t.destroyObjectProperties,c=t.each,h=t.extend,p=t.fireEvent,f=t.format,g=t.getMagnitude,m=t.grep,y=t.inArray,v=t.isArray,x=t.isNumber,b=t.isString,A=t.merge,w=t.normalizeTickInterval,S=t.objectEach,E=t.pick,C=t.removeEvent,P=t.splat,M=t.syncTimeout,T=t.Tick,k=function(){this.init.apply(this,arguments)};return t.extend(k.prototype,{defaultOptions:{dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e. %b"},week:{main:"%e. %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,labels:{enabled:!0,indentation:10,x:0,style:{color:"#666666",cursor:"default",fontSize:"11px"}},maxPadding:.01,minorTickLength:2,minorTickPosition:"outside",minPadding:.01,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",style:{color:"#666666"}},type:"linear",minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",tickColor:"#ccd6eb"},defaultYAxisOptions:{endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{allowOverlap:!1,enabled:!1,formatter:function(){return t.numberFormat(this.total,-1)},style:{color:"#000000",fontSize:"11px",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},init:function(t,n){var i=n.isX,r=this;r.chart=t,r.horiz=t.inverted&&!r.isZAxis?!i:i,r.isXAxis=i,r.coll=r.coll||(i?"xAxis":"yAxis"),p(this,"init",{userOptions:n}),r.opposite=n.opposite,r.side=n.side||(r.horiz?r.opposite?0:2:r.opposite?1:3),r.setOptions(n);var o=this.options,a=o.type;r.labelFormatter=o.labels.formatter||r.defaultLabelFormatter,r.userOptions=n,r.minPixelPadding=0,r.reversed=o.reversed,r.visible=!1!==o.visible,r.zoomEnabled=!1!==o.zoomEnabled,r.hasNames="category"===a||!0===o.categories,r.categories=o.categories||r.hasNames,r.names||(r.names=[],r.names.keys={}),r.plotLinesAndBandsGroups={},r.isLog="logarithmic"===a,r.isDatetimeAxis="datetime"===a,r.positiveValuesOnly=r.isLog&&!r.allowNegativeLog,r.isLinked=l(o.linkedTo),r.ticks={},r.labelEdge=[],r.minorTicks={},r.plotLinesAndBands=[],r.alternateBands={},r.len=0,r.minRange=r.userMinRange=o.minRange||o.maxZoom,r.range=o.range,r.offset=o.offset||0,r.stacks={},r.oldStacks={},r.stacksTouched=0,r.max=null,r.min=null,r.crosshair=E(o.crosshair,P(t.options.tooltip.crosshairs)[i?0:1],!1),n=r.options.events,-1===y(r,t.axes)&&(i?t.axes.splice(t.xAxis.length,0,r):t.axes.push(r),t[r.coll].push(r)),r.series=r.series||[],t.inverted&&!r.isZAxis&&i&&void 0===r.reversed&&(r.reversed=!0),S(n,function(t,n){e(r,n,t)}),r.lin2log=o.linearToLogConverter||r.lin2log,r.isLog&&(r.val2lin=r.log2lin,r.lin2val=r.lin2log),p(this,"afterInit")},setOptions:function(t){this.options=A(this.defaultOptions,"yAxis"===this.coll&&this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],A(s[this.coll],t)),p(this,"afterSetOptions",{userOptions:t})},defaultLabelFormatter:function(){var e,n=this.axis,i=this.value,r=n.chart.time,o=n.categories,a=this.dateTimeLabelFormat,l=s.lang,u=l.numericSymbols,l=l.numericSymbolMagnitude||1e3,d=u&&u.length,c=n.options.labels.format,n=n.isLog?Math.abs(i):n.tickInterval;if(c)e=f(c,this,r);else if(o)e=i;else if(a)e=r.dateFormat(a,i);else if(d&&1e3<=n)for(;d--&&void 0===e;)r=Math.pow(l,d+1),n>=r&&0===10*i%r&&null!==u[d]&&0!==i&&(e=t.numberFormat(i/r,-1)+u[d]);return void 0===e&&(e=1e4<=Math.abs(i)?t.numberFormat(i,-1):t.numberFormat(i,-1,void 0,"")),e},getSeriesExtremes:function(){var t=this,e=t.chart;p(this,"getSeriesExtremes",null,function(){t.hasVisibleSeries=!1,t.dataMin=t.dataMax=t.threshold=null,t.softThreshold=!t.isXAxis,t.buildStacks&&t.buildStacks(),c(t.series,function(n){if(n.visible||!e.options.chart.ignoreHiddenSeries){var o,a=n.options,s=a.threshold;t.hasVisibleSeries=!0,t.positiveValuesOnly&&0>=s&&(s=null),t.isXAxis?(a=n.xData,a.length&&(n=r(a),o=i(a),x(n)||n instanceof Date||(a=m(a,x),n=r(a),o=i(a)),a.length&&(t.dataMin=Math.min(E(t.dataMin,a[0],n),n),t.dataMax=Math.max(E(t.dataMax,a[0],o),o)))):(n.getExtremes(),o=n.dataMax,n=n.dataMin,l(n)&&l(o)&&(t.dataMin=Math.min(E(t.dataMin,n),n),t.dataMax=Math.max(E(t.dataMax,o),o)),l(s)&&(t.threshold=s),(!a.softThreshold||t.positiveValuesOnly)&&(t.softThreshold=!1))}})}),p(this,"afterGetSeriesExtremes")},translate:function(t,e,n,i,r,o){var a=this.linkedParent||this,s=1,l=0,u=i?a.oldTransA:a.transA;i=i?a.oldMin:a.min;var d=a.minPixelPadding;return r=(a.isOrdinal||a.isBroken||a.isLog&&r)&&a.lin2val,u||(u=a.transA),n&&(s*=-1,l=a.len),a.reversed&&(s*=-1,l-=s*(a.sector||a.len)),e?(t=(t*s+l-d)/u+i,r&&(t=a.lin2val(t))):(r&&(t=a.val2lin(t)),t=x(i)?s*(t-i)*u+l+s*d+(x(o)?u*o:0):void 0),t},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,e,n,i,r){var o,a,s,l=this.chart,u=this.left,d=this.top,c=n&&l.oldChartHeight||l.chartHeight,h=n&&l.oldChartWidth||l.chartWidth;o=this.transB;var p=function(t,e,n){return("pass"!==i&&t<e||t>n)&&(i?t=Math.min(Math.max(e,t),n):s=!0),t};return r=E(r,this.translate(t,null,null,n)),r=Math.min(Math.max(-1e5,r),1e5),t=n=Math.round(r+o),o=a=Math.round(c-r-o),x(r)?this.horiz?(o=d,a=c-this.bottom,t=n=p(t,u,u+this.width)):(t=u,n=h-this.right,o=a=p(o,d,d+this.height)):(s=!0,i=!1),s&&!i?null:l.renderer.crispLine(["M",t,o,"L",n,a],e||1)},getLinearTickPositions:function(t,e,n){var i,r=a(Math.floor(e/t)*t);n=a(Math.ceil(n/t)*t);var o,s=[];if(a(r+t)===r&&(o=20),this.single)return[e];for(e=r;e<=n&&(s.push(e),e=a(e+t,o),e!==i);)i=e;return s},getMinorTickInterval:function(){var t=this.options;return!0===t.minorTicks?E(t.minorTickInterval,"auto"):!1===t.minorTicks?null:t.minorTickInterval},getMinorTickPositions:function(){var t=this,e=t.options,n=t.tickPositions,i=t.minorTickInterval,r=[],o=t.pointRangePadding||0,a=t.min-o,o=t.max+o,s=o-a;if(s&&s/i<t.len/3)if(t.isLog)c(this.paddedTicks,function(e,n,o){n&&r.push.apply(r,t.getLogTickPositions(i,o[n-1],o[n],!0))});else if(t.isDatetimeAxis&&"auto"===this.getMinorTickInterval())r=r.concat(t.getTimeTicks(t.normalizeTimeTickInterval(i),a,o,e.startOfWeek));else for(e=a+(n[0]-a)%i;e<=o&&e!==r[0];e+=i)r.push(e);return 0!==r.length&&t.trimTicks(r),r},adjustForMinRange:function(){var t,e,n,o,a,s,u,d,h=this.options,p=this.min,f=this.max;this.isXAxis&&void 0===this.minRange&&!this.isLog&&(l(h.min)||l(h.max)?this.minRange=null:(c(this.series,function(t){for(s=t.xData,o=u=t.xIncrement?1:s.length-1;0<o;o--)a=s[o]-s[o-1],(void 0===n||a<n)&&(n=a)}),this.minRange=Math.min(5*n,this.dataMax-this.dataMin))),f-p<this.minRange&&(e=this.dataMax-this.dataMin>=this.minRange,d=this.minRange,t=(d-f+p)/2,t=[p-t,E(h.min,p-t)],e&&(t[2]=this.isLog?this.log2lin(this.dataMin):this.dataMin),p=i(t),f=[p+d,E(h.max,p+d)],e&&(f[2]=this.isLog?this.log2lin(this.dataMax):this.dataMax),f=r(f),f-p<d&&(t[0]=f-d,t[1]=E(h.min,f-d),p=i(t))),this.min=p,this.max=f},getClosest:function(){var t;return this.categories?t=1:c(this.series,function(e){var n=e.closestPointRange,i=e.visible||!e.chart.options.chart.ignoreHiddenSeries;!e.noSharedTooltip&&l(n)&&i&&(t=l(t)?Math.min(t,n):n)}),t},nameToX:function(t){var e,n=v(this.categories),i=n?this.categories:this.names,r=t.options.x;return t.series.requireSorting=!1,l(r)||(r=!1===this.options.uniqueNames?t.series.autoIncrement():n?y(t.name,i):E(i.keys[t.name],-1)),-1===r?n||(e=i.length):e=r,void 0!==e&&(this.names[e]=t.name,this.names.keys[t.name]=e),e},updateNames:function(){var e=this,n=this.names;0<n.length&&(c(t.keys(n.keys),function(t){delete n.keys[t]}),n.length=0,this.minRange=this.userMinRange,c(this.series||[],function(t){t.xIncrement=null,t.points&&!t.isDirtyData||(t.processData(),t.generatePoints()),c(t.points,function(n,i){var r;n.options&&(r=e.nameToX(n),void 0!==r&&r!==n.x&&(n.x=r,t.xData[i]=r))})}))},setAxisTranslation:function(t){var e,n=this,i=n.max-n.min,r=n.axisPointRange||0,o=0,a=0,s=n.linkedParent,l=!!n.categories,u=n.transA,d=n.isXAxis;(d||l||r)&&(e=n.getClosest(),s?(o=s.minPointOffset,a=s.pointRangePadding):c(n.series,function(t){var i=l?1:d?E(t.options.pointRange,e,0):n.axisPointRange||0;t=t.options.pointPlacement,r=Math.max(r,i),n.single||(o=Math.max(o,b(t)?0:i/2),a=Math.max(a,"on"===t?0:i))}),s=n.ordinalSlope&&e?n.ordinalSlope/e:1,n.minPointOffset=o*=s,n.pointRangePadding=a*=s,n.pointRange=Math.min(r,i),d&&(n.closestPointRange=e)),t&&(n.oldTransA=u),n.translationSlope=n.transA=u=n.staticScale||n.len/(i+a||1),n.transB=n.horiz?n.left:n.bottom,n.minPixelPadding=u*o,p(this,"afterSetAxisTranslation")},minFromRange:function(){return this.max-this.range},setTickInterval:function(e){var n,i,r,o,s=this,u=s.chart,d=s.options,h=s.isLog,f=s.isDatetimeAxis,m=s.isXAxis,y=s.isLinked,v=d.maxPadding,b=d.minPadding,A=d.tickInterval,S=d.tickPixelInterval,C=s.categories,P=x(s.threshold)?s.threshold:null,M=s.softThreshold;f||C||y||this.getTickAmount(),r=E(s.userMin,d.min),o=E(s.userMax,d.max),y?(s.linkedParent=u[s.coll][d.linkedTo],u=s.linkedParent.getExtremes(),s.min=E(u.min,u.dataMin),s.max=E(u.max,u.dataMax),d.type!==s.linkedParent.options.type&&t.error(11,1)):(!M&&l(P)&&(s.dataMin>=P?(n=P,b=0):s.dataMax<=P&&(i=P,v=0)),s.min=E(r,n,s.dataMin),s.max=E(o,i,s.dataMax)),h&&(s.positiveValuesOnly&&!e&&0>=Math.min(s.min,E(s.dataMin,s.min))&&t.error(10,1),s.min=a(s.log2lin(s.min),15),s.max=a(s.log2lin(s.max),15)),s.range&&l(s.max)&&(s.userMin=s.min=r=Math.max(s.dataMin,s.minFromRange()),s.userMax=o=s.max,s.range=null),p(s,"foundExtremes"),s.beforePadding&&s.beforePadding(),s.adjustForMinRange(),!(C||s.axisPointRange||s.usePercentage||y)&&l(s.min)&&l(s.max)&&(u=s.max-s.min)&&(!l(r)&&b&&(s.min-=u*b),!l(o)&&v&&(s.max+=u*v)),x(d.softMin)&&!x(s.userMin)&&(s.min=Math.min(s.min,d.softMin)),x(d.softMax)&&!x(s.userMax)&&(s.max=Math.max(s.max,d.softMax)),x(d.floor)&&(s.min=Math.max(s.min,d.floor)),x(d.ceiling)&&(s.max=Math.min(s.max,d.ceiling)),M&&l(s.dataMin)&&(P=P||0,!l(r)&&s.min<P&&s.dataMin>=P?s.min=P:!l(o)&&s.max>P&&s.dataMax<=P&&(s.max=P)),s.tickInterval=s.min===s.max||void 0===s.min||void 0===s.max?1:y&&!A&&S===s.linkedParent.options.tickPixelInterval?A=s.linkedParent.tickInterval:E(A,this.tickAmount?(s.max-s.min)/Math.max(this.tickAmount-1,1):void 0,C?1:(s.max-s.min)*S/Math.max(s.len,S)),m&&!e&&c(s.series,function(t){t.processData(s.min!==s.oldMin||s.max!==s.oldMax)}),s.setAxisTranslation(!0),s.beforeSetTickPositions&&s.beforeSetTickPositions(),s.postProcessTickInterval&&(s.tickInterval=s.postProcessTickInterval(s.tickInterval)),s.pointRange&&!A&&(s.tickInterval=Math.max(s.pointRange,s.tickInterval)),e=E(d.minTickInterval,s.isDatetimeAxis&&s.closestPointRange),!A&&s.tickInterval<e&&(s.tickInterval=e),f||h||A||(s.tickInterval=w(s.tickInterval,null,g(s.tickInterval),E(d.allowDecimals,!(.5<s.tickInterval&&5>s.tickInterval&&1e3<s.max&&9999>s.max)),!!this.tickAmount)),this.tickAmount||(s.tickInterval=s.unsquish()),this.setTickPositions()},setTickPositions:function(){var e,n=this.options,i=n.tickPositions;e=this.getMinorTickInterval();var r=n.tickPositioner,o=n.startOnTick,a=n.endOnTick;this.tickmarkOffset=this.categories&&"between"===n.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===e&&this.tickInterval?this.tickInterval/5:e,this.single=this.min===this.max&&l(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==n.allowDecimals),this.tickPositions=e=i&&i.slice(),!e&&(!this.ordinalPositions&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200)?(e=[this.min,this.max],t.error(19)):e=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,n.units),this.min,this.max,n.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),e.length>this.len&&(e=[e[0],e.pop()],e[0]===e[1]&&(e.length=1)),this.tickPositions=e,r&&(r=r.apply(this,[this.min,this.max])))&&(this.tickPositions=e=r),this.paddedTicks=e.slice(0),this.trimTicks(e,o,a),this.isLinked||(this.single&&2>e.length&&(this.min-=.5,this.max+=.5),i||r||this.adjustTickAmount()),p(this,"afterSetTickPositions")},trimTicks:function(t,e,n){var i=t[0],r=t[t.length-1],o=this.minPointOffset||0;if(!this.isLinked){if(e&&-(1/0)!==i)this.min=i;else for(;this.min-o>t[0];)t.shift();if(n)this.max=r;else for(;this.max+o<t[t.length-1];)t.pop();0===t.length&&l(i)&&!this.options.tickPositions&&t.push((r+i)/2)}},alignToOthers:function(){var t,e={},n=this.options;return!1===this.chart.options.chart.alignTicks||!1===n.alignTicks||!1===n.startOnTick||!1===n.endOnTick||this.isLog||c(this.chart[this.coll],function(n){var i=n.options,i=[n.horiz?i.left:i.top,i.width,i.height,i.pane].join();n.series.length&&(e[i]?t=!0:e[i]=1)}),t},getTickAmount:function(){var t=this.options,e=t.tickAmount,n=t.tickPixelInterval;!l(t.tickInterval)&&this.len<n&&!this.isRadial&&!this.isLog&&t.startOnTick&&t.endOnTick&&(e=2),!e&&this.alignToOthers()&&(e=Math.ceil(this.len/n)+1),4>e&&(this.finalTickAmt=e,e=5),this.tickAmount=e},adjustTickAmount:function(){var t=this.tickInterval,e=this.tickPositions,n=this.tickAmount,i=this.finalTickAmt,r=e&&e.length,o=E(this.threshold,this.softThreshold?0:null);if(this.hasData()){if(r<n){for(;e.length<n;)e.length%2||this.min===o?e.push(a(e[e.length-1]+t)):e.unshift(a(e[0]-t));this.transA*=(r-1)/(n-1),this.min=e[0],this.max=e[e.length-1]}else r>n&&(this.tickInterval*=2,this.setTickPositions());if(l(i)){for(t=n=e.length;t--;)(3===i&&1===t%2||2>=i&&0<t&&t<n-1)&&e.splice(t,1);this.finalTickAmt=void 0}}},setScale:function(){var t,e;this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),e=this.len!==this.oldAxisLength,c(this.series,function(e){(e.isDirtyData||e.isDirty||e.xAxis.isDirty)&&(t=!0)}),e||t||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax||this.alignToOthers()?(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=e||this.min!==this.oldMin||this.max!==this.oldMax)):this.cleanStacks&&this.cleanStacks(),p(this,"afterSetScale")},setExtremes:function(t,e,n,i,r){var o=this,a=o.chart;n=E(n,!0),c(o.series,function(t){delete t.kdTree}),r=h(r,{min:t,max:e}),p(o,"setExtremes",r,function(){o.userMin=t,o.userMax=e,o.eventArgs=r,n&&a.redraw(i)})},zoom:function(t,e){var n=this.dataMin,i=this.dataMax,r=this.options,o=Math.min(n,E(r.min,n)),r=Math.max(i,E(r.max,i));return t===this.min&&e===this.max||(this.allowZoomOutside||(l(n)&&(t<o&&(t=o),t>r&&(t=r)),l(i)&&(e<o&&(e=o),e>r&&(e=r))),this.displayBtn=void 0!==t||void 0!==e,this.setExtremes(t,e,!1,void 0,{trigger:"zoom"})),!0},setAxisSize:function(){var e=this.chart,n=this.options,i=n.offsets||[0,0,0,0],r=this.horiz,o=this.width=Math.round(t.relativeLength(E(n.width,e.plotWidth-i[3]+i[1]),e.plotWidth)),a=this.height=Math.round(t.relativeLength(E(n.height,e.plotHeight-i[0]+i[2]),e.plotHeight)),s=this.top=Math.round(t.relativeLength(E(n.top,e.plotTop+i[0]),e.plotHeight,e.plotTop)),n=this.left=Math.round(t.relativeLength(E(n.left,e.plotLeft+i[3]),e.plotWidth,e.plotLeft));this.bottom=e.chartHeight-a-s,this.right=e.chartWidth-o-n,this.len=Math.max(r?o:a,0),this.pos=r?n:s},getExtremes:function(){var t=this.isLog;return{min:t?a(this.lin2log(this.min)):this.min,max:t?a(this.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(t){var e=this.isLog,n=e?this.lin2log(this.min):this.min,e=e?this.lin2log(this.max):this.max;return null===t||-(1/0)===t?t=n:1/0===t?t=e:n>t?t=n:e<t&&(t=e),this.translate(t,0,1,0,1)},autoLabelAlign:function(t){return t=(E(t,0)-90*this.side+720)%360,15<t&&165>t?"right":195<t&&345>t?"left":"center"},tickSize:function(t){var e=this.options,n=e[t+"Length"],i=E(e[t+"Width"],"tick"===t&&this.isXAxis?1:0);if(i&&n)return"inside"===e[t+"Position"]&&(n=-n),[n,i]},labelMetrics:function(){var t=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style&&this.options.labels.style.fontSize,this.ticks[t]&&this.ticks[t].label)},unsquish:function(){var t,e,n,i=this.options.labels,r=this.horiz,o=this.tickInterval,s=o,d=this.len/(((this.categories?1:0)+this.max-this.min)/o),h=i.rotation,p=this.labelMetrics(),f=Number.MAX_VALUE,g=function(t){return t/=d||1,t=1<t?Math.ceil(t):1,a(t*o)};return r?(n=!i.staggerLines&&!i.step&&(l(h)?[h]:d<E(i.autoRotationLimit,80)&&i.autoRotation))&&c(n,function(n){var i;(n===h||n&&-90<=n&&90>=n)&&(e=g(Math.abs(p.h/Math.sin(u*n))),i=e+Math.abs(n/360),i<f&&(f=i,t=n,s=e))}):i.step||(s=g(p.h)),this.autoRotation=n,this.labelRotation=E(t,h),s},getSlotWidth:function(t){var e=this.chart,n=this.horiz,i=this.options.labels,r=Math.max(this.tickPositions.length-(this.categories?0:1),1),o=e.margin[3];return t&&t.slotWidth||n&&2>(i.step||0)&&!i.rotation&&(this.staggerLines||1)*this.len/r||!n&&(i.style&&parseInt(i.style.width,10)||o&&o-e.spacing[3]||.33*e.chartWidth)},renderUnsquish:function(){var t,e,n,i=this.chart,r=i.renderer,o=this.tickPositions,a=this.ticks,s=this.options.labels,l=s&&s.style||{},u=this.horiz,d=this.getSlotWidth(),h=Math.max(1,Math.round(d-2*(s.padding||5))),p={},f=this.labelMetrics(),g=s.style&&s.style.textOverflow,m=0;if(b(s.rotation)||(p.rotation=s.rotation||0),c(o,function(t){(t=a[t])&&t.label&&t.label.textPxLength>m&&(m=t.label.textPxLength)}),this.maxLabelLength=m,this.autoRotation)m>h&&m>f.h?p.rotation=this.labelRotation:this.labelRotation=0;else if(d&&(t=h,!g))for(e="clip",h=o.length;!u&&h--;)n=o[h],(n=a[n].label)&&(n.styles&&"ellipsis"===n.styles.textOverflow?n.css({textOverflow:"clip"}):n.textPxLength>d&&n.css({width:d+"px"}),n.getBBox().height>this.len/o.length-(f.h-f.f)&&(n.specificTextOverflow="ellipsis"));p.rotation&&(t=m>.5*i.chartHeight?.33*i.chartHeight:m,g||(e="ellipsis")),(this.labelAlign=s.align||this.autoLabelAlign(this.labelRotation))&&(p.align=this.labelAlign),c(o,function(n){var i=(n=a[n])&&n.label,r=l.width,o={};i&&(i.attr(p),n.shortenLabel?n.shortenLabel():t&&!r&&"nowrap"!==l.whiteSpace&&(t<i.textPxLength||"SPAN"===i.element.tagName)?(o.width=t,g||(o.textOverflow=i.specificTextOverflow||e),i.css(o)):i.styles&&i.styles.width&&!o.width&&!r&&i.css({width:null}),delete i.specificTextOverflow,n.rotation=p.rotation)},this),this.tickRotCorr=r.rotCorr(f.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.hasVisibleSeries||l(this.min)&&l(this.max)&&this.tickPositions&&0<this.tickPositions.length},addTitle:function(t){var e,n=this.chart.renderer,i=this.horiz,r=this.opposite,o=this.options.title;this.axisTitle||((e=o.textAlign)||(e=(i?{low:"left",middle:"center",high:"right"}:{low:r?"right":"left",middle:"center",high:r?"left":"right"})[o.align]),this.axisTitle=n.text(o.text,0,0,o.useHTML).attr({zIndex:7,rotation:o.rotation||0,align:e}).addClass("highcharts-axis-title").css(A(o.style)).add(this.axisGroup),this.axisTitle.isNew=!0),o.style.width||this.isRadial||this.axisTitle.css({width:this.len}),this.axisTitle[t?"show":"hide"](!0)},generateTick:function(t){var e=this.ticks;e[t]?e[t].addLabel():e[t]=new T(this,t)},getOffset:function(){var t,e,n,i=this,r=i.chart,o=r.renderer,a=i.options,s=i.tickPositions,u=i.ticks,d=i.horiz,h=i.side,f=r.inverted&&!i.isZAxis?[1,0,3,2][h]:h,g=0,m=0,y=a.title,v=a.labels,x=0,b=r.axisOffset,r=r.clipOffset,A=[-1,1,1,-1][h],w=a.className,C=i.axisParent;t=i.hasData(),i.showAxis=e=t||E(a.showEmpty,!0),i.staggerLines=i.horiz&&v.staggerLines,i.axisGroup||(i.gridGroup=o.g("grid").attr({zIndex:a.gridZIndex||1}).addClass("highcharts-"+this.coll.toLowerCase()+"-grid "+(w||"")).add(C),i.axisGroup=o.g("axis").attr({zIndex:a.zIndex||2}).addClass("highcharts-"+this.coll.toLowerCase()+" "+(w||"")).add(C),i.labelGroup=o.g("axis-labels").attr({zIndex:v.zIndex||7}).addClass("highcharts-"+i.coll.toLowerCase()+"-labels "+(w||"")).add(C)),t||i.isLinked?(c(s,function(t,e){i.generateTick(t,e)}),i.renderUnsquish(),i.reserveSpaceDefault=0===h||2===h||{1:"left",3:"right"}[h]===i.labelAlign,E(v.reserveSpace,"center"===i.labelAlign||null,i.reserveSpaceDefault)&&c(s,function(t){x=Math.max(u[t].getLabelSize(),x)}),i.staggerLines&&(x*=i.staggerLines),i.labelOffset=x*(i.opposite?-1:1)):S(u,function(t,e){t.destroy(),delete u[e]}),y&&y.text&&!1!==y.enabled&&(i.addTitle(e),e&&!1!==y.reserveSpace&&(i.titleOffset=g=i.axisTitle.getBBox()[d?"height":"width"],n=y.offset,m=l(n)?0:E(y.margin,d?5:10))),i.renderLine(),i.offset=A*E(a.offset,b[h]),i.tickRotCorr=i.tickRotCorr||{x:0,y:0},o=0===h?-i.labelMetrics().h:2===h?i.tickRotCorr.y:0,m=Math.abs(x)+m,x&&(m=m-o+A*(d?E(v.y,i.tickRotCorr.y+8*A):v.x)),i.axisTitleMargin=E(n,m),i.getMaxLabelDimensions&&(i.maxLabelDimensions=i.getMaxLabelDimensions(u,s)),d=this.tickSize("tick"),b[h]=Math.max(b[h],i.axisTitleMargin+g+A*i.offset,m,t&&s.length&&d?d[0]+A*i.offset:0),a=a.offset?0:2*Math.floor(i.axisLine.strokeWidth()/2),r[f]=Math.max(r[f],a),p(this,"afterGetOffset")},getLinePath:function(t){var e=this.chart,n=this.opposite,i=this.offset,r=this.horiz,o=this.left+(n?this.width:0)+i,i=e.chartHeight-this.bottom-(n?this.height:0)+i;return n&&(t*=-1),e.renderer.crispLine(["M",r?this.left:o,r?i:this.top,"L",r?e.chartWidth-this.right:o,r?i:e.chartHeight-this.bottom],t)},renderLine:function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},getTitlePosition:function(){var t=this.horiz,e=this.left,n=this.top,i=this.len,r=this.options.title,o=t?e:n,a=this.opposite,s=this.offset,l=r.x||0,u=r.y||0,d=this.axisTitle,c=this.chart.renderer.fontMetrics(r.style&&r.style.fontSize,d),d=Math.max(d.getBBox(null,0).height-c.h-1,0),i={low:o+(t?0:i),middle:o+i/2,high:o+(t?i:0)}[r.align],e=(t?n+this.height:e)+(t?1:-1)*(a?-1:1)*this.axisTitleMargin+[-d,d,c.f,-d][this.side];return{x:t?i+l:e+(a?this.width:0)+s+l,y:t?e+u-(a?this.height:0)+s:i+u}},renderMinorTick:function(t){var e=this.chart.hasRendered&&x(this.oldMin),n=this.minorTicks;n[t]||(n[t]=new T(this,t,"minor")),e&&n[t].isNew&&n[t].render(null,!0),n[t].render(null,!1,1)},renderTick:function(t,e){var n=this.isLinked,i=this.ticks,r=this.chart.hasRendered&&x(this.oldMin);(!n||t>=this.min&&t<=this.max)&&(i[t]||(i[t]=new T(this,t)),r&&i[t].isNew&&i[t].render(e,!0,-1),i[t].render(e))},render:function(){var e,i,r=this,o=r.chart,a=r.options,s=r.isLog,l=r.isLinked,u=r.tickPositions,d=r.axisTitle,h=r.ticks,f=r.minorTicks,g=r.alternateBands,m=a.stackLabels,y=a.alternateGridColor,v=r.tickmarkOffset,b=r.axisLine,A=r.showAxis,w=n(o.renderer.globalAnimation);r.labelEdge.length=0,r.overlap=!1,c([h,f,g],function(t){S(t,function(t){t.isActive=!1})}),(r.hasData()||l)&&(r.minorTickInterval&&!r.categories&&c(r.getMinorTickPositions(),function(t){r.renderMinorTick(t)}),u.length&&(c(u,function(t,e){r.renderTick(t,e)}),v&&(0===r.min||r.single)&&(h[-1]||(h[-1]=new T(r,(-1),null,(!0))),h[-1].render(-1))),y&&c(u,function(n,a){i=void 0!==u[a+1]?u[a+1]+v:r.max-v,0===a%2&&n<r.max&&i<=r.max+(o.polar?-v:v)&&(g[n]||(g[n]=new t.PlotLineOrBand(r)),e=n+v,g[n].options={from:s?r.lin2log(e):e,to:s?r.lin2log(i):i,color:y},g[n].render(),g[n].isActive=!0)}),r._addedPlotLB||(c((a.plotLines||[]).concat(a.plotBands||[]),function(t){r.addPlotBandOrLine(t)}),r._addedPlotLB=!0)),c([h,f,g],function(t){var e,n=[],i=w.duration;S(t,function(t,e){t.isActive||(t.render(e,!1,0),t.isActive=!1,n.push(e))}),M(function(){for(e=n.length;e--;)t[n[e]]&&!t[n[e]].isActive&&(t[n[e]].destroy(),delete t[n[e]])},t!==g&&o.hasRendered&&i?i:0)}),b&&(b[b.isPlaced?"animate":"attr"]({d:this.getLinePath(b.strokeWidth())}),b.isPlaced=!0,b[A?"show":"hide"](!0)),d&&A&&(a=r.getTitlePosition(),x(a.y)?(d[d.isNew?"attr":"animate"](a),d.isNew=!1):(d.attr("y",-9999),d.isNew=!0)),m&&m.enabled&&r.renderStackTotals(),r.isDirty=!1,p(this,"afterRender")},redraw:function(){this.visible&&(this.render(),c(this.plotLinesAndBands,function(t){t.render()})),c(this.series,function(t){t.isDirty=!0})},keepProps:"extKey hcEvents names series userMax userMin".split(" "),destroy:function(t){var e,n=this,i=n.stacks,r=n.plotLinesAndBands;if(p(this,"destroy",{keepEvents:t}),t||C(n),S(i,function(t,e){d(t),i[e]=null}),c([n.ticks,n.minorTicks,n.alternateBands],function(t){d(t)}),r)for(t=r.length;t--;)r[t].destroy();c("stackTotalGroup axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" "),function(t){n[t]&&(n[t]=n[t].destroy())});for(e in n.plotLinesAndBandsGroups)n.plotLinesAndBandsGroups[e]=n.plotLinesAndBandsGroups[e].destroy();S(n,function(t,e){-1===y(e,n.keepProps)&&delete n[e]})},drawCrosshair:function(t,e){var n,i,r=this.crosshair,a=E(r.snap,!0),s=this.cross;if(p(this,"drawCrosshair",{e:t,point:e}),t||(t=this.cross&&this.cross.e),this.crosshair&&!1!==(l(e)||!a)){if(a?l(e)&&(i=E(e.crosshairPos,this.isXAxis?e.plotX:this.len-e.plotY)):i=t&&(this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos),l(i)&&(n=this.getPlotLinePath(e&&(this.isXAxis?e.x:E(e.stackY,e.y)),null,null,null,i)||null),!l(n))return void this.hideCrosshair();a=this.categories&&!this.isRadial,s||(this.cross=s=this.chart.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(a?"category ":"thin ")+r.className).attr({zIndex:E(r.zIndex,2)}).add(),s.attr({stroke:r.color||(a?o("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":E(r.width,1)}).css({"pointer-events":"none"}),r.dashStyle&&s.attr({dashstyle:r.dashStyle})),s.show().attr({d:n}),a&&!r.width&&s.attr({"stroke-width":this.transA}),this.cross.e=t}else this.hideCrosshair();p(this,"afterDrawCrosshair",{e:t,point:e})},hideCrosshair:function(){this.cross&&this.cross.hide()}}),t.Axis=k}(e);return function(t){var e=t.Axis,n=t.getMagnitude,i=t.normalizeTickInterval,r=t.timeUnits;e.prototype.getTimeTicks=function(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)},e.prototype.normalizeTimeTickInterval=function(t,e){var o=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];e=o[o.length-1];var a,s=r[e[0]],l=e[1];for(a=0;a<o.length&&(e=o[a],s=r[e[0]],l=e[1],!(o[a+1]&&t<=(s*l[l.length-1]+r[o[a+1][0]])/2));a++);return s===r.year&&t<5*s&&(l=[1,2,5]),t=i(t/s,l,"year"===e[0]?Math.max(n(t/s),1):1),{unitRange:s,count:t,unitName:e[0]}}}(e),function(t){var e=t.Axis,n=t.getMagnitude,i=t.map,r=t.normalizeTickInterval,o=t.pick;e.prototype.getLogTickPositions=function(t,e,a,s){var l=this.options,u=this.len,d=[];if(s||(this._minorAutoInterval=null),.5<=t)t=Math.round(t),d=this.getLinearTickPositions(t,e,a);else if(.08<=t)for(var c,h,p,f,g,u=Math.floor(e),l=.3<t?[1,2,4]:.15<t?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];u<a+1&&!g;u++)for(h=l.length,c=0;c<h&&!g;c++)p=this.log2lin(this.lin2log(u)*l[c]),p>e&&(!s||f<=a)&&void 0!==f&&d.push(f),f>a&&(g=!0),f=p;else e=this.lin2log(e),a=this.lin2log(a),t=s?this.getMinorTickInterval():l.tickInterval,t=o("auto"===t?null:t,this._minorAutoInterval,l.tickPixelInterval/(s?5:1)*(a-e)/((s?u/this.tickPositions.length:u)||1)),t=r(t,null,n(t)),d=i(this.getLinearTickPositions(t,e,a),this.log2lin),s||(this._minorAutoInterval=t/5);return s||(this.tickInterval=t),d},e.prototype.log2lin=function(t){return Math.log(t)/Math.LN10},e.prototype.lin2log=function(t){return Math.pow(10,t)}}(e),function(t,e){var n=t.arrayMax,i=t.arrayMin,r=t.defined,o=t.destroyObjectProperties,a=t.each,s=t.erase,l=t.merge,u=t.pick;t.PlotLineOrBand=function(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)},t.PlotLineOrBand.prototype={render:function(){t.fireEvent(this,"render");var e=this,n=e.axis,i=n.horiz,o=e.options,a=o.label,s=e.label,d=o.to,c=o.from,h=o.value,p=r(c)&&r(d),f=r(h),g=e.svgElem,m=!g,y=[],v=o.color,x=u(o.zIndex,0),b=o.events,y={"class":"highcharts-plot-"+(p?"band ":"line ")+(o.className||"")},A={},w=n.chart.renderer,S=p?"bands":"lines";if(n.isLog&&(c=n.log2lin(c),d=n.log2lin(d),h=n.log2lin(h)),f?(y.stroke=v,y["stroke-width"]=o.width,o.dashStyle&&(y.dashstyle=o.dashStyle)):p&&(v&&(y.fill=v),o.borderWidth&&(y.stroke=o.borderColor,y["stroke-width"]=o.borderWidth)),A.zIndex=x,S+="-"+x,(v=n.plotLinesAndBandsGroups[S])||(n.plotLinesAndBandsGroups[S]=v=w.g("plot-"+S).attr(A).add()),m&&(e.svgElem=g=w.path().attr(y).add(v)),f)y=n.getPlotLinePath(h,g.strokeWidth());else{if(!p)return;y=n.getPlotBandPath(c,d,o)}return m&&y&&y.length?(g.attr({d:y}),b&&t.objectEach(b,function(t,n){g.on(n,function(t){b[n].apply(e,[t])})})):g&&(y?(g.show(),g.animate({
d:y})):(g.hide(),s&&(e.label=s=s.destroy()))),a&&r(a.text)&&y&&y.length&&0<n.width&&0<n.height&&!y.isFlat?(a=l({align:i&&p&&"center",x:i?!p&&4:10,verticalAlign:!i&&p&&"middle",y:i?p?16:10:p?6:-4,rotation:i&&!p&&90},a),this.renderLabel(a,y,p,x)):s&&s.hide(),e},renderLabel:function(t,e,r,o){var a=this.label,s=this.axis.chart.renderer;a||(a={align:t.textAlign||t.align,rotation:t.rotation,"class":"highcharts-plot-"+(r?"band":"line")+"-label "+(t.className||"")},a.zIndex=o,this.label=a=s.text(t.text,0,0,t.useHTML).attr(a).add(),a.css(t.style)),o=e.xBounds||[e[1],e[4],r?e[6]:e[1]],e=e.yBounds||[e[2],e[5],r?e[7]:e[2]],r=i(o),s=i(e),a.align(t,!1,{x:r,y:s,width:n(o)-r,height:n(e)-s}),a.show()},destroy:function(){s(this.axis.plotLinesAndBands,this),delete this.axis,o(this)}},t.extend(e.prototype,{getPlotBandPath:function(t,e){var n,i=this.getPlotLinePath(e,null,null,!0),r=this.getPlotLinePath(t,null,null,!0),o=[],a=this.horiz,s=1;if(t=t<this.min&&e<this.min||t>this.max&&e>this.max,r&&i)for(t&&(n=r.toString()===i.toString(),s=0),t=0;t<r.length;t+=6)a&&i[t+1]===r[t+1]?(i[t+1]+=s,i[t+4]+=s):a||i[t+2]!==r[t+2]||(i[t+2]+=s,i[t+5]+=s),o.push("M",r[t+1],r[t+2],"L",r[t+4],r[t+5],i[t+4],i[t+5],i[t+1],i[t+2],"z"),o.isFlat=n;return o},addPlotBand:function(t){return this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){return this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(e,n){var i=new t.PlotLineOrBand(this,e).render(),r=this.userOptions;return i&&(n&&(r[n]=r[n]||[],r[n].push(e)),this.plotLinesAndBands.push(i)),i},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,n=this.options,i=this.userOptions,r=e.length;r--;)e[r].id===t&&e[r].destroy();a([n.plotLines||[],i.plotLines||[],n.plotBands||[],i.plotBands||[]],function(e){for(r=e.length;r--;)e[r].id===t&&s(e,e[r])})},removePlotBand:function(t){this.removePlotBandOrLine(t)},removePlotLine:function(t){this.removePlotBandOrLine(t)}})}(e,n),function(t){var e=t.doc,n=t.each,i=t.extend,r=t.format,o=t.isNumber,a=t.map,s=t.merge,l=t.pick,u=t.splat,d=t.syncTimeout,c=t.timeUnits;t.Tooltip=function(){this.init.apply(this,arguments)},t.Tooltip.prototype={init:function(t,e){this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=e.split&&!t.inverted,this.shared=e.shared||this.split,this.outside=e.outside&&!this.split},cleanSplit:function(t){n(this.chart.series,function(e){var n=e&&e.tt;n&&(!n.isActive||t?e.tt=n.destroy():n.isActive=!1)})},getLabel:function(){var e,n=this.chart.renderer,i=this.options;return this.label||(this.outside&&(this.container=e=t.doc.createElement("div"),e.className="highcharts-tooltip-container",t.css(e,{position:"absolute",top:"1px",pointerEvents:i.style&&i.style.pointerEvents}),t.doc.body.appendChild(e),this.renderer=n=new t.Renderer(e,0,0)),this.split?this.label=n.g("tooltip"):(this.label=n.label("",0,0,i.shape||"callout",null,null,i.useHTML,null,"tooltip").attr({padding:i.padding,r:i.borderRadius}),this.label.attr({fill:i.backgroundColor,"stroke-width":i.borderWidth}).css(i.style).shadow(i.shadow)),this.outside&&(this.label.attr({x:this.distance,y:this.distance}),this.label.xSetter=function(t){e.style.left=t+"px"},this.label.ySetter=function(t){e.style.top=t+"px"}),this.label.attr({zIndex:8}).add()),this.label},update:function(t){this.destroy(),s(!0,this.chart.options.tooltip.userOptions,t),this.init(this.chart,s(!0,this.options,t))},destroy:function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(this.chart,!0),this.tt=this.tt.destroy()),this.renderer&&(this.renderer=this.renderer.destroy(),t.discardElement(this.container)),t.clearTimeout(this.hideTimer),t.clearTimeout(this.tooltipTimeout)},move:function(e,n,r,o){var a=this,s=a.now,l=!1!==a.options.animation&&!a.isHidden&&(1<Math.abs(e-s.x)||1<Math.abs(n-s.y)),u=a.followPointer||1<a.len;i(s,{x:l?(2*s.x+e)/3:e,y:l?(s.y+n)/2:n,anchorX:u?void 0:l?(2*s.anchorX+r)/3:r,anchorY:u?void 0:l?(s.anchorY+o)/2:o}),a.getLabel().attr(s),l&&(t.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){a&&a.move(e,n,r,o)},32))},hide:function(e){var n=this;t.clearTimeout(this.hideTimer),e=l(e,this.options.hideDelay,500),this.isHidden||(this.hideTimer=d(function(){n.getLabel()[e?"fadeOut":"hide"](),n.isHidden=!0},e))},getAnchor:function(t,e){var i,r,o=this.chart,s=o.pointer,l=o.inverted,d=o.plotTop,c=o.plotLeft,h=0,p=0;return t=u(t),this.followPointer&&e?(void 0===e.chartX&&(e=s.normalize(e)),t=[e.chartX-o.plotLeft,e.chartY-d]):t[0].tooltipPos?t=t[0].tooltipPos:(n(t,function(t){i=t.series.yAxis,r=t.series.xAxis,h+=t.plotX+(!l&&r?r.left-c:0),p+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!l&&i?i.top-d:0)}),h/=t.length,p/=t.length,t=[l?o.plotWidth-p:h,this.shared&&!l&&1<t.length&&e?e.chartY-d:l?o.plotHeight-h:p]),a(t,Math.round)},getPosition:function(t,n,i){var r,o=this.chart,a=this.distance,s={},u=o.inverted&&i.h||0,d=this.outside,c=d?e.documentElement.clientWidth-2*a:o.chartWidth,h=d?Math.max(e.body.scrollHeight,e.documentElement.scrollHeight,e.body.offsetHeight,e.documentElement.offsetHeight,e.documentElement.clientHeight):o.chartHeight,p=o.pointer.chartPosition,f=["y",h,n,(d?p.top-a:0)+i.plotY+o.plotTop,d?0:o.plotTop,d?h:o.plotTop+o.plotHeight],g=["x",c,t,(d?p.left-a:0)+i.plotX+o.plotLeft,d?0:o.plotLeft,d?c:o.plotLeft+o.plotWidth],m=!this.followPointer&&l(i.ttBelow,!o.inverted==!!i.negative),y=function(t,e,n,i,r,o){var l=n<i-a,d=i+a+n<e,c=i-a-n;if(i+=a,m&&d)s[t]=i;else if(!m&&l)s[t]=c;else if(l)s[t]=Math.min(o-n,0>c-u?c:c-u);else{if(!d)return!1;s[t]=Math.max(r,i+u+n>e?i:i+u)}},v=function(t,e,n,i){var r;return i<a||i>e-a?r=!1:s[t]=i<n/2?1:i>e-n/2?e-n-2:i-n/2,r},x=function(t){var e=f;f=g,g=e,r=t},b=function(){!1!==y.apply(0,f)?!1!==v.apply(0,g)||r||(x(!0),b()):r?s.x=s.y=0:(x(!0),b())};return(o.inverted||1<this.len)&&x(),b(),s},defaultFormatter:function(t){var e,n=this.points||u(this);return e=[t.tooltipFooterHeaderFormatter(n[0])],e=e.concat(t.bodyFormatter(n)),e.push(t.tooltipFooterHeaderFormatter(n[0],!0)),e},refresh:function(e,i){var r,o,a,s=this.options,d=e,c={},h=[];r=s.formatter||this.defaultFormatter;var p,c=this.shared;s.enabled&&(t.clearTimeout(this.hideTimer),this.followPointer=u(d)[0].series.tooltipOptions.followPointer,a=this.getAnchor(d,i),i=a[0],o=a[1],!c||d.series&&d.series.noSharedTooltip?c=d.getLabelConfig():(n(d,function(t){t.setState("hover"),h.push(t.getLabelConfig())}),c={x:d[0].category,y:d[0].y},c.points=h,d=d[0]),this.len=h.length,c=r.call(c,this),p=d.series,this.distance=l(p.tooltipOptions.distance,16),!1===c?this.hide():(r=this.getLabel(),this.isHidden&&r.attr({opacity:1}).show(),this.split?this.renderSplit(c,u(e)):(s.style.width||r.css({width:this.chart.spacingBox.width}),r.attr({text:c&&c.join?c.join(""):c}),r.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+l(d.colorIndex,p.colorIndex)),r.attr({stroke:s.borderColor||d.color||p.color||"#666666"}),this.updatePosition({plotX:i,plotY:o,negative:d.negative,ttBelow:d.ttBelow,h:a[2]||0})),this.isHidden=!1))},renderSplit:function(e,i){var r,o=this,a=[],s=this.chart,u=s.renderer,d=!0,c=this.options,h=0,p=this.getLabel(),f=s.plotTop;t.isString(e)&&(e=[!1,e]),n(e.slice(0,i.length+1),function(t,e){if(!1!==t){e=i[e-1]||{isHeader:!0,plotX:i[0].plotX};var n=e.series||o,g=n.tt,m=e.series||{},y="highcharts-color-"+l(e.colorIndex,m.colorIndex,"none");g||(n.tt=g=u.label(null,null,null,"callout",null,null,c.useHTML).addClass("highcharts-tooltip-box "+y+(e.isHeader?" highcharts-tooltip-header":"")).attr({padding:c.padding,r:c.borderRadius,fill:c.backgroundColor,stroke:c.borderColor||e.color||m.color||"#333333","stroke-width":c.borderWidth}).add(p)),g.isActive=!0,g.attr({text:t}),g.css(c.style).shadow(c.shadow),t=g.getBBox(),m=t.width+g.strokeWidth(),e.isHeader?(h=t.height,s.xAxis[0].opposite&&(r=!0,f-=h),m=Math.max(0,Math.min(e.plotX+s.plotLeft-m/2,s.chartWidth+(s.scrollablePixels?s.scrollablePixels-s.marginRight:0)-m))):m=e.plotX+s.plotLeft-l(c.distance,16)-m,0>m&&(d=!1),t=(e.series&&e.series.yAxis&&e.series.yAxis.pos)+(e.plotY||0),t-=f,e.isHeader&&(t=r?-h:s.plotHeight+h),a.push({target:t,rank:e.isHeader?1:0,size:n.tt.getBBox().height+1,point:e,x:m,tt:g})}}),this.cleanSplit(),t.distribute(a,s.plotHeight+h),n(a,function(t){var e=t.point,n=e.series;t.tt.attr({visibility:void 0===t.pos?"hidden":"inherit",x:d||e.isHeader?t.x:e.plotX+s.plotLeft+l(c.distance,16),y:t.pos+f,anchorX:e.isHeader?e.plotX+s.plotLeft:e.plotX+n.xAxis.pos,anchorY:e.isHeader?s.plotTop+s.plotHeight/2:e.plotY+n.yAxis.pos})})},updatePosition:function(t){var e=this.chart,n=this.getLabel(),i=(this.options.positioner||this.getPosition).call(this,n.width,n.height,t),r=t.plotX+e.plotLeft;t=t.plotY+e.plotTop;var o;this.outside&&(o=(this.options.borderWidth||0)+2*this.distance,this.renderer.setSize(n.width+o,n.height+o,!1),r+=e.pointer.chartPosition.left-i.x,t+=e.pointer.chartPosition.top-i.y),this.move(Math.round(i.x),Math.round(i.y||0),r,t)},getDateFormat:function(t,e,n,i){var r,o,a=this.chart.time,s=a.dateFormat("%m-%d %H:%M:%S.%L",e),l={millisecond:15,second:12,minute:9,hour:6,day:3},u="millisecond";for(o in c){if(t===c.week&&+a.dateFormat("%w",e)===n&&"00:00:00.000"===s.substr(6)){o="week";break}if(c[o]>t){o=u;break}if(l[o]&&s.substr(l[o])!=="01-01 00:00:00.000".substr(l[o]))break;"week"!==o&&(u=o)}return o&&(r=a.resolveDTLFormat(i[o]).main),r},getXDateFormat:function(t,e,n){e=e.dateTimeLabelFormats;var i=n&&n.closestPointRange;return(i?this.getDateFormat(i,t.x,n.options.startOfWeek,e):e.day)||e.year},tooltipFooterHeaderFormatter:function(t,e){e=e?"footer":"header";var i=t.series,a=i.tooltipOptions,s=a.xDateFormat,l=i.xAxis,u=l&&"datetime"===l.options.type&&o(t.key),d=a[e+"Format"];return u&&!s&&(s=this.getXDateFormat(t,a,l)),u&&s&&n(t.point&&t.point.tooltipDateKeys||["key"],function(t){d=d.replace("{point."+t+"}","{point."+t+":"+s+"}")}),r(d,{point:t,series:i},this.chart.time)},bodyFormatter:function(t){return a(t,function(t){var e=t.series.tooltipOptions;return(e[(t.point.formatPrefix||"point")+"Formatter"]||t.point.tooltipFormatter).call(t.point,e[(t.point.formatPrefix||"point")+"Format"])})}}}(e),function(t){var e=t.addEvent,n=t.attr,i=t.charts,r=t.color,o=t.css,a=t.defined,s=t.each,l=t.extend,u=t.find,d=t.fireEvent,c=t.isNumber,h=t.isObject,p=t.offset,f=t.pick,g=t.splat,m=t.Tooltip;t.Pointer=function(t,e){this.init(t,e)},t.Pointer.prototype={init:function(t,e){this.options=e,this.chart=t,this.runChartClick=e.chart.events&&!!e.chart.events.click,this.pinchDown=[],this.lastValidTouch={},m&&(t.tooltip=new m(t,e.tooltip),this.followTouchMove=f(e.tooltip.followTouchMove,!0)),this.setDOMEvents()},zoomOption:function(t){var e=this.chart,n=e.options.chart,i=n.zoomType||"",e=e.inverted;/touch/.test(t.type)&&(i=f(n.pinchType,i)),this.zoomX=t=/x/.test(i),this.zoomY=i=/y/.test(i),this.zoomHor=t&&!e||i&&e,this.zoomVert=i&&!e||t&&e,this.hasZoom=t||i},normalize:function(t,e){var n;return n=t.touches?t.touches.length?t.touches.item(0):t.changedTouches[0]:t,e||(this.chartPosition=e=p(this.chart.container)),l(t,{chartX:Math.round(n.pageX-e.left),chartY:Math.round(n.pageY-e.top)})},getCoordinates:function(t){var e={xAxis:[],yAxis:[]};return s(this.chart.axes,function(n){e[n.isXAxis?"xAxis":"yAxis"].push({axis:n,value:n.toValue(t[n.horiz?"chartX":"chartY"])})}),e},findNearestKDPoint:function(t,e,n){var i;return s(t,function(t){var r=!(t.noSharedTooltip&&e)&&0>t.options.findNearestPointBy.indexOf("y");if(t=t.searchPoint(n,r),(r=h(t,!0))&&!(r=!h(i,!0)))var r=i.distX-t.distX,o=i.dist-t.dist,a=(t.series.group&&t.series.group.zIndex)-(i.series.group&&i.series.group.zIndex),r=0<(0!==r&&e?r:0!==o?o:0!==a?a:i.series.index>t.series.index?-1:1);r&&(i=t)}),i},getPointFromEvent:function(t){t=t.target;for(var e;t&&!e;)e=t.point,t=t.parentNode;return e},getChartCoordinatesFromPoint:function(t,e){var n=t.series,i=n.xAxis,n=n.yAxis,r=f(t.clientX,t.plotX),o=t.shapeArgs;return i&&n?e?{chartX:i.len+i.pos-r,chartY:n.len+n.pos-t.plotY}:{chartX:r+i.pos,chartY:t.plotY+n.pos}:o&&o.x&&o.y?{chartX:o.x,chartY:o.y}:void 0},getHoverData:function(e,n,i,r,o,a,l){var d,c=[],p=l&&l.isBoosting;return r=!(!r||!e),l=n&&!n.stickyTracking?[n]:t.grep(i,function(t){return t.visible&&!(!o&&t.directTouch)&&f(t.options.enableMouseTracking,!0)&&t.stickyTracking}),n=(d=r?e:this.findNearestKDPoint(l,o,a))&&d.series,d&&(o&&!n.noSharedTooltip?(l=t.grep(i,function(t){return t.visible&&!(!o&&t.directTouch)&&f(t.options.enableMouseTracking,!0)&&!t.noSharedTooltip}),s(l,function(t){var e=u(t.points,function(t){return t.x===d.x&&!t.isNull});h(e)&&(p&&(e=t.getPoint(e)),c.push(e))})):c.push(d)),{hoverPoint:d,hoverSeries:n,hoverPoints:c}},runPointActions:function(n,r){var o,a=this.chart,l=a.tooltip&&a.tooltip.options.enabled?a.tooltip:void 0,u=!!l&&l.shared,d=r||a.hoverPoint,c=d&&d.series||a.hoverSeries,c=this.getHoverData(d,c,a.series,"touchmove"!==n.type&&(!!r||c&&c.directTouch&&this.isDirectTouch),u,n,{isBoosting:a.isBoosting}),d=c.hoverPoint;if(o=c.hoverPoints,r=(c=c.hoverSeries)&&c.tooltipOptions.followPointer,u=u&&c&&!c.noSharedTooltip,d&&(d!==a.hoverPoint||l&&l.isHidden)){if(s(a.hoverPoints||[],function(e){-1===t.inArray(e,o)&&e.setState()}),s(o||[],function(t){t.setState("hover")}),a.hoverSeries!==c&&c.onMouseOver(),a.hoverPoint&&a.hoverPoint.firePointEvent("mouseOut"),!d.series)return;d.firePointEvent("mouseOver"),a.hoverPoints=o,a.hoverPoint=d,l&&l.refresh(u?o:d,n)}else r&&l&&!l.isHidden&&(d=l.getAnchor([{}],n),l.updatePosition({plotX:d[0],plotY:d[1]}));this.unDocMouseMove||(this.unDocMouseMove=e(a.container.ownerDocument,"mousemove",function(e){var n=i[t.hoverChartIndex];n&&n.pointer.onDocumentMouseMove(e)})),s(a.axes,function(e){var i=f(e.crosshair.snap,!0),r=i?t.find(o,function(t){return t.series[e.coll]===e}):void 0;r||!i?e.drawCrosshair(n,r):e.hideCrosshair()})},reset:function(t,e){var n=this.chart,i=n.hoverSeries,r=n.hoverPoint,o=n.hoverPoints,a=n.tooltip,l=a&&a.shared?o:r;t&&l&&s(g(l),function(e){e.series.isCartesian&&void 0===e.plotX&&(t=!1)}),t?a&&l&&(a.refresh(l),a.shared&&o?s(o,function(t){t.setState(t.state,!0),t.series.isCartesian&&(t.series.xAxis.crosshair&&t.series.xAxis.drawCrosshair(null,t),t.series.yAxis.crosshair&&t.series.yAxis.drawCrosshair(null,t))}):r&&(r.setState(r.state,!0),s(n.axes,function(t){t.crosshair&&t.drawCrosshair(null,r)}))):(r&&r.onMouseOut(),o&&s(o,function(t){t.setState()}),i&&i.onMouseOut(),a&&a.hide(e),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),s(n.axes,function(t){t.hideCrosshair()}),this.hoverX=n.hoverPoints=n.hoverPoint=null)},scaleGroups:function(t,e){var n,i=this.chart;s(i.series,function(r){n=t||r.getPlotBox(),r.xAxis&&r.xAxis.zoomEnabled&&r.group&&(r.group.attr(n),r.markerGroup&&(r.markerGroup.attr(n),r.markerGroup.clip(e?i.clipRect:null)),r.dataLabelsGroup&&r.dataLabelsGroup.attr(n))}),i.clipRect.attr(e||i.clipBox)},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e,n=this.chart,i=n.options.chart,o=t.chartX,a=t.chartY,s=this.zoomHor,l=this.zoomVert,u=n.plotLeft,d=n.plotTop,c=n.plotWidth,h=n.plotHeight,p=this.selectionMarker,f=this.mouseDownX,g=this.mouseDownY,m=i.panKey&&t[i.panKey+"Key"];p&&p.touch||(o<u?o=u:o>u+c&&(o=u+c),a<d?a=d:a>d+h&&(a=d+h),this.hasDragged=Math.sqrt(Math.pow(f-o,2)+Math.pow(g-a,2)),10<this.hasDragged&&(e=n.isInsidePlot(f-u,g-d),n.hasCartesianSeries&&(this.zoomX||this.zoomY)&&e&&!m&&!p&&(this.selectionMarker=p=n.renderer.rect(u,d,s?1:c,l?1:h,0).attr({fill:i.selectionMarkerFill||r("#335cad").setOpacity(.25).get(),"class":"highcharts-selection-marker",zIndex:7}).add()),p&&s&&(o-=f,p.attr({width:Math.abs(o),x:(0<o?0:o)+f})),p&&l&&(o=a-g,p.attr({height:Math.abs(o),y:(0<o?0:o)+g})),e&&!p&&i.panning&&n.pan(t,i.panning)))},drop:function(t){var e=this,n=this.chart,i=this.hasPinched;if(this.selectionMarker){var r,u={originalEvent:t,xAxis:[],yAxis:[]},h=this.selectionMarker,p=h.attr?h.attr("x"):h.x,f=h.attr?h.attr("y"):h.y,g=h.attr?h.attr("width"):h.width,m=h.attr?h.attr("height"):h.height;(this.hasDragged||i)&&(s(n.axes,function(n){if(n.zoomEnabled&&a(n.min)&&(i||e[{xAxis:"zoomX",yAxis:"zoomY"}[n.coll]])){var o=n.horiz,s="touchend"===t.type?n.minPixelPadding:0,l=n.toValue((o?p:f)+s),o=n.toValue((o?p+g:f+m)-s);u[n.coll].push({axis:n,min:Math.min(l,o),max:Math.max(l,o)}),r=!0}}),r&&d(n,"selection",u,function(t){n.zoom(l(t,i?{animation:!1}:null))})),c(n.index)&&(this.selectionMarker=this.selectionMarker.destroy()),i&&this.scaleGroups()}n&&c(n.index)&&(o(n.container,{cursor:n._cursor}),n.cancelClick=10<this.hasDragged,n.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){t=this.normalize(t),2!==t.button&&(this.zoomOption(t),t.preventDefault&&t.preventDefault(),this.dragStart(t))},onDocumentMouseUp:function(e){i[t.hoverChartIndex]&&i[t.hoverChartIndex].pointer.drop(e)},onDocumentMouseMove:function(t){var e=this.chart,n=this.chartPosition;t=this.normalize(t,n),!n||this.inClass(t.target,"highcharts-tracker")||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)||this.reset()},onContainerMouseLeave:function(e){var n=i[t.hoverChartIndex];n&&(e.relatedTarget||e.toElement)&&(n.pointer.reset(),n.pointer.chartPosition=null)},onContainerMouseMove:function(e){var n=this.chart;a(t.hoverChartIndex)&&i[t.hoverChartIndex]&&i[t.hoverChartIndex].mouseIsDown||(t.hoverChartIndex=n.index),e=this.normalize(e),e.returnValue=!1,"mousedown"===n.mouseIsDown&&this.drag(e),!this.inClass(e.target,"highcharts-tracker")&&!n.isInsidePlot(e.chartX-n.plotLeft,e.chartY-n.plotTop)||n.openMenu||this.runPointActions(e)},inClass:function(t,e){for(var i;t;){if(i=n(t,"class")){if(-1!==i.indexOf(e))return!0;if(-1!==i.indexOf("highcharts-container"))return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries;t=t.relatedTarget||t.toElement,this.isDirectTouch=!1,!e||!t||e.stickyTracking||this.inClass(t,"highcharts-tooltip")||this.inClass(t,"highcharts-series-"+e.index)&&this.inClass(t,"highcharts-tracker")||e.onMouseOut()},onContainerClick:function(t){var e=this.chart,n=e.hoverPoint,i=e.plotLeft,r=e.plotTop;t=this.normalize(t),e.cancelClick||(n&&this.inClass(t.target,"highcharts-tracker")?(d(n.series,"click",l(t,{point:n})),e.hoverPoint&&n.firePointEvent("click",t)):(l(t,this.getCoordinates(t)),e.isInsidePlot(t.chartX-i,t.chartY-r)&&d(e,"click",t)))},setDOMEvents:function(){var n=this,i=n.chart.container,r=i.ownerDocument;i.onmousedown=function(t){n.onContainerMouseDown(t)},i.onmousemove=function(t){n.onContainerMouseMove(t)},i.onclick=function(t){n.onContainerClick(t)},this.unbindContainerMouseLeave=e(i,"mouseleave",n.onContainerMouseLeave),t.unbindDocumentMouseUp||(t.unbindDocumentMouseUp=e(r,"mouseup",n.onDocumentMouseUp)),t.hasTouch&&(i.ontouchstart=function(t){n.onContainerTouchStart(t)},i.ontouchmove=function(t){n.onContainerTouchMove(t)},t.unbindDocumentTouchEnd||(t.unbindDocumentTouchEnd=e(r,"touchend",n.onDocumentTouchEnd)))},destroy:function(){var e=this;e.unDocMouseMove&&e.unDocMouseMove(),this.unbindContainerMouseLeave(),t.chartCount||(t.unbindDocumentMouseUp&&(t.unbindDocumentMouseUp=t.unbindDocumentMouseUp()),t.unbindDocumentTouchEnd&&(t.unbindDocumentTouchEnd=t.unbindDocumentTouchEnd())),clearInterval(e.tooltipTimeout),t.objectEach(e,function(t,n){e[n]=null})}}}(e),function(t){var e=t.charts,n=t.each,i=t.extend,r=t.map,o=t.noop,a=t.pick;i(t.Pointer.prototype,{pinchTranslate:function(t,e,n,i,r,o){this.zoomHor&&this.pinchTranslateDirection(!0,t,e,n,i,r,o),this.zoomVert&&this.pinchTranslateDirection(!1,t,e,n,i,r,o)},pinchTranslateDirection:function(t,e,n,i,r,o,a,s){var l,u,d,c=this.chart,h=t?"x":"y",p=t?"X":"Y",f="chart"+p,g=t?"width":"height",m=c["plot"+(t?"Left":"Top")],y=s||1,v=c.inverted,x=c.bounds[t?"h":"v"],b=1===e.length,A=e[0][f],w=n[0][f],S=!b&&e[1][f],E=!b&&n[1][f];n=function(){!b&&20<Math.abs(A-S)&&(y=s||Math.abs(w-E)/Math.abs(A-S)),u=(m-w)/y+A,l=c["plot"+(t?"Width":"Height")]/y},n(),e=u,e<x.min?(e=x.min,d=!0):e+l>x.max&&(e=x.max-l,d=!0),d?(w-=.8*(w-a[h][0]),b||(E-=.8*(E-a[h][1])),n()):a[h]=[w,E],v||(o[h]=u-m,o[g]=l),o=v?1/y:y,r[g]=l,r[h]=e,i[v?t?"scaleY":"scaleX":"scale"+p]=y,i["translate"+p]=o*m+(w-o*A)},pinch:function(t){var e=this,s=e.chart,l=e.pinchDown,u=t.touches,d=u.length,c=e.lastValidTouch,h=e.hasZoom,p=e.selectionMarker,f={},g=1===d&&(e.inClass(t.target,"highcharts-tracker")&&s.runTrackerClick||e.runChartClick),m={};1<d&&(e.initiated=!0),h&&e.initiated&&!g&&t.preventDefault(),r(u,function(t){return e.normalize(t)}),"touchstart"===t.type?(n(u,function(t,e){l[e]={chartX:t.chartX,chartY:t.chartY}}),c.x=[l[0].chartX,l[1]&&l[1].chartX],c.y=[l[0].chartY,l[1]&&l[1].chartY],n(s.axes,function(t){if(t.zoomEnabled){var e=s.bounds[t.horiz?"h":"v"],n=t.minPixelPadding,i=t.toPixels(a(t.options.min,t.dataMin)),r=t.toPixels(a(t.options.max,t.dataMax)),o=Math.max(i,r);e.min=Math.min(t.pos,Math.min(i,r)-n),e.max=Math.max(t.pos+t.len,o+n)}}),e.res=!0):e.followTouchMove&&1===d?this.runPointActions(e.normalize(t)):l.length&&(p||(e.selectionMarker=p=i({destroy:o,touch:!0},s.plotBox)),e.pinchTranslate(l,u,f,p,m,c),e.hasPinched=h,e.scaleGroups(f,m),e.res&&(e.res=!1,this.reset(!1,0)))},touch:function(e,n){var i,r,o=this.chart;o.index!==t.hoverChartIndex&&this.onContainerMouseLeave({relatedTarget:!0}),t.hoverChartIndex=o.index,1===e.touches.length?(e=this.normalize(e),(r=o.isInsidePlot(e.chartX-o.plotLeft,e.chartY-o.plotTop))&&!o.openMenu?(n&&this.runPointActions(e),"touchmove"===e.type&&(n=this.pinchDown,i=!!n[0]&&4<=Math.sqrt(Math.pow(n[0].chartX-e.chartX,2)+Math.pow(n[0].chartY-e.chartY,2))),a(i,!0)&&this.pinch(e)):n&&this.reset()):2===e.touches.length&&this.pinch(e)},onContainerTouchStart:function(t){this.zoomOption(t),this.touch(t,!0)},onContainerTouchMove:function(t){this.touch(t)},onDocumentTouchEnd:function(n){e[t.hoverChartIndex]&&e[t.hoverChartIndex].pointer.drop(n)}})}(e),function(t){var e=t.addEvent,n=t.charts,i=t.css,r=t.doc,o=t.extend,a=t.noop,s=t.Pointer,l=t.removeEvent,u=t.win,d=t.wrap;if(!t.hasTouch&&(u.PointerEvent||u.MSPointerEvent)){var c={},h=!!u.PointerEvent,p=function(){var e=[];return e.item=function(t){return this[t]},t.objectEach(c,function(t){e.push({pageX:t.pageX,pageY:t.pageY,target:t.target})}),e},f=function(e,i,r,o){"touch"!==e.pointerType&&e.pointerType!==e.MSPOINTER_TYPE_TOUCH||!n[t.hoverChartIndex]||(o(e),o=n[t.hoverChartIndex].pointer,o[i]({type:r,target:e.currentTarget,preventDefault:a,touches:p()}))};o(s.prototype,{onContainerPointerDown:function(t){f(t,"onContainerTouchStart","touchstart",function(t){c[t.pointerId]={pageX:t.pageX,pageY:t.pageY,target:t.currentTarget}})},onContainerPointerMove:function(t){f(t,"onContainerTouchMove","touchmove",function(t){c[t.pointerId]={pageX:t.pageX,pageY:t.pageY},c[t.pointerId].target||(c[t.pointerId].target=t.currentTarget)})},onDocumentPointerUp:function(t){f(t,"onDocumentTouchEnd","touchend",function(t){delete c[t.pointerId]})},batchMSEvents:function(t){t(this.chart.container,h?"pointerdown":"MSPointerDown",this.onContainerPointerDown),t(this.chart.container,h?"pointermove":"MSPointerMove",this.onContainerPointerMove),t(r,h?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),d(s.prototype,"init",function(t,e,n){t.call(this,e,n),this.hasZoom&&i(e.container,{"-ms-touch-action":"none","touch-action":"none"})}),d(s.prototype,"setDOMEvents",function(t){t.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(e)}),d(s.prototype,"destroy",function(t){this.batchMSEvents(l),t.call(this)})}}(e),function(t){var e=t.addEvent,n=t.css,i=t.discardElement,r=t.defined,o=t.each,a=t.fireEvent,s=t.isFirefox,l=t.marginNames,u=t.merge,d=t.pick,c=t.setAnimation,h=t.stableSort,p=t.win,f=t.wrap;t.Legend=function(t,e){this.init(t,e)},t.Legend.prototype={init:function(t,n){this.chart=t,this.setOptions(n),n.enabled&&(this.render(),e(this.chart,"endResize",function(){this.legend.positionCheckboxes()}),this.proximate?this.unchartrender=e(this.chart,"render",function(){this.legend.proximatePositions(),this.legend.positionItems()}):this.unchartrender&&this.unchartrender())},setOptions:function(t){var e=d(t.padding,8);this.options=t,this.itemStyle=t.itemStyle,this.itemHiddenStyle=u(this.itemStyle,t.itemHiddenStyle),this.itemMarginTop=t.itemMarginTop||0,this.padding=e,this.initialItemY=e-5,this.symbolWidth=d(t.symbolWidth,16),this.pages=[],this.proximate="proximate"===t.layout&&!this.chart.inverted},update:function(t,e){var n=this.chart;this.setOptions(u(!0,this.options,t)),this.destroy(),n.isDirtyLegend=n.isDirtyBox=!0,d(e,!0)&&n.redraw(),a(this,"afterUpdate")},colorizeItem:function(t,e){t.legendGroup[e?"removeClass":"addClass"]("highcharts-legend-item-hidden");var n=this.options,i=t.legendItem,r=t.legendLine,o=t.legendSymbol,s=this.itemHiddenStyle.color,n=e?n.itemStyle.color:s,l=e?t.color||s:s,u=t.options&&t.options.marker,d={fill:l};i&&i.css({fill:n,color:n}),r&&r.attr({stroke:l}),o&&(u&&o.isMarker&&(d=t.pointAttribs(),e||(d.stroke=d.fill=s)),o.attr(d)),a(this,"afterColorizeItem",{item:t,visible:e})},positionItems:function(){o(this.allItems,this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()},positionItem:function(t){var e=this.options,n=e.symbolPadding,e=!e.rtl,i=t._legendItemPos,o=i[0],i=i[1],a=t.checkbox;(t=t.legendGroup)&&t.element&&t[r(t.translateY)?"animate":"attr"]({translateX:e?o:this.legendWidth-o-2*n-4,translateY:i}),a&&(a.x=o,a.y=i)},destroyItem:function(t){var e=t.checkbox;o(["legendItem","legendLine","legendSymbol","legendGroup"],function(e){t[e]&&(t[e]=t[e].destroy())}),e&&i(t.checkbox)},destroy:function(){function t(t){this[t]&&(this[t]=this[t].destroy())}o(this.getAllItems(),function(e){o(["legendItem","legendGroup"],t,e)}),o("clipRect up down pager nav box title group".split(" "),t,this),this.display=null},positionCheckboxes:function(){var t,e=this.group&&this.group.alignAttr,i=this.clipHeight||this.legendHeight,r=this.titleHeight;e&&(t=e.translateY,o(this.allItems,function(o){var a,s=o.checkbox;s&&(a=t+r+s.y+(this.scrollOffset||0)+3,n(s,{left:e.translateX+o.checkboxOffset+s.x-20+"px",top:a+"px",display:this.proximate||a>t-6&&a<t+i-6?"":"none"}))},this))},renderTitle:function(){var t=this.options,e=this.padding,n=t.title,i=0;n.text&&(this.title||(this.title=this.chart.renderer.label(n.text,e-3,e-4,null,null,null,t.useHTML,null,"legend-title").attr({zIndex:1}).css(n.style).add(this.group)),t=this.title.getBBox(),i=t.height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:i})),this.titleHeight=i},setText:function(e){var n=this.options;e.legendItem.attr({text:n.labelFormat?t.format(n.labelFormat,e,this.chart.time):n.labelFormatter.call(e)})},renderItem:function(t){var e=this.chart,n=e.renderer,i=this.options,r=this.symbolWidth,o=i.symbolPadding,a=this.itemStyle,s=this.itemHiddenStyle,l="horizontal"===i.layout?d(i.itemDistance,20):0,c=!i.rtl,h=t.legendItem,p=!t.series,f=!p&&t.series.drawLegendSymbol?t.series:t,g=f.options,g=this.createCheckboxForItem&&g&&g.showCheckbox,l=r+o+l+(g?20:0),m=i.useHTML,y=t.options.className;h||(t.legendGroup=n.g("legend-item").addClass("highcharts-"+f.type+"-series highcharts-color-"+t.colorIndex+(y?" "+y:"")+(p?" highcharts-series-"+t.index:"")).attr({zIndex:1}).add(this.scrollGroup),t.legendItem=h=n.text("",c?r+o:-o,this.baseline||0,m).css(u(t.visible?a:s)).attr({align:c?"left":"right",zIndex:2}).add(t.legendGroup),this.baseline||(r=a.fontSize,this.fontMetrics=n.fontMetrics(r,h),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,h.attr("y",this.baseline)),this.symbolHeight=i.symbolHeight||this.fontMetrics.f,f.drawLegendSymbol(this,t),this.setItemEvents&&this.setItemEvents(t,h,m),g&&this.createCheckboxForItem(t)),this.colorizeItem(t,t.visible),a.width||h.css({width:(i.itemWidth||i.width||e.spacingBox.width)-l}),this.setText(t),e=h.getBBox(),t.itemWidth=t.checkboxOffset=i.itemWidth||t.legendItemWidth||e.width+l,this.maxItemWidth=Math.max(this.maxItemWidth,t.itemWidth),this.totalItemWidth+=t.itemWidth,this.itemHeight=t.itemHeight=Math.round(t.legendItemHeight||e.height||this.symbolHeight)},layoutItem:function(t){var e=this.options,n=this.padding,i="horizontal"===e.layout,r=t.itemHeight,o=e.itemMarginBottom||0,a=this.itemMarginTop,s=i?d(e.itemDistance,20):0,l=e.width,u=l||this.chart.spacingBox.width-2*n-e.x,e=e.alignColumns&&this.totalItemWidth>u?this.maxItemWidth:t.itemWidth;i&&this.itemX-n+e>u&&(this.itemX=n,this.itemY+=a+this.lastLineHeight+o,this.lastLineHeight=0),this.lastItemY=a+this.itemY+o,this.lastLineHeight=Math.max(r,this.lastLineHeight),t._legendItemPos=[this.itemX,this.itemY],i?this.itemX+=e:(this.itemY+=a+r+o,this.lastLineHeight=r),this.offsetWidth=l||Math.max((i?this.itemX-n-(t.checkbox?0:s):e)+n,this.offsetWidth)},getAllItems:function(){var t=[];return o(this.chart.series,function(e){var n=e&&e.options;e&&d(n.showInLegend,!r(n.linkedTo)&&void 0,!0)&&(t=t.concat(e.legendItems||("point"===n.legendType?e.data:e)))}),a(this,"afterGetAllItems",{allItems:t}),t},getAlignment:function(){var t=this.options;return this.proximate?t.align.charAt(0)+"tv":t.floating?"":t.align.charAt(0)+t.verticalAlign.charAt(0)+t.layout.charAt(0)},adjustMargins:function(t,e){var n=this.chart,i=this.options,a=this.getAlignment();a&&o([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(o,s){o.test(a)&&!r(t[s])&&(n[l[s]]=Math.max(n[l[s]],n.legend[(s+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][s]*i[s%2?"x":"y"]+d(i.margin,12)+e[s]+(0===s&&void 0!==n.options.title.margin?n.titleOffset+n.options.title.margin:0)))})},proximatePositions:function(){var e=this.chart,n=[],i="left"===this.options.align;o(this.allItems,function(r){var o,a;o=i,r.xAxis&&r.points&&(r.xAxis.options.reversed&&(o=!o),o=t.find(o?r.points:r.points.slice(0).reverse(),function(e){return t.isNumber(e.plotY)}),a=r.legendGroup.getBBox().height,n.push({target:r.visible?(o?o.plotY:r.xAxis.height)-.3*a:e.plotHeight,size:a,item:r}))},this),t.distribute(n,e.plotHeight),o(n,function(t){t.item._legendItemPos[1]=e.plotTop-e.spacing[0]+t.pos})},render:function(){var t,e,n,i=this.chart,r=i.renderer,a=this.group,s=this.box,l=this.options,d=this.padding;this.itemX=d,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,a||(this.group=a=r.g("legend").attr({zIndex:7}).add(),this.contentGroup=r.g().attr({zIndex:1}).add(a),this.scrollGroup=r.g().add(this.contentGroup)),this.renderTitle(),t=this.getAllItems(),h(t,function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)}),l.reversed&&t.reverse(),this.allItems=t,this.display=e=!!t.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,o(t,this.renderItem,this),o(t,this.layoutItem,this),t=(l.width||this.offsetWidth)+d,n=this.lastItemY+this.lastLineHeight+this.titleHeight,n=this.handleOverflow(n),n+=d,s||(this.box=s=r.rect().addClass("highcharts-legend-box").attr({r:l.borderRadius}).add(a),s.isNew=!0),s.attr({stroke:l.borderColor,"stroke-width":l.borderWidth||0,fill:l.backgroundColor||"none"}).shadow(l.shadow),0<t&&0<n&&(s[s.isNew?"attr":"animate"](s.crisp.call({},{x:0,y:0,width:t,height:n},s.strokeWidth())),s.isNew=!1),s[e?"show":"hide"](),this.legendWidth=t,this.legendHeight=n,e&&(r=i.spacingBox,/(lth|ct|rth)/.test(this.getAlignment())&&(r=u(r,{y:r.y+i.titleOffset+i.options.title.margin})),a.align(u(l,{width:t,height:n,verticalAlign:this.proximate?"top":l.verticalAlign}),!0,r)),this.proximate||this.positionItems()},handleOverflow:function(t){var e,n,i=this,r=this.chart,a=r.renderer,s=this.options,l=s.y,u=this.padding,r=r.spacingBox.height+("top"===s.verticalAlign?-l:l)-u,l=s.maxHeight,c=this.clipRect,h=s.navigation,p=d(h.animation,!0),f=h.arrowSize||12,g=this.nav,m=this.pages,y=this.allItems,v=function(t){"number"==typeof t?c.attr({height:t}):c&&(i.clipRect=c.destroy(),i.contentGroup.clip()),i.contentGroup.div&&(i.contentGroup.div.style.clip=t?"rect("+u+"px,9999px,"+(u+t)+"px,0)":"auto")};return"horizontal"!==s.layout||"middle"===s.verticalAlign||s.floating||(r/=2),
l&&(r=Math.min(r,l)),m.length=0,t>r&&!1!==h.enabled?(this.clipHeight=e=Math.max(r-20-this.titleHeight-u,0),this.currentPage=d(this.currentPage,1),this.fullHeight=t,o(y,function(t,i){var r=t._legendItemPos[1],o=Math.round(t.legendItem.getBBox().height),a=m.length;(!a||r-m[a-1]>e&&(n||r)!==m[a-1])&&(m.push(n||r),a++),t.pageIx=a-1,n&&(y[i-1].pageIx=a-1),i===y.length-1&&r+o-m[a-1]>e&&(m.push(r),t.pageIx=a),r!==n&&(n=r)}),c||(c=i.clipRect=a.clipRect(0,u,9999,0),i.contentGroup.clip(c)),v(e),g||(this.nav=g=a.g().attr({zIndex:1}).add(this.group),this.up=a.symbol("triangle",0,0,f,f).on("click",function(){i.scroll(-1,p)}).add(g),this.pager=a.text("",15,10).addClass("highcharts-legend-navigation").css(h.style).add(g),this.down=a.symbol("triangle-down",0,0,f,f).on("click",function(){i.scroll(1,p)}).add(g)),i.scroll(0),t=r):g&&(v(),this.nav=g.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var n=this.pages,i=n.length;t=this.currentPage+t;var r=this.clipHeight,o=this.options.navigation,a=this.pager,s=this.padding;t>i&&(t=i),0<t&&(void 0!==e&&c(e,this.chart),this.nav.attr({translateX:s,translateY:r+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({"class":1===t?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),a.attr({text:t+"/"+i}),this.down.attr({x:18+this.pager.getBBox().width,"class":t===i?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),this.up.attr({fill:1===t?o.inactiveColor:o.activeColor}).css({cursor:1===t?"default":"pointer"}),this.down.attr({fill:t===i?o.inactiveColor:o.activeColor}).css({cursor:t===i?"default":"pointer"}),this.scrollOffset=-n[t-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=t,this.positionCheckboxes())}},t.LegendSymbolMixin={drawRectangle:function(t,e){var n=t.symbolHeight,i=t.options.squareSymbol;e.legendSymbol=this.chart.renderer.rect(i?(t.symbolWidth-n)/2:0,t.baseline-n+1,i?n:t.symbolWidth,n,d(t.options.symbolRadius,n/2)).addClass("highcharts-point").attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function(t){var e=this.options,n=e.marker,i=t.symbolWidth,r=t.symbolHeight,o=r/2,a=this.chart.renderer,s=this.legendGroup;t=t.baseline-Math.round(.3*t.fontMetrics.b);var l;l={"stroke-width":e.lineWidth||0},e.dashStyle&&(l.dashstyle=e.dashStyle),this.legendLine=a.path(["M",0,t,"L",i,t]).addClass("highcharts-graph").attr(l).add(s),n&&!1!==n.enabled&&i&&(e=Math.min(d(n.radius,o),o),0===this.symbol.indexOf("url")&&(n=u(n,{width:r,height:r}),e=0),this.legendSymbol=n=a.symbol(this.symbol,i/2-e,t-e,2*e,2*e,n).addClass("highcharts-point").add(s),n.isMarker=!0)}},(/Trident\/7\.0/.test(p.navigator.userAgent)||s)&&f(t.Legend.prototype,"positionItem",function(t,e){var n=this,i=function(){e._legendItemPos&&t.call(n,e)};i(),setTimeout(i)})}(e),function(t){var e=t.addEvent,n=t.animate,i=t.animObject,r=t.attr,o=t.doc,a=t.Axis,s=t.createElement,l=t.defaultOptions,u=t.discardElement,d=t.charts,c=t.css,h=t.defined,p=t.each,f=t.extend,g=t.find,m=t.fireEvent,y=t.grep,v=t.isNumber,x=t.isObject,b=t.isString,A=t.Legend,w=t.marginNames,S=t.merge,E=t.objectEach,C=t.Pointer,P=t.pick,M=t.pInt,T=t.removeEvent,k=t.seriesTypes,I=t.splat,_=t.syncTimeout,O=t.win,D=t.Chart=function(){this.getArgs.apply(this,arguments)};t.chart=function(t,e,n){return new D(t,e,n)},f(D.prototype,{callbacks:[],getArgs:function(){var t=[].slice.call(arguments);(b(t[0])||t[0].nodeName)&&(this.renderTo=t.shift()),this.init(t[0],t[1])},init:function(n,i){var r,o,a=n.series,s=n.plotOptions||{};m(this,"init",{args:arguments},function(){n.series=null,r=S(l,n);for(o in r.plotOptions)r.plotOptions[o].tooltip=s[o]&&S(s[o].tooltip)||void 0;r.tooltip.userOptions=n.chart&&n.chart.forExport&&n.tooltip.userOptions||n.tooltip,r.series=n.series=a,this.userOptions=n;var u=r.chart,c=u.events;this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=i,this.isResizing=0,this.options=r,this.axes=[],this.series=[],this.time=n.time&&t.keys(n.time).length?new t.Time(n.time):t.time,this.hasCartesianSeries=u.showAxes;var h=this;h.index=d.length,d.push(h),t.chartCount++,c&&E(c,function(t,n){e(h,n,t)}),h.xAxis=[],h.yAxis=[],h.pointCount=h.colorCounter=h.symbolCounter=0,m(h,"afterInit"),h.firstRender()})},initSeries:function(e){var n=this.options.chart;return(n=k[e.type||n.type||n.defaultSeriesType])||t.error(17,!0),n=new n,n.init(this,e),n},orderSeries:function(t){var e=this.series;for(t=t||0;t<e.length;t++)e[t]&&(e[t].index=t,e[t].name=e[t].getName())},isInsidePlot:function(t,e,n){var i=n?e:t;return t=n?t:e,0<=i&&i<=this.plotWidth&&0<=t&&t<=this.plotHeight},redraw:function(e){m(this,"beforeRedraw");var n,i,r,o=this.axes,a=this.series,s=this.pointer,l=this.legend,u=this.userOptions.legend,d=this.isDirtyLegend,c=this.hasCartesianSeries,h=this.isDirtyBox,g=this.renderer,y=g.isHidden(),v=[];for(this.setResponsive&&this.setResponsive(!1),t.setAnimation(e,this),y&&this.temporaryDisplay(),this.layOutTitles(),e=a.length;e--;)if(r=a[e],r.options.stacking&&(n=!0,r.isDirty)){i=!0;break}if(i)for(e=a.length;e--;)r=a[e],r.options.stacking&&(r.isDirty=!0);p(a,function(t){t.isDirty&&("point"===t.options.legendType?(t.updateTotals&&t.updateTotals(),d=!0):u&&(u.labelFormatter||u.labelFormat)&&(d=!0)),t.isDirtyData&&m(t,"updatedData")}),d&&l&&l.options.enabled&&(l.render(),this.isDirtyLegend=!1),n&&this.getStacks(),c&&p(o,function(t){t.updateNames(),t.updateYNames&&t.updateYNames(),t.setScale()}),this.getMargins(),c&&(p(o,function(t){t.isDirty&&(h=!0)}),p(o,function(t){var e=t.min+","+t.max;t.extKey!==e&&(t.extKey=e,v.push(function(){m(t,"afterSetExtremes",f(t.eventArgs,t.getExtremes())),delete t.eventArgs})),(h||n)&&t.redraw()})),h&&this.drawChartBox(),m(this,"predraw"),p(a,function(t){(h||t.isDirty)&&t.visible&&t.redraw(),t.isDirtyData=!1}),s&&s.reset(!0),g.draw(),m(this,"redraw"),m(this,"render"),y&&this.temporaryDisplay(!0),p(v,function(t){t.call()})},get:function(t){function e(e){return e.id===t||e.options&&e.options.id===t}var n,i,r=this.series;for(n=g(this.axes,e)||g(this.series,e),i=0;!n&&i<r.length;i++)n=g(r[i].points||[],e);return n},getAxes:function(){var t=this,e=this.options,n=e.xAxis=I(e.xAxis||{}),e=e.yAxis=I(e.yAxis||{});m(this,"getAxes"),p(n,function(t,e){t.index=e,t.isX=!0}),p(e,function(t,e){t.index=e}),n=n.concat(e),p(n,function(e){new a(t,e)}),m(this,"afterGetAxes")},getSelectedPoints:function(){var t=[];return p(this.series,function(e){t=t.concat(y(e.data||[],function(t){return t.selected}))}),t},getSelectedSeries:function(){return y(this.series,function(t){return t.selected})},setTitle:function(t,e,n){var i,r=this,o=r.options;i=o.title=S({style:{color:"#333333",fontSize:o.isStock?"16px":"18px"}},o.title,t),o=o.subtitle=S({style:{color:"#666666"}},o.subtitle,e),p([["title",t,i],["subtitle",e,o]],function(t,e){var n=t[0],i=r[n],o=t[1];t=t[2],i&&o&&(r[n]=i=i.destroy()),t&&!i&&(r[n]=r.renderer.text(t.text,0,0,t.useHTML).attr({align:t.align,"class":"highcharts-"+n,zIndex:t.zIndex||4}).add(),r[n].update=function(t){r.setTitle(!e&&t,e&&t)},r[n].css(t.style))}),r.layOutTitles(n)},layOutTitles:function(t){var e,n=0,i=this.renderer,r=this.spacingBox;p(["title","subtitle"],function(t){var e=this[t],o=this.options[t];t="title"===t?-3:o.verticalAlign?0:n+2;var a;e&&(a=o.style.fontSize,a=i.fontMetrics(a,e).b,e.css({width:(o.width||r.width+o.widthAdjust)+"px"}).align(f({y:t+a},o),!1,"spacingBox"),o.floating||o.verticalAlign||(n=Math.ceil(n+e.getBBox(o.useHTML).height)))},this),e=this.titleOffset!==n,this.titleOffset=n,!this.isDirtyBox&&e&&(this.isDirtyBox=this.isDirtyLegend=e,this.hasRendered&&P(t,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var e=this.options.chart,n=e.width,e=e.height,i=this.renderTo;h(n)||(this.containerWidth=t.getStyle(i,"width")),h(e)||(this.containerHeight=t.getStyle(i,"height")),this.chartWidth=Math.max(0,n||this.containerWidth||600),this.chartHeight=Math.max(0,t.relativeLength(e,this.chartWidth)||(1<this.containerHeight?this.containerHeight:400))},temporaryDisplay:function(e){var n=this.renderTo;if(e)for(;n&&n.style;)n.hcOrigStyle&&(t.css(n,n.hcOrigStyle),delete n.hcOrigStyle),n.hcOrigDetached&&(o.body.removeChild(n),n.hcOrigDetached=!1),n=n.parentNode;else for(;n&&n.style&&(o.body.contains(n)||n.parentNode||(n.hcOrigDetached=!0,o.body.appendChild(n)),("none"===t.getStyle(n,"display",!1)||n.hcOricDetached)&&(n.hcOrigStyle={display:n.style.display,height:n.style.height,overflow:n.style.overflow},e={display:"block",overflow:"hidden"},n!==this.renderTo&&(e.height=0),t.css(n,e),n.offsetWidth||n.style.setProperty("display","block","important")),n=n.parentNode,n!==o.body););},setClassName:function(t){this.container.className="highcharts-container "+(t||"")},getContainer:function(){var e,n,i,a=this.options,l=a.chart;e=this.renderTo;var u,c=t.uniqueKey();e||(this.renderTo=e=l.renderTo),b(e)&&(this.renderTo=e=o.getElementById(e)),e||t.error(13,!0),n=M(r(e,"data-highcharts-chart")),v(n)&&d[n]&&d[n].hasRendered&&d[n].destroy(),r(e,"data-highcharts-chart",this.index),e.innerHTML="",l.skipClone||e.offsetWidth||this.temporaryDisplay(),this.getChartSize(),n=this.chartWidth,i=this.chartHeight,u=f({position:"relative",overflow:"hidden",width:n+"px",height:i+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},l.style),this.container=e=s("div",{id:c},u,e),this._cursor=e.style.cursor,this.renderer=new(t[l.renderer]||t.Renderer)(e,n,i,null,l.forExport,a.exporting&&a.exporting.allowHTML),this.setClassName(l.className),this.renderer.setStyle(l.style),this.renderer.chartIndex=this.index,m(this,"afterGetContainer")},getMargins:function(t){var e=this.spacing,n=this.margin,i=this.titleOffset;this.resetMargins(),i&&!h(n[0])&&(this.plotTop=Math.max(this.plotTop,i+this.options.title.margin+e[0])),this.legend&&this.legend.display&&this.legend.adjustMargins(n,e),m(this,"getMargins"),t||this.getAxisMargins()},getAxisMargins:function(){var t=this,e=t.axisOffset=[0,0,0,0],n=t.margin;t.hasCartesianSeries&&p(t.axes,function(t){t.visible&&t.getOffset()}),p(w,function(i,r){h(n[r])||(t[i]+=e[r])}),t.setChartSize()},reflow:function(e){var n=this,i=n.options.chart,r=n.renderTo,a=h(i.width)&&h(i.height),s=i.width||t.getStyle(r,"width"),i=i.height||t.getStyle(r,"height"),r=e?e.target:O;a||n.isPrinting||!s||!i||r!==O&&r!==o||(s===n.containerWidth&&i===n.containerHeight||(t.clearTimeout(n.reflowTimeout),n.reflowTimeout=_(function(){n.container&&n.setSize(void 0,void 0,!1)},e?100:0)),n.containerWidth=s,n.containerHeight=i)},setReflow:function(t){var n=this;!1===t||this.unbindReflow?!1===t&&this.unbindReflow&&(this.unbindReflow=this.unbindReflow()):(this.unbindReflow=e(O,"resize",function(t){n.reflow(t)}),e(this,"destroy",this.unbindReflow))},setSize:function(e,r,o){var a=this,s=a.renderer;a.isResizing+=1,t.setAnimation(o,a),a.oldChartHeight=a.chartHeight,a.oldChartWidth=a.chartWidth,void 0!==e&&(a.options.chart.width=e),void 0!==r&&(a.options.chart.height=r),a.getChartSize(),e=s.globalAnimation,(e?n:c)(a.container,{width:a.chartWidth+"px",height:a.chartHeight+"px"},e),a.setChartSize(!0),s.setSize(a.chartWidth,a.chartHeight,o),p(a.axes,function(t){t.isDirty=!0,t.setScale()}),a.isDirtyLegend=!0,a.isDirtyBox=!0,a.layOutTitles(),a.getMargins(),a.redraw(o),a.oldChartHeight=null,m(a,"resize"),_(function(){a&&m(a,"endResize",null,function(){--a.isResizing})},i(e).duration)},setChartSize:function(t){var e,n,i,r,o=this.inverted,a=this.renderer,s=this.chartWidth,l=this.chartHeight,u=this.options.chart,d=this.spacing,c=this.clipOffset;this.plotLeft=e=Math.round(this.plotLeft),this.plotTop=n=Math.round(this.plotTop),this.plotWidth=i=Math.max(0,Math.round(s-e-this.marginRight)),this.plotHeight=r=Math.max(0,Math.round(l-n-this.marginBottom)),this.plotSizeX=o?r:i,this.plotSizeY=o?i:r,this.plotBorderWidth=u.plotBorderWidth||0,this.spacingBox=a.spacingBox={x:d[3],y:d[0],width:s-d[3]-d[1],height:l-d[0]-d[2]},this.plotBox=a.plotBox={x:e,y:n,width:i,height:r},s=2*Math.floor(this.plotBorderWidth/2),o=Math.ceil(Math.max(s,c[3])/2),a=Math.ceil(Math.max(s,c[0])/2),this.clipBox={x:o,y:a,width:Math.floor(this.plotSizeX-Math.max(s,c[1])/2-o),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(s,c[2])/2-a))},t||p(this.axes,function(t){t.setAxisSize(),t.setAxisTranslation()}),m(this,"afterSetChartSize",{skipAxes:t})},resetMargins:function(){var t=this,e=t.options.chart;p(["margin","spacing"],function(n){var i=e[n],r=x(i)?i:[i,i,i,i];p(["Top","Right","Bottom","Left"],function(i,o){t[n][o]=P(e[n+i],r[o])})}),p(w,function(e,n){t[e]=P(t.margin[n],t.spacing[n])}),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e,n=this.options.chart,i=this.renderer,r=this.chartWidth,o=this.chartHeight,a=this.chartBackground,s=this.plotBackground,l=this.plotBorder,u=this.plotBGImage,d=n.backgroundColor,c=n.plotBackgroundColor,h=n.plotBackgroundImage,p=this.plotLeft,f=this.plotTop,g=this.plotWidth,y=this.plotHeight,v=this.plotBox,x=this.clipRect,b=this.clipBox,A="animate";a||(this.chartBackground=a=i.rect().addClass("highcharts-background").add(),A="attr"),t=n.borderWidth||0,e=t+(n.shadow?8:0),d={fill:d||"none"},(t||a["stroke-width"])&&(d.stroke=n.borderColor,d["stroke-width"]=t),a.attr(d).shadow(n.shadow),a[A]({x:e/2,y:e/2,width:r-e-t%2,height:o-e-t%2,r:n.borderRadius}),A="animate",s||(A="attr",this.plotBackground=s=i.rect().addClass("highcharts-plot-background").add()),s[A](v),s.attr({fill:c||"none"}).shadow(n.plotShadow),h&&(u?u.animate(v):this.plotBGImage=i.image(h,p,f,g,y).add()),x?x.animate({width:b.width,height:b.height}):this.clipRect=i.clipRect(b),A="animate",l||(A="attr",this.plotBorder=l=i.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),l.attr({stroke:n.plotBorderColor,"stroke-width":n.plotBorderWidth||0,fill:"none"}),l[A](l.crisp({x:p,y:f,width:g,height:y},-l.strokeWidth())),this.isDirtyBox=!1,m(this,"afterDrawChartBox")},propFromSeries:function(){var t,e,n,i=this,r=i.options.chart,o=i.options.series;p(["inverted","angular","polar"],function(a){for(t=k[r.type||r.defaultSeriesType],n=r[a]||t&&t.prototype[a],e=o&&o.length;!n&&e--;)(t=k[o[e].type])&&t.prototype[a]&&(n=!0);i[a]=n})},linkSeries:function(){var t=this,e=t.series;p(e,function(t){t.linkedSeries.length=0}),p(e,function(e){var n=e.options.linkedTo;b(n)&&(n=":previous"===n?t.series[e.index-1]:t.get(n))&&n.linkedParent!==e&&(n.linkedSeries.push(e),e.linkedParent=n,e.visible=P(e.options.visible,n.options.visible,e.visible))}),m(this,"afterLinkSeries")},renderSeries:function(){p(this.series,function(t){t.translate(),t.render()})},renderLabels:function(){var t=this,e=t.options.labels;e.items&&p(e.items,function(n){var i=f(e.style,n.style),r=M(i.left)+t.plotLeft,o=M(i.top)+t.plotTop+12;delete i.left,delete i.top,t.renderer.text(n.html,r,o).attr({zIndex:2}).css(i).add()})},render:function(){var t,e,n,i=this.axes,r=this.renderer,o=this.options;this.setTitle(),this.legend=new A(this,o.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),o=this.plotWidth,t=this.plotHeight=Math.max(this.plotHeight-21,0),p(i,function(t){t.setScale()}),this.getAxisMargins(),e=1.1<o/this.plotWidth,n=1.05<t/this.plotHeight,(e||n)&&(p(i,function(t){(t.horiz&&e||!t.horiz&&n)&&t.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries&&p(i,function(t){t.visible&&t.render()}),this.seriesGroup||(this.seriesGroup=r.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0},addCredits:function(t){var e=this;t=S(!0,this.options.credits,t),t.enabled&&!this.credits&&(this.credits=this.renderer.text(t.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){t.href&&(O.location.href=t.href)}).attr({align:t.position.align,zIndex:8}).css(t.style).add().align(t.position),this.credits.update=function(t){e.credits=e.credits.destroy(),e.addCredits(t)})},destroy:function(){var e,n=this,i=n.axes,r=n.series,o=n.container,a=o&&o.parentNode;for(m(n,"destroy"),n.renderer.forExport?t.erase(d,n):d[n.index]=void 0,t.chartCount--,n.renderTo.removeAttribute("data-highcharts-chart"),T(n),e=i.length;e--;)i[e]=i[e].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),e=r.length;e--;)r[e]=r[e].destroy();p("title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" "),function(t){var e=n[t];e&&e.destroy&&(n[t]=e.destroy())}),o&&(o.innerHTML="",T(o),a&&u(o)),E(n,function(t,e){delete n[e]})},firstRender:function(){var t=this,e=t.options;t.isReadyToRender&&!t.isReadyToRender()||(t.getContainer(),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),p(e.series||[],function(e){t.initSeries(e)}),t.linkSeries(),m(t,"beforeRender"),C&&(t.pointer=new C(t,e)),t.render(),!t.renderer.imgCount&&t.onload&&t.onload(),t.temporaryDisplay(!0))},onload:function(){p([this.callback].concat(this.callbacks),function(t){t&&void 0!==this.index&&t.apply(this,[this])},this),m(this,"load"),m(this,"render"),h(this.index)&&this.setReflow(this.options.chart.reflow),this.onload=null}})}(e),function(t){var e=t.addEvent,n=t.Chart,i=t.each;e(n,"afterSetChartSize",function(e){var n=this.options.chart.scrollablePlotArea;(n=n&&n.minWidth)&&!this.renderer.forExport&&(this.scrollablePixels=n=Math.max(0,n-this.chartWidth))&&(this.plotWidth+=n,this.clipBox.width+=n,e.skipAxes||i(this.axes,function(e){1===e.side?e.getPlotLinePath=function(){var n,i=this.right;return this.right=i-e.chart.scrollablePixels,n=t.Axis.prototype.getPlotLinePath.apply(this,arguments),this.right=i,n}:(e.setAxisSize(),e.setAxisTranslation())}))}),e(n,"render",function(){this.scrollablePixels?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()}),n.prototype.setUpScrolling=function(){this.scrollingContainer=t.createElement("div",{className:"highcharts-scrolling"},{overflowX:"auto",WebkitOverflowScrolling:"touch"},this.renderTo),this.innerContainer=t.createElement("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},n.prototype.applyFixed=function(){var e,n,i=this.container,r=!this.fixedDiv;r&&(this.fixedDiv=t.createElement("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:2},null,!0),this.renderTo.insertBefore(this.fixedDiv,this.renderTo.firstChild),this.fixedRenderer=e=new t.Renderer(this.fixedDiv,0,0),this.scrollableMask=e.path().attr({fill:t.color(this.options.chart.backgroundColor||"#fff").setOpacity(.85).get(),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),t.each([this.inverted?".highcharts-xaxis":".highcharts-yaxis",this.inverted?".highcharts-xaxis-labels":".highcharts-yaxis-labels",".highcharts-contextbutton",".highcharts-credits",".highcharts-legend",".highcharts-subtitle",".highcharts-title",".highcharts-legend-checkbox"],function(n){t.each(i.querySelectorAll(n),function(t){(t.namespaceURI===e.SVG_NS?e.box:e.box.parentNode).appendChild(t),t.style.pointerEvents="auto"})})),this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),n=this.chartWidth+this.scrollablePixels,t.stop(this.container),this.container.style.width=n+"px",this.renderer.boxWrapper.attr({width:n,height:this.chartHeight,viewBox:[0,0,n,this.chartHeight].join(" ")}),this.chartBackground.attr({width:n}),r&&(n=this.options.chart.scrollablePlotArea,n.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixels*n.scrollPositionX)),r=this.axisOffset,n=this.plotTop-r[0]-1;var r=this.plotTop+this.plotHeight+r[2],o=this.plotLeft+this.plotWidth-this.scrollablePixels;this.scrollableMask.attr({d:this.scrollablePixels?["M",0,n,"L",this.plotLeft-1,n,"L",this.plotLeft-1,r,"L",0,r,"Z","M",o,n,"L",this.chartWidth,n,"L",this.chartWidth,r,"L",o,r,"Z"]:["M",0,0]})}}(e),function(t){var e,n=t.each,i=t.extend,r=t.erase,o=t.fireEvent,a=t.format,s=t.isArray,l=t.isNumber,u=t.pick,d=t.uniqueKey,c=t.defined,h=t.removeEvent;t.Point=e=function(){},t.Point.prototype={init:function(t,e,n){return this.series=t,this.color=t.color,this.applyOptions(e,n),this.id=c(this.id)?this.id:d(),t.options.colorByPoint?(e=t.options.colors||t.chart.options.colors,this.color=this.color||e[t.colorCounter],e=e.length,n=t.colorCounter,t.colorCounter++,t.colorCounter===e&&(t.colorCounter=0)):n=t.colorIndex,this.colorIndex=u(this.colorIndex,n),t.chart.pointCount++,o(this,"afterInit"),this},applyOptions:function(t,n){var r=this.series,o=r.options.pointValKey||r.pointValKey;return t=e.prototype.optionsToObject.call(this,t),i(this,t),this.options=this.options?i(this.options,t):t,t.group&&delete this.group,t.dataLabels&&delete this.dataLabels,o&&(this.y=this[o]),this.isNull=u(this.isValid&&!this.isValid(),null===this.x||!l(this.y,!0)),this.selected&&(this.state="select"),"name"in this&&void 0===n&&r.xAxis&&r.xAxis.hasNames&&(this.x=r.xAxis.nameToX(this)),void 0===this.x&&r&&(this.x=void 0===n?r.autoIncrement(this):n),this},setNestedProperty:function(e,n,i){return i=i.split("."),t.reduce(i,function(e,i,r,o){return e[i]=o.length-1===r?n:t.isObject(e[i],!0)?e[i]:{},e[i]},e),e},optionsToObject:function(e){var n={},i=this.series,r=i.options.keys,o=r||i.pointArrayMap||["y"],a=o.length,u=0,d=0;if(l(e)||null===e)n[o[0]]=e;else if(s(e))for(!r&&e.length>a&&(i=typeof e[0],"string"===i?n.name=e[0]:"number"===i&&(n.x=e[0]),u++);d<a;)r&&void 0===e[u]||(0<o[d].indexOf(".")?t.Point.prototype.setNestedProperty(n,e[u],o[d]):n[o[d]]=e[u]),u++,d++;else"object"==typeof e&&(n=e,e.dataLabels&&(i._hasPointLabels=!0),e.marker&&(i._hasPointMarkers=!0));return n},getClassName:function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},getZone:function(){var t,e=this.series,n=e.zones,e=e.zoneAxis||"y",i=0;for(t=n[i];this[e]>=t.value;)t=n[++i];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=t&&t.color&&!this.options.color?t.color:this.nonZonedColor,t},destroy:function(){var t,e=this.series.chart,n=e.hoverPoints;e.pointCount--,n&&(this.setState(),r(n,this),n.length||(e.hoverPoints=null)),this===e.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel||this.dataLabels)&&(h(this),this.destroyElements()),this.legendItem&&e.legend.destroyItem(this);for(t in this)this[t]=null},destroyElements:function(){for(var t,e=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],i=6;i--;)t=e[i],this[t]&&(this[t]=this[t].destroy());this.dataLabels&&(n(this.dataLabels,function(t){t.element&&t.destroy()}),delete this.dataLabels),this.connectors&&(n(this.connectors,function(t){t.element&&t.destroy()}),delete this.connectors)},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(t){var e=this.series,i=e.tooltipOptions,r=u(i.valueDecimals,""),o=i.valuePrefix||"",s=i.valueSuffix||"";return n(e.pointArrayMap||["y"],function(e){e="{point."+e,(o||s)&&(t=t.replace(RegExp(e+"}","g"),o+e+"}"+s)),t=t.replace(RegExp(e+"}","g"),e+":,."+r+"f}")}),a(t,{point:this,series:this.series},e.chart.time)},firePointEvent:function(t,e,n){var i=this,r=this.series.options;(r.point.events[t]||i.options&&i.options.events&&i.options.events[t])&&this.importEvents(),"click"===t&&r.allowPointSelect&&(n=function(t){i.select&&i.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),o(this,t,e,n)},visible:!0}}(e),function(t){var e=t.addEvent,n=t.animObject,i=t.arrayMax,r=t.arrayMin,o=t.correctFloat,a=t.defaultOptions,s=t.defaultPlotOptions,l=t.defined,u=t.each,d=t.erase,c=t.extend,h=t.fireEvent,p=t.grep,f=t.isArray,g=t.isNumber,m=t.isString,y=t.merge,v=t.objectEach,x=t.pick,b=t.removeEvent,A=t.splat,w=t.SVGElement,S=t.syncTimeout,E=t.win;t.Series=t.seriesType("line",null,{lineWidth:2,allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{lineWidth:0,lineColor:"#ffffff",enabledThreshold:2,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":t.numberFormat(this.y,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},{isCartesian:!0,pointClass:t.Point,sorted:!0,requireSorting:!0,directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],coll:"series",init:function(t,n){var i,r,o=this,a=t.series;o.chart=t,o.options=n=o.setOptions(n),o.linkedSeries=[],o.bindAxes(),c(o,{name:n.name,state:"",visible:!1!==n.visible,selected:!0===n.selected}),i=n.events,v(i,function(t,n){e(o,n,t)}),(i&&i.click||n.point&&n.point.events&&n.point.events.click||n.allowPointSelect)&&(t.runTrackerClick=!0),o.getColor(),o.getSymbol(),u(o.parallelArrays,function(t){o[t+"Data"]=[]}),o.setData(n.data,!1),o.isCartesian&&(t.hasCartesianSeries=!0),a.length&&(r=a[a.length-1]),o._i=x(r&&r._i,-1)+1,t.orderSeries(this.insert(a)),h(this,"afterInit")},insert:function(t){var e,n=this.options.index;if(g(n)){for(e=t.length;e--;)if(n>=x(t[e].options.index,t[e]._i)){t.splice(e+1,0,this);break}-1===e&&t.unshift(this),e+=1}else t.push(this);return x(e,t.length-1)},bindAxes:function(){var e,n=this,i=n.options,r=n.chart;u(n.axisTypes||[],function(o){u(r[o],function(t){e=t.options,(i[o]===e.index||void 0!==i[o]&&i[o]===e.id||void 0===i[o]&&0===e.index)&&(n.insert(t.series),n[o]=t,t.isDirty=!0)}),n[o]||n.optionalAxis===o||t.error(18,!0)})},updateParallelArrays:function(t,e){var n=t.series,i=arguments,r=g(e)?function(i){var r="y"===i&&n.toYData?n.toYData(t):t[i];n[i+"Data"][e]=r}:function(t){Array.prototype[e].apply(n[t+"Data"],Array.prototype.slice.call(i,2))};u(n.parallelArrays,r)},autoIncrement:function(){var t,e=this.options,n=this.xIncrement,i=e.pointIntervalUnit,r=this.chart.time,n=x(n,e.pointStart,0);return this.pointInterval=t=x(this.pointInterval,e.pointInterval,1),i&&(e=new r.Date(n),"day"===i?r.set("Date",e,r.get("Date",e)+t):"month"===i?r.set("Month",e,r.get("Month",e)+t):"year"===i&&r.set("FullYear",e,r.get("FullYear",e)+t),t=e.getTime()-n),this.xIncrement=n+t,n},setOptions:function(t){var e=this.chart,n=e.options,i=n.plotOptions,r=(e.userOptions||{}).plotOptions||{},o=i[this.type];return this.userOptions=t,e=y(o,i.series,t),this.tooltipOptions=y(a.tooltip,a.plotOptions.series&&a.plotOptions.series.tooltip,a.plotOptions[this.type].tooltip,n.tooltip.userOptions,i.series&&i.series.tooltip,i[this.type].tooltip,t.tooltip),this.stickyTracking=x(t.stickyTracking,r[this.type]&&r[this.type].stickyTracking,r.series&&r.series.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||e.stickyTracking),null===o.marker&&delete e.marker,this.zoneAxis=e.zoneAxis,t=this.zones=(e.zones||[]).slice(),!e.negativeColor&&!e.negativeFillColor||e.zones||t.push({value:e[this.zoneAxis+"Threshold"]||e.threshold||0,className:"highcharts-negative",color:e.negativeColor,fillColor:e.negativeFillColor}),t.length&&l(t[t.length-1].value)&&t.push({color:this.color,fillColor:this.fillColor}),h(this,"afterSetOptions",{options:e}),e},getName:function(){return this.name||"Series "+(this.index+1)},getCyclic:function(t,e,n){var i,r=this.chart,o=this.userOptions,a=t+"Index",s=t+"Counter",u=n?n.length:x(r.options.chart[t+"Count"],r[t+"Count"]);e||(i=x(o[a],o["_"+a]),l(i)||(r.series.length||(r[s]=0),o["_"+a]=i=r[s]%u,r[s]+=1),n&&(e=n[i])),void 0!==i&&(this[a]=i),this[t]=e},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||s[this.type].color,this.chart.options.colors)},getSymbol:function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},drawLegendSymbol:t.LegendSymbolMixin.drawLineMarker,updateData:function(e){var n,i,r,o=this.options,a=this.points,s=[],l=this.requireSorting;if(u(e,function(e){var i;i=t.defined(e)&&this.pointClass.prototype.optionsToObject.call({series:this},e).x,g(i)&&(i=t.inArray(i,this.xData,r),-1===i||a[i].touched?s.push(e):e!==o.data[i]?(a[i].update(e,!1,null,!1),a[i].touched=!0,l&&(r=i+1)):a[i]&&(a[i].touched=!0),n=!0)},this),n)for(e=a.length;e--;)i=a[e],i.touched||i.remove(!1),i.touched=!1;else{if(e.length!==a.length)return!1;u(e,function(t,e){a[e].update&&t!==o.data[e]&&a[e].update(t,!1,null,!1)})}return u(s,function(t){this.addPoint(t,!1)},this),!0},setData:function(e,n,i,r){var o,a,s=this,l=s.points,d=l&&l.length||0,c=s.options,h=s.chart,p=null,y=s.xAxis,v=c.turboThreshold,b=this.xData,A=this.yData,w=(o=s.pointArrayMap)&&o.length;if(e=e||[],o=e.length,n=x(n,!0),!1!==r&&o&&d&&!s.cropped&&!s.hasGroupedData&&s.visible&&!s.isSeriesBoosting&&(a=this.updateData(e)),!a){if(s.xIncrement=null,s.colorCounter=0,u(this.parallelArrays,function(t){s[t+"Data"].length=0}),v&&o>v){for(i=0;null===p&&i<o;)p=e[i],i++;if(g(p))for(i=0;i<o;i++)b[i]=this.autoIncrement(),A[i]=e[i];else if(f(p))if(w)for(i=0;i<o;i++)p=e[i],b[i]=p[0],A[i]=p.slice(1,w+1);else for(i=0;i<o;i++)p=e[i],b[i]=p[0],A[i]=p[1];else t.error(12)}else for(i=0;i<o;i++)void 0!==e[i]&&(p={series:s},s.pointClass.prototype.applyOptions.apply(p,[e[i]]),s.updateParallelArrays(p,i));for(A&&m(A[0])&&t.error(14,!0),s.data=[],s.options.data=s.userOptions.data=e,i=d;i--;)l[i]&&l[i].destroy&&l[i].destroy();y&&(y.minRange=y.userMinRange),s.isDirty=h.isDirtyBox=!0,s.isDirtyData=!!l,i=!1}"point"===c.legendType&&(this.processData(),this.generatePoints()),n&&h.redraw(i)},processData:function(e){var n,i=this.xData,r=this.yData,o=i.length;n=0;var a,s,l,u=this.xAxis,d=this.options;l=d.cropThreshold;var c,h,p=this.getExtremesFromAll||d.getExtremesFromAll,f=this.isCartesian,d=u&&u.val2lin,g=u&&u.isLog,m=this.requireSorting;if(f&&!this.isDirty&&!u.isDirty&&!this.yAxis.isDirty&&!e)return!1;for(u&&(e=u.getExtremes(),c=e.min,h=e.max),f&&this.sorted&&!p&&(!l||o>l||this.forceCrop)&&(i[o-1]<c||i[0]>h?(i=[],r=[]):this.yData&&(i[0]<c||i[o-1]>h)&&(n=this.cropData(this.xData,this.yData,c,h),i=n.xData,r=n.yData,n=n.start,a=!0)),l=i.length||1;--l;)o=g?d(i[l])-d(i[l-1]):i[l]-i[l-1],0<o&&(void 0===s||o<s)?s=o:0>o&&m&&(t.error(15),m=!1);this.cropped=a,this.cropStart=n,this.processedXData=i,this.processedYData=r,this.closestPointRange=s},cropData:function(t,e,n,i,r){var o,a=t.length,s=0,l=a;for(r=x(r,this.cropShoulder,1),o=0;o<a;o++)if(t[o]>=n){s=Math.max(0,o-r);break}for(n=o;n<a;n++)if(t[n]>i){l=n+r;break}return{xData:t.slice(s,l),yData:e.slice(s,l),start:s,end:l}},generatePoints:function(){var t,e,n,i,r=this.options,o=r.data,a=this.data,s=this.processedXData,l=this.processedYData,u=this.pointClass,d=s.length,h=this.cropStart||0,p=this.hasGroupedData,r=r.keys,f=[];for(a||p||(a=[],a.length=o.length,a=this.data=a),r&&p&&(this.options.keys=!1),i=0;i<d;i++)e=h+i,p?(n=(new u).init(this,[s[i]].concat(A(l[i]))),n.dataGroup=this.groupMap[i],n.dataGroup.options&&(n.options=n.dataGroup.options,c(n,n.dataGroup.options))):(n=a[e])||void 0===o[e]||(a[e]=n=(new u).init(this,o[e],s[i])),n&&(n.index=e,f[i]=n);if(this.options.keys=r,a&&(d!==(t=a.length)||p))for(i=0;i<t;i++)i!==h||p||(i+=d),a[i]&&(a[i].destroyElements(),a[i].plotX=void 0);this.data=a,this.points=f},getExtremes:function(t){var e,n=this.yAxis,o=this.processedXData,a=[],s=0;
e=this.xAxis.getExtremes();var l,u,d,c,h=e.min,p=e.max,m=this.requireSorting?1:0;for(t=t||this.stackedYData||this.processedYData||[],e=t.length,c=0;c<e;c++)if(u=o[c],d=t[c],l=(g(d,!0)||f(d))&&(!n.positiveValuesOnly||d.length||0<d),u=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(o[c+m]||u)>=h&&(o[c-m]||u)<=p,l&&u)if(l=d.length)for(;l--;)"number"==typeof d[l]&&(a[s++]=d[l]);else a[s++]=d;this.dataMin=r(a),this.dataMax=i(a)},translate:function(){this.processedXData||this.processData(),this.generatePoints();var t,e,n,i,r=this.options,a=r.stacking,s=this.xAxis,u=s.categories,d=this.yAxis,c=this.points,p=c.length,f=!!this.modifyValue,m=r.pointPlacement,y="between"===m||g(m),v=r.threshold,b=r.startFromThreshold?v:0,A=Number.MAX_VALUE;for("between"===m&&(m=.5),g(m)&&(m*=x(r.pointRange||s.pointRange)),r=0;r<p;r++){var w=c[r],S=w.x,E=w.y;e=w.low;var C,P=a&&d.stacks[(this.negStacks&&E<(b?0:v)?"-":"")+this.stackKey];d.positiveValuesOnly&&null!==E&&0>=E&&(w.isNull=!0),w.plotX=t=o(Math.min(Math.max(-1e5,s.translate(S,0,0,0,1,m,"flags"===this.type)),1e5)),a&&this.visible&&!w.isNull&&P&&P[S]&&(i=this.getStackIndicator(i,S,this.index),C=P[S],E=C.points[i.key],e=E[0],E=E[1],e===b&&i.key===P[S].base&&(e=x(g(v)&&v,d.min)),d.positiveValuesOnly&&0>=e&&(e=null),w.total=w.stackTotal=C.total,w.percentage=C.total&&w.y/C.total*100,w.stackY=E,C.setOffset(this.pointXOffset||0,this.barW||0)),w.yBottom=l(e)?Math.min(Math.max(-1e5,d.translate(e,0,1,0,1)),1e5):null,f&&(E=this.modifyValue(E,w)),w.plotY=e="number"==typeof E&&1/0!==E?Math.min(Math.max(-1e5,d.translate(E,0,1,0,1)),1e5):void 0,w.isInside=void 0!==e&&0<=e&&e<=d.len&&0<=t&&t<=s.len,w.clientX=y?o(s.translate(S,0,0,0,1,m)):t,w.negative=w.y<(v||0),w.category=u&&void 0!==u[w.x]?u[w.x]:w.x,w.isNull||(void 0!==n&&(A=Math.min(A,Math.abs(t-n))),n=t),w.zone=this.zones.length&&w.getZone()}this.closestPointRangePx=A,h(this,"afterTranslate")},getValidPoints:function(t,e){var n=this.chart;return p(t||this.points||[],function(t){return!(e&&!n.isInsidePlot(t.plotX,t.plotY,n.inverted))&&!t.isNull})},setClip:function(t){var e=this.chart,n=this.options,i=e.renderer,r=e.inverted,o=this.clipBox,a=o||e.clipBox,s=this.sharedClipKey||["_sharedClip",t&&t.duration,t&&t.easing,a.height,n.xAxis,n.yAxis].join(),l=e[s],u=e[s+"m"];l||(t&&(a.width=0,r&&(a.x=e.plotSizeX),e[s+"m"]=u=i.clipRect(r?e.plotSizeX+99:-99,r?-e.plotLeft:-e.plotTop,99,r?e.chartWidth:e.chartHeight)),e[s]=l=i.clipRect(a),l.count={length:0}),t&&!l.count[this.index]&&(l.count[this.index]=!0,l.count.length+=1),!1!==n.clip&&(this.group.clip(t||o?l:e.clipRect),this.markerGroup.clip(u),this.sharedClipKey=s),t||(l.count[this.index]&&(delete l.count[this.index],--l.count.length),0===l.count.length&&s&&e[s]&&(o||(e[s]=e[s].destroy()),e[s+"m"]&&(e[s+"m"]=e[s+"m"].destroy())))},animate:function(t){var e,i=this.chart,r=n(this.options.animation);t?this.setClip(r):(e=this.sharedClipKey,(t=i[e])&&t.animate({width:i.plotSizeX,x:0},r),i[e+"m"]&&i[e+"m"].animate({width:i.plotSizeX+99,x:0},r),this.animate=null)},afterAnimate:function(){this.setClip(),h(this,"afterAnimate"),this.finishedAnimating=!0},drawPoints:function(){var t,e,n,i,r,o,a,s,l=this.points,u=this.chart,d=this.options.marker,c=this[this.specialGroup]||this.markerGroup,h=x(d.enabled,!!this.xAxis.isRadial||null,this.closestPointRangePx>=d.enabledThreshold*d.radius);if(!1!==d.enabled||this._hasPointMarkers)for(t=0;t<l.length;t++)e=l[t],i=e.graphic,r=e.marker||{},o=!!e.marker,n=h&&void 0===r.enabled||r.enabled,a=e.isInside,n&&!e.isNull?(n=x(r.symbol,this.symbol),s=this.markerAttribs(e,e.selected&&"select"),i?i[a?"show":"hide"](!0).animate(s):a&&(0<s.width||e.hasImage)&&(e.graphic=i=u.renderer.symbol(n,s.x,s.y,s.width,s.height,o?r:d).add(c)),i&&i.attr(this.pointAttribs(e,e.selected&&"select")),i&&i.addClass(e.getClassName(),!0)):i&&(e.graphic=i.destroy())},markerAttribs:function(t,e){var n=this.options.marker,i=t.marker||{},r=i.symbol||n.symbol,o=x(i.radius,n.radius);return e&&(n=n.states[e],e=i.states&&i.states[e],o=x(e&&e.radius,n&&n.radius,o+(n&&n.radiusPlus||0))),t.hasImage=r&&0===r.indexOf("url"),t.hasImage&&(o=0),t={x:Math.floor(t.plotX)-o,y:t.plotY-o},o&&(t.width=t.height=2*o),t},pointAttribs:function(t,e){var n=this.options.marker,i=t&&t.options,r=i&&i.marker||{},o=this.color,a=i&&i.color,s=t&&t.color,i=x(r.lineWidth,n.lineWidth);return t=t&&t.zone&&t.zone.color,o=a||t||s||o,t=r.fillColor||n.fillColor||o,o=r.lineColor||n.lineColor||o,e&&(n=n.states[e],e=r.states&&r.states[e]||{},i=x(e.lineWidth,n.lineWidth,i+x(e.lineWidthPlus,n.lineWidthPlus,0)),t=e.fillColor||n.fillColor||t,o=e.lineColor||n.lineColor||o),{stroke:o,"stroke-width":i,fill:t}},destroy:function(){var e,n,i,r,o=this,a=o.chart,s=/AppleWebKit\/533/.test(E.navigator.userAgent),l=o.data||[];for(h(o,"destroy"),b(o),u(o.axisTypes||[],function(t){(r=o[t])&&r.series&&(d(r.series,o),r.isDirty=r.forceRedraw=!0)}),o.legendItem&&o.chart.legend.destroyItem(o),n=l.length;n--;)(i=l[n])&&i.destroy&&i.destroy();o.points=null,t.clearTimeout(o.animationTimeout),v(o,function(t,n){t instanceof w&&!t.survive&&(e=s&&"group"===n?"hide":"destroy",t[e]())}),a.hoverSeries===o&&(a.hoverSeries=null),d(a.series,o),a.orderSeries(),v(o,function(t,e){delete o[e]})},getGraphPath:function(t,e,n){var i,r,o=this,a=o.options,s=a.step,d=[],c=[];return t=t||o.points,(i=t.reversed)&&t.reverse(),(s={right:1,center:2}[s]||s&&3)&&i&&(s=4-s),!a.connectNulls||e||n||(t=this.getValidPoints(t)),u(t,function(i,u){var h=i.plotX,p=i.plotY,f=t[u-1];(i.leftCliff||f&&f.rightCliff)&&!n&&(r=!0),i.isNull&&!l(e)&&0<u?r=!a.connectNulls:i.isNull&&!e?r=!0:(0===u||r?u=["M",i.plotX,i.plotY]:o.getPointSpline?u=o.getPointSpline(t,i,u):s?(u=1===s?["L",f.plotX,p]:2===s?["L",(f.plotX+h)/2,f.plotY,"L",(f.plotX+h)/2,p]:["L",h,f.plotY],u.push("L",h,p)):u=["L",h,p],c.push(i.x),s&&(c.push(i.x),2===s&&c.push(i.x)),d.push.apply(d,u),r=!1)}),d.xMap=c,o.graphPath=d},drawGraph:function(){var t=this,e=this.options,n=(this.gappedPath||this.getGraphPath).call(this),i=[["graph","highcharts-graph",e.lineColor||this.color,e.dashStyle]],i=t.getZonesGraphs(i);u(i,function(i,r){var o=i[0],a=t[o];a?(a.endX=t.preventGraphAnimation?null:n.xMap,a.animate({d:n})):n.length&&(t[o]=t.chart.renderer.path(n).addClass(i[1]).attr({zIndex:1}).add(t.group),a={stroke:i[2],"stroke-width":e.lineWidth,fill:t.fillGraph&&t.color||"none"},i[3]?a.dashstyle=i[3]:"square"!==e.linecap&&(a["stroke-linecap"]=a["stroke-linejoin"]="round"),a=t[o].attr(a).shadow(2>r&&e.shadow)),a&&(a.startX=n.xMap,a.isArea=n.isArea)})},getZonesGraphs:function(t){return u(this.zones,function(e,n){t.push(["zone-graph-"+n,"highcharts-graph highcharts-zone-graph-"+n+" "+(e.className||""),e.color||this.color,e.dashStyle||this.options.dashStyle])},this),t},applyZones:function(){var t,e,n,i,r,o,a,s,l,d=this,c=this.chart,h=c.renderer,p=this.zones,f=this.clips||[],g=this.graph,m=this.area,y=Math.max(c.chartWidth,c.chartHeight),v=this[(this.zoneAxis||"y")+"Axis"],b=c.inverted,A=!1;p.length&&(g||m)&&v&&void 0!==v.min&&(r=v.reversed,o=v.horiz,g&&!this.showLine&&g.hide(),m&&m.hide(),i=v.getExtremes(),u(p,function(u,p){t=r?o?c.plotWidth:0:o?0:v.toPixels(i.min),t=Math.min(Math.max(x(e,t),0),y),e=Math.min(Math.max(Math.round(v.toPixels(x(u.value,i.max),!0)),0),y),A&&(t=e=v.toPixels(i.max)),a=Math.abs(t-e),s=Math.min(t,e),l=Math.max(t,e),v.isXAxis?(n={x:b?l:s,y:0,width:a,height:y},o||(n.x=c.plotHeight-n.x)):(n={x:0,y:b?l:s,width:y,height:a},o&&(n.y=c.plotWidth-n.y)),b&&h.isVML&&(n=v.isXAxis?{x:0,y:r?s:l,height:n.width,width:c.chartWidth}:{x:n.y-c.plotLeft-c.spacingBox.x,y:0,width:n.height,height:c.chartHeight}),f[p]?f[p].animate(n):(f[p]=h.clipRect(n),g&&d["zone-graph-"+p].clip(f[p]),m&&d["zone-area-"+p].clip(f[p])),A=u.value>i.max,d.resetZones&&0===e&&(e=void 0)}),this.clips=f)},invertGroups:function(t){function n(){u(["group","markerGroup"],function(e){r[e]&&(o.renderer.isVML&&r[e].attr({width:r.yAxis.len,height:r.xAxis.len}),r[e].width=r.yAxis.len,r[e].height=r.xAxis.len,r[e].invert(t))})}var i,r=this,o=r.chart;r.xAxis&&(i=e(o,"resize",n),e(r,"destroy",i),n(t),r.invertGroups=n)},plotGroup:function(t,e,n,i,r){var o=this[t],a=!o;return a&&(this[t]=o=this.chart.renderer.g().attr({zIndex:i||.1}).add(r)),o.addClass("highcharts-"+e+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(l(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(o.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),o.attr({visibility:n})[a?"attr":"animate"](this.getPlotBox()),o},getPlotBox:function(){var t=this.chart,e=this.xAxis,n=this.yAxis;return t.inverted&&(e=n,n=this.xAxis),{translateX:e?e.left:t.plotLeft,translateY:n?n.top:t.plotTop,scaleX:1,scaleY:1}},render:function(){var t,e=this,i=e.chart,r=e.options,o=!!e.animate&&i.renderer.isSVG&&n(r.animation).duration,a=e.visible?"inherit":"hidden",s=r.zIndex,l=e.hasRendered,u=i.seriesGroup,d=i.inverted;t=e.plotGroup("group","series",a,s,u),e.markerGroup=e.plotGroup("markerGroup","markers",a,s,u),o&&e.animate(!0),t.inverted=!!e.isCartesian&&d,e.drawGraph&&(e.drawGraph(),e.applyZones()),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),e.drawTracker&&!1!==e.options.enableMouseTracking&&e.drawTracker(),e.invertGroups(d),!1===r.clip||e.sharedClipKey||l||t.clip(i.clipRect),o&&e.animate(),l||(e.animationTimeout=S(function(){e.afterAnimate()},o)),e.isDirty=!1,e.hasRendered=!0,h(e,"afterRender")},redraw:function(){var t=this.chart,e=this.isDirty||this.isDirtyData,n=this.group,i=this.xAxis,r=this.yAxis;n&&(t.inverted&&n.attr({width:t.plotWidth,height:t.plotHeight}),n.animate({translateX:x(i&&i.left,t.plotLeft),translateY:x(r&&r.top,t.plotTop)})),this.translate(),this.render(),e&&delete this.kdTree},kdAxisArray:["clientX","plotY"],searchPoint:function(t,e){var n=this.xAxis,i=this.yAxis,r=this.chart.inverted;return this.searchKDTree({clientX:r?n.len-t.chartY+n.pos:t.chartX-n.pos,plotY:r?i.len-t.chartX+i.pos:t.chartY-i.pos},e)},buildKDTree:function(){function t(n,i,r){var o,a;if(a=n&&n.length)return o=e.kdAxisArray[i%r],n.sort(function(t,e){return t[o]-e[o]}),a=Math.floor(a/2),{point:n[a],left:t(n.slice(0,a),i+1,r),right:t(n.slice(a+1),i+1,r)}}this.buildingKdTree=!0;var e=this,n=-1<e.options.findNearestPointBy.indexOf("y")?2:1;delete e.kdTree,S(function(){e.kdTree=t(e.getValidPoints(null,!e.directTouch),n,n),e.buildingKdTree=!1},e.options.kdNow?0:1)},searchKDTree:function(t,e){function n(t,e,s,u){var d,c,h=e.point,p=i.kdAxisArray[s%u],f=h;return c=l(t[r])&&l(h[r])?Math.pow(t[r]-h[r],2):null,d=l(t[o])&&l(h[o])?Math.pow(t[o]-h[o],2):null,d=(c||0)+(d||0),h.dist=l(d)?Math.sqrt(d):Number.MAX_VALUE,h.distX=l(c)?Math.sqrt(c):Number.MAX_VALUE,p=t[p]-h[p],d=0>p?"left":"right",c=0>p?"right":"left",e[d]&&(d=n(t,e[d],s+1,u),f=d[a]<f[a]?d:h),e[c]&&Math.sqrt(p*p)<f[a]&&(t=n(t,e[c],s+1,u),f=t[a]<f[a]?t:f),f}var i=this,r=this.kdAxisArray[0],o=this.kdAxisArray[1],a=e?"distX":"dist";if(e=-1<i.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(),this.kdTree)return n(t,this.kdTree,e,e)}})}(e),function(t){var e=t.Axis,n=t.Chart,i=t.correctFloat,r=t.defined,o=t.destroyObjectProperties,a=t.each,s=t.format,l=t.objectEach,u=t.pick,d=t.Series;t.StackItem=function(t,e,n,i,r){var o=t.chart.inverted;this.axis=t,this.isNegative=n,this.options=e,this.x=i,this.total=null,this.points={},this.stack=r,this.rightCliff=this.leftCliff=0,this.alignOptions={align:e.align||(o?n?"left":"right":"center"),verticalAlign:e.verticalAlign||(o?"middle":n?"bottom":"top"),y:u(e.y,o?4:n?14:-6),x:u(e.x,o?n?-6:6:0)},this.textAlign=e.textAlign||(o?n?"right":"left":"center")},t.StackItem.prototype={destroy:function(){o(this,this.axis)},render:function(t){var e=this.axis.chart,n=this.options,i=n.format,i=i?s(i,this,e.time):n.formatter.call(this);this.label?this.label.attr({text:i,visibility:"hidden"}):this.label=e.renderer.text(i,null,null,n.useHTML).css(n.style).attr({align:this.textAlign,rotation:n.rotation,visibility:"hidden"}).add(t),this.label.labelrank=e.plotHeight},setOffset:function(t,e){var n=this.axis,i=n.chart,o=n.translate(n.usePercentage?100:this.total,0,0,0,1),a=n.translate(0),a=r(o)&&Math.abs(o-a);t=i.xAxis[0].translate(this.x)+t,n=r(o)&&this.getStackBox(i,this,t,o,e,a,n),(e=this.label)&&n&&(e.align(this.alignOptions,null,n),n=e.alignAttr,e[!1===this.options.crop||i.isInsidePlot(n.x,n.y)?"show":"hide"](!0))},getStackBox:function(t,e,n,i,r,o,a){var s=e.axis.reversed,l=t.inverted;return t=a.height+a.pos-(l?t.plotLeft:t.plotTop),e=e.isNegative&&!s||!e.isNegative&&s,{x:l?e?i:i-o:n,y:l?t-n-r:e?t-i-o:t-i,width:l?o:r,height:l?r:o}}},n.prototype.getStacks=function(){var t=this;a(t.yAxis,function(t){t.stacks&&t.hasVisibleSeries&&(t.oldStacks=t.stacks)}),a(t.series,function(e){!e.options.stacking||!0!==e.visible&&!1!==t.options.chart.ignoreHiddenSeries||(e.stackKey=e.type+u(e.options.stack,""))})},e.prototype.buildStacks=function(){var t,e=this.series,n=u(this.options.reversedStacks,!0),i=e.length;if(!this.isXAxis){for(this.usePercentage=!1,t=i;t--;)e[n?t:i-t-1].setStackedPoints();for(t=0;t<i;t++)e[t].modifyStacks()}},e.prototype.renderStackTotals=function(){var t=this.chart,e=t.renderer,n=this.stacks,i=this.stackTotalGroup;i||(this.stackTotalGroup=i=e.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),i.translate(t.plotLeft,t.plotTop),l(n,function(t){l(t,function(t){t.render(i)})})},e.prototype.resetStacks=function(){var t=this,e=t.stacks;t.isXAxis||l(e,function(e){l(e,function(n,i){n.touched<t.stacksTouched?(n.destroy(),delete e[i]):(n.total=null,n.cumulative=null)})})},e.prototype.cleanStacks=function(){var t;this.isXAxis||(this.oldStacks&&(t=this.stacks=this.oldStacks),l(t,function(t){l(t,function(t){t.cumulative=t.total})}))},d.prototype.setStackedPoints=function(){if(this.options.stacking&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var e,n,o,a,s,l,d,c=this.processedXData,h=this.processedYData,p=[],f=h.length,g=this.options,m=g.threshold,y=u(g.startFromThreshold&&m,0),v=g.stack,g=g.stacking,x=this.stackKey,b="-"+x,A=this.negStacks,w=this.yAxis,S=w.stacks,E=w.oldStacks;for(w.stacksTouched+=1,s=0;s<f;s++)l=c[s],d=h[s],e=this.getStackIndicator(e,l,this.index),a=e.key,o=(n=A&&d<(y?0:m))?b:x,S[o]||(S[o]={}),S[o][l]||(E[o]&&E[o][l]?(S[o][l]=E[o][l],S[o][l].total=null):S[o][l]=new t.StackItem(w,w.options.stackLabels,n,l,v)),o=S[o][l],null!==d?(o.points[a]=o.points[this.index]=[u(o.cumulative,y)],r(o.cumulative)||(o.base=a),o.touched=w.stacksTouched,0<e.index&&!1===this.singleStacks&&(o.points[a][0]=o.points[this.index+","+l+",0"][0])):o.points[a]=o.points[this.index]=null,"percent"===g?(n=n?x:b,A&&S[n]&&S[n][l]?(n=S[n][l],o.total=n.total=Math.max(n.total,o.total)+Math.abs(d)||0):o.total=i(o.total+(Math.abs(d)||0))):o.total=i(o.total+(d||0)),o.cumulative=u(o.cumulative,y)+(d||0),null!==d&&(o.points[a].push(o.cumulative),p[s]=o.cumulative);"percent"===g&&(w.usePercentage=!0),this.stackedYData=p,w.oldStacks={}}},d.prototype.modifyStacks=function(){var t,e=this,n=e.stackKey,i=e.yAxis.stacks,r=e.processedXData,o=e.options.stacking;e[o+"Stacker"]&&a([n,"-"+n],function(n){for(var a,s,l=r.length;l--;)a=r[l],t=e.getStackIndicator(t,a,e.index,n),(s=(a=i[n]&&i[n][a])&&a.points[t.key])&&e[o+"Stacker"](s,a,l)})},d.prototype.percentStacker=function(t,e,n){e=e.total?100/e.total:0,t[0]=i(t[0]*e),t[1]=i(t[1]*e),this.stackedYData[n]=t[1]},d.prototype.getStackIndicator=function(t,e,n,i){return!r(t)||t.x!==e||i&&t.key!==i?t={x:e,index:0,key:i}:t.index++,t.key=[n,e,t.index].join(),t}}(e),function(t){var e=t.addEvent,n=t.animate,i=t.Axis,r=t.createElement,o=t.css,a=t.defined,s=t.each,l=t.erase,u=t.extend,d=t.fireEvent,c=t.inArray,h=t.isNumber,p=t.isObject,f=t.isArray,g=t.merge,m=t.objectEach,y=t.pick,v=t.Point,x=t.Series,b=t.seriesTypes,A=t.setAnimation,w=t.splat;u(t.Chart.prototype,{addSeries:function(t,e,n){var i,r=this;return t&&(e=y(e,!0),d(r,"addSeries",{options:t},function(){i=r.initSeries(t),r.isDirtyLegend=!0,r.linkSeries(),d(r,"afterAddSeries"),e&&r.redraw(n)})),i},addAxis:function(t,e,n,r){var o=e?"xAxis":"yAxis",a=this.options;return t=g(t,{index:this[o].length,isX:e}),e=new i(this,t),a[o]=w(a[o]||{}),a[o].push(t),y(n,!0)&&this.redraw(r),e},showLoading:function(t){var i=this,a=i.options,s=i.loadingDiv,l=a.loading,d=function(){s&&o(s,{left:i.plotLeft+"px",top:i.plotTop+"px",width:i.plotWidth+"px",height:i.plotHeight+"px"})};s||(i.loadingDiv=s=r("div",{className:"highcharts-loading highcharts-loading-hidden"},null,i.container),i.loadingSpan=r("span",{className:"highcharts-loading-inner"},null,s),e(i,"redraw",d)),s.className="highcharts-loading",i.loadingSpan.innerHTML=t||a.lang.loading,o(s,u(l.style,{zIndex:10})),o(i.loadingSpan,l.labelStyle),i.loadingShown||(o(s,{opacity:0,display:""}),n(s,{opacity:l.style.opacity||.5},{duration:l.showDuration||0})),i.loadingShown=!0,d()},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&(e.className="highcharts-loading highcharts-loading-hidden",n(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){o(e,{display:"none"})}})),this.loadingShown=!1},propsRequireDirtyBox:"backgroundColor borderColor borderWidth margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" "),update:function(t,e,n,i){var r,o,l=this,u={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle"},p=t.chart,f=[];d(l,"update",{options:t}),p&&(g(!0,l.options.chart,p),"className"in p&&l.setClassName(p.className),"reflow"in p&&l.setReflow(p.reflow),("inverted"in p||"polar"in p||"type"in p)&&(l.propFromSeries(),r=!0),"alignTicks"in p&&(r=!0),m(p,function(t,e){-1!==c("chart."+e,l.propsRequireUpdateSeries)&&(o=!0),-1!==c(e,l.propsRequireDirtyBox)&&(l.isDirtyBox=!0)}),"style"in p&&l.renderer.setStyle(p.style)),t.colors&&(this.options.colors=t.colors),t.plotOptions&&g(!0,this.options.plotOptions,t.plotOptions),m(t,function(t,e){l[e]&&"function"==typeof l[e].update?l[e].update(t,!1):"function"==typeof l[u[e]]&&l[u[e]](t),"chart"!==e&&-1!==c(e,l.propsRequireUpdateSeries)&&(o=!0)}),s("xAxis yAxis zAxis series colorAxis pane".split(" "),function(e){var i;t[e]&&("series"===e&&(i=[],s(l[e],function(t,e){t.options.isInternal||i.push(e)})),s(w(t[e]),function(t,r){(r=a(t.id)&&l.get(t.id)||l[e][i?i[r]:r])&&r.coll===e&&(r.update(t,!1),n&&(r.touched=!0)),!r&&n&&("series"===e?l.addSeries(t,!1).touched=!0:"xAxis"!==e&&"yAxis"!==e||(l.addAxis(t,"xAxis"===e,!1).touched=!0))}),n&&s(l[e],function(t){t.touched||t.options.isInternal?delete t.touched:f.push(t)}))}),s(f,function(t){t.remove&&t.remove(!1)}),r&&s(l.axes,function(t){t.update({},!1)}),o&&s(l.series,function(t){t.update({},!1)}),t.loading&&g(!0,l.options.loading,t.loading),r=p&&p.width,p=p&&p.height,h(r)&&r!==l.chartWidth||h(p)&&p!==l.chartHeight?l.setSize(r,p,i):y(e,!0)&&l.redraw(i),d(l,"afterUpdate",{options:t})},setSubtitle:function(t){this.setTitle(void 0,t)}}),u(v.prototype,{update:function(t,e,n,i){function r(){a.applyOptions(t),null===a.y&&l&&(a.graphic=l.destroy()),p(t,!0)&&(l&&l.element&&t&&t.marker&&void 0!==t.marker.symbol&&(a.graphic=l.destroy()),t&&t.dataLabels&&a.dataLabel&&(a.dataLabel=a.dataLabel.destroy()),a.connector&&(a.connector=a.connector.destroy())),o=a.index,s.updateParallelArrays(a,o),d.data[o]=p(d.data[o],!0)||p(t,!0)?a.options:y(t,d.data[o]),s.isDirty=s.isDirtyData=!0,!s.fixedBox&&s.hasCartesianSeries&&(u.isDirtyBox=!0),"point"===d.legendType&&(u.isDirtyLegend=!0),e&&u.redraw(n)}var o,a=this,s=a.series,l=a.graphic,u=s.chart,d=s.options;e=y(e,!0),!1===i?r():a.firePointEvent("update",{options:t},r)},remove:function(t,e){this.series.removePoint(c(this,this.series.data),t,e)}}),u(x.prototype,{addPoint:function(t,e,n,i){var r,o,a,s,l=this.options,u=this.data,d=this.chart,c=this.xAxis,c=c&&c.hasNames&&c.names,h=l.data,p=this.xData;if(e=y(e,!0),r={series:this},this.pointClass.prototype.applyOptions.apply(r,[t]),s=r.x,a=p.length,this.requireSorting&&s<p[a-1])for(o=!0;a&&p[a-1]>s;)a--;this.updateParallelArrays(r,"splice",a,0,0),this.updateParallelArrays(r,a),c&&r.name&&(c[s]=r.name),h.splice(a,0,t),o&&(this.data.splice(a,0,null),this.processData()),"point"===l.legendType&&this.generatePoints(),n&&(u[0]&&u[0].remove?u[0].remove(!1):(u.shift(),this.updateParallelArrays(r,"shift"),h.shift())),this.isDirtyData=this.isDirty=!0,e&&d.redraw(i)},removePoint:function(t,e,n){var i=this,r=i.data,o=r[t],a=i.points,s=i.chart,l=function(){a&&a.length===r.length&&a.splice(t,1),r.splice(t,1),i.options.data.splice(t,1),i.updateParallelArrays(o||{series:i},"splice",t,1),o&&o.destroy(),i.isDirty=!0,i.isDirtyData=!0,e&&s.redraw()};A(n,s),e=y(e,!0),o?o.firePointEvent("remove",null,l):l()},remove:function(t,e,n){function i(){r.destroy(),r.remove=null,o.isDirtyLegend=o.isDirtyBox=!0,o.linkSeries(),y(t,!0)&&o.redraw(e)}var r=this,o=r.chart;!1!==n?d(r,"remove",null,i):i()},update:function(e,n){var i,r=this,o=r.chart,a=r.userOptions,l=r.oldType||r.type,h=e.type||a.type||o.options.chart.type,p=b[l].prototype,f=["group","markerGroup","dataLabelsGroup"],m=["navigatorSeries","baseSeries"],v=r.finishedAnimating&&{animation:!1},x=["data","name","turboThreshold"],A=t.keys(e),w=0<A.length;if(s(A,function(t){-1===c(t,x)&&(w=!1)}),w)e.data&&this.setData(e.data,!1),e.name&&this.setName(e.name,!1);else{m=f.concat(m),s(m,function(t){m[t]=r[t],delete r[t]}),e=g(a,v,{index:r.index,pointStart:y(a.pointStart,r.xData[0])},{data:r.options.data},e),r.remove(!1,null,!1);for(i in p)r[i]=void 0;b[h||l]?u(r,b[h||l].prototype):t.error(17,!0),s(m,function(t){r[t]=m[t]}),r.init(o,e),e.zIndex!==a.zIndex&&s(f,function(t){r[t]&&r[t].attr({zIndex:e.zIndex})}),r.oldType=l,o.linkSeries()}d(this,"afterUpdate"),y(n,!0)&&o.redraw(!!w&&void 0)},setName:function(t){this.name=this.options.name=this.userOptions.name=t,this.chart.isDirtyLegend=!0}}),u(i.prototype,{update:function(t,e){var n=this.chart,i=t&&t.events||{};t=g(this.userOptions,t),n.options[this.coll].indexOf&&(n.options[this.coll][n.options[this.coll].indexOf(this.userOptions)]=t),m(n.options[this.coll].events,function(t,e){"undefined"==typeof i[e]&&(i[e]=void 0)}),this.destroy(!0),this.init(n,u(t,{events:i})),n.isDirtyBox=!0,y(e,!0)&&n.redraw()},remove:function(t){for(var e=this.chart,n=this.coll,i=this.series,r=i.length;r--;)i[r]&&i[r].remove(!1);l(e.axes,this),l(e[n],this),f(e.options[n])?e.options[n].splice(this.options.index,1):delete e.options[n],s(e[n],function(t,e){t.options.index=t.userOptions.index=e}),this.destroy(),e.isDirtyBox=!0,y(t,!0)&&e.redraw()},setTitle:function(t,e){this.update({title:t},e)},setCategories:function(t,e){this.update({categories:t},e)}})}(e),function(t){var e=t.color,n=t.each,i=t.map,r=t.pick,o=t.Series,a=t.seriesType;a("area","line",{softThreshold:!1,threshold:0},{singleStacks:!1,getStackPoints:function(e){var o,a,s=[],l=[],u=this.xAxis,d=this.yAxis,c=d.stacks[this.stackKey],h={},p=this.index,f=d.series,g=f.length,m=r(d.options.reversedStacks,!0)?1:-1;if(e=e||this.points,this.options.stacking){for(a=0;a<e.length;a++)e[a].leftNull=e[a].rightNull=null,h[e[a].x]=e[a];t.objectEach(c,function(t,e){null!==t.total&&l.push(e)}),l.sort(function(t,e){return t-e}),o=i(f,function(){return this.visible}),n(l,function(t,e){var i,r,f=0;if(h[t]&&!h[t].isNull)s.push(h[t]),n([-1,1],function(n){var s=1===n?"rightNull":"leftNull",u=0,d=c[l[e+n]];if(d)for(a=p;0<=a&&a<g;)i=d.points[a],i||(a===p?h[t][s]=!0:o[a]&&(r=c[t].points[a])&&(u-=r[1]-r[0])),a+=m;h[t][1===n?"rightCliff":"leftCliff"]=u});else{for(a=p;0<=a&&a<g;){if(i=c[t].points[a]){f=i[1];break}a+=m}f=d.translate(f,0,1,0,1),s.push({isNull:!0,plotX:u.translate(t,0,0,0,1),x:t,plotY:f,yBottom:f})}})}return s},getGraphPath:function(t){var e,n,i,a,s=o.prototype.getGraphPath,l=this.options,u=l.stacking,d=this.yAxis,c=[],h=[],p=this.index,f=d.stacks[this.stackKey],g=l.threshold,m=d.getThreshold(l.threshold),l=l.connectNulls||"percent"===u,y=function(e,n,r){var o=t[e];e=u&&f[o.x].points[p];var a=o[r+"Null"]||0;r=o[r+"Cliff"]||0;var s,l,o=!0;r||a?(s=(a?e[0]:e[1])+r,l=e[0]+r,o=!!a):!u&&t[n]&&t[n].isNull&&(s=l=g),void 0!==s&&(h.push({plotX:i,plotY:null===s?m:d.getThreshold(s),isNull:o,isCliff:!0}),c.push({plotX:i,plotY:null===l?m:d.getThreshold(l),doCurve:!1}))};for(t=t||this.points,u&&(t=this.getStackPoints(t)),e=0;e<t.length;e++)n=t[e].isNull,i=r(t[e].rectPlotX,t[e].plotX),a=r(t[e].yBottom,m),(!n||l)&&(l||y(e,e-1,"left"),n&&!u&&l||(h.push(t[e]),c.push({x:e,plotX:i,plotY:a})),l||y(e,e+1,"right"));return e=s.call(this,h,!0,!0),c.reversed=!0,n=s.call(this,c,!0,!0),n.length&&(n[0]="L"),n=e.concat(n),s=s.call(this,h,!1,l),n.xMap=e.xMap,this.areaPath=n,s},drawGraph:function(){this.areaPath=[],o.prototype.drawGraph.apply(this);var t=this,i=this.areaPath,a=this.options,s=[["area","highcharts-area",this.color,a.fillColor]];n(this.zones,function(e,n){s.push(["zone-area-"+n,"highcharts-area highcharts-zone-area-"+n+" "+e.className,e.color||t.color,e.fillColor||a.fillColor])}),n(s,function(n){var o=n[0],s=t[o];s?(s.endX=t.preventGraphAnimation?null:i.xMap,s.animate({d:i})):(s=t[o]=t.chart.renderer.path(i).addClass(n[1]).attr({fill:r(n[3],e(n[2]).setOpacity(r(a.fillOpacity,.75)).get()),zIndex:0}).add(t.group),s.isArea=!0),s.startX=i.xMap,s.shiftUnit=a.step?2:1})},drawLegendSymbol:t.LegendSymbolMixin.drawRectangle})}(e),function(t){var e=t.pick;(t=t.seriesType)("spline","line",{},{getPointSpline:function(t,n,i){var r=n.plotX,o=n.plotY,a=t[i-1];i=t[i+1];var s,l,u,d;if(a&&!a.isNull&&!1!==a.doCurve&&!n.isCliff&&i&&!i.isNull&&!1!==i.doCurve&&!n.isCliff){t=a.plotY,u=i.plotX,i=i.plotY;var c=0;s=(1.5*r+a.plotX)/2.5,l=(1.5*o+t)/2.5,u=(1.5*r+u)/2.5,d=(1.5*o+i)/2.5,u!==s&&(c=(d-l)*(u-r)/(u-s)+o-d),l+=c,d+=c,l>t&&l>o?(l=Math.max(t,o),d=2*o-l):l<t&&l<o&&(l=Math.min(t,o),d=2*o-l),d>i&&d>o?(d=Math.max(i,o),l=2*o-d):d<i&&d<o&&(d=Math.min(i,o),l=2*o-d),n.rightContX=u,n.rightContY=d}return n=["C",e(a.rightContX,a.plotX),e(a.rightContY,a.plotY),e(s,r),e(l,o),r,o],a.rightContX=a.rightContY=null,n}})}(e),function(t){var e=t.seriesTypes.area.prototype,n=t.seriesType;n("areaspline","spline",t.defaultPlotOptions.area,{getStackPoints:e.getStackPoints,getGraphPath:e.getGraphPath,drawGraph:e.drawGraph,drawLegendSymbol:t.LegendSymbolMixin.drawRectangle})}(e),function(t){var e=t.animObject,n=t.color,i=t.each,r=t.extend,o=t.defined,a=t.isNumber,s=t.merge,l=t.pick,u=t.Series,d=t.seriesType,c=t.svg;d("column","line",{borderRadius:0,crisp:!0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"},{cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){u.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&i(e.series,function(e){e.type===t.type&&(e.isDirty=!0)})},getColumnMetrics:function(){var t,e=this,n=e.options,r=e.xAxis,o=e.yAxis,a=r.options.reversedStacks,a=r.reversed&&!a||!r.reversed&&a,s={},u=0;!1===n.grouping?u=1:i(e.chart.series,function(n){var i,r=n.options,a=n.yAxis;n.type!==e.type||!n.visible&&e.chart.options.chart.ignoreHiddenSeries||o.len!==a.len||o.pos!==a.pos||(r.stacking?(t=n.stackKey,void 0===s[t]&&(s[t]=u++),i=s[t]):!1!==r.grouping&&(i=u++),n.columnIndex=i)});var d=Math.min(Math.abs(r.transA)*(r.ordinalSlope||n.pointRange||r.closestPointRange||r.tickInterval||1),r.len),c=d*n.groupPadding,h=(d-2*c)/(u||1),n=Math.min(n.maxPointWidth||r.len,l(n.pointWidth,h*(1-2*n.pointPadding)));return e.columnMetrics={width:n,offset:(h-n)/2+(c+((e.columnIndex||0)+(a?1:0))*h-d/2)*(a?-1:1)},e.columnMetrics},crispCol:function(t,e,n,i){var r=this.chart,o=this.borderWidth,a=-(o%2?.5:0),o=o%2?.5:1;return r.inverted&&r.renderer.isVML&&(o+=1),this.options.crisp&&(n=Math.round(t+n)+a,t=Math.round(t)+a,n-=t),i=Math.round(e+i)+o,a=.5>=Math.abs(e)&&.5<i,e=Math.round(e)+o,i-=e,a&&i&&(--e,i+=1),{x:t,y:e,width:n,height:i}},translate:function(){var t=this,e=t.chart,n=t.options,r=t.dense=2>t.closestPointRange*t.xAxis.transA,r=t.borderWidth=l(n.borderWidth,r?0:1),a=t.yAxis,s=n.threshold,d=t.translatedThreshold=a.getThreshold(s),c=l(n.minPointLength,5),h=t.getColumnMetrics(),p=h.width,f=t.barW=Math.max(p,1+2*r),g=t.pointXOffset=h.offset;e.inverted&&(d-=.5),n.pointPadding&&(f=Math.ceil(f)),u.prototype.translate.apply(t),i(t.points,function(n){var i,r=l(n.yBottom,d),u=999+Math.abs(r),h=p,u=Math.min(Math.max(-u,n.plotY),a.len+u),m=n.plotX+g,y=f,v=Math.min(u,r),x=Math.max(u,r)-v;c&&Math.abs(x)<c&&(x=c,i=!a.reversed&&!n.negative||a.reversed&&n.negative,n.y===s&&t.dataMax<=s&&a.min<s&&(i=!i),v=Math.abs(v-d)>c?r-c:d-(i?c:0)),o(n.options.pointWidth)&&(h=y=Math.ceil(n.options.pointWidth),m-=Math.round((h-p)/2)),n.barX=m,n.pointWidth=h,n.tooltipPos=e.inverted?[a.len+a.pos-e.plotLeft-u,t.xAxis.len-m-y/2,x]:[m+y/2,u+a.pos-e.plotTop,x],n.shapeType="rect",n.shapeArgs=t.crispCol.apply(t,n.isNull?[m,d,y,0]:[m,v,y,x])})},getSymbol:t.noop,drawLegendSymbol:t.LegendSymbolMixin.drawRectangle,drawGraph:function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},pointAttribs:function(t,e){var i,r=this.options,o=this.pointAttrToOptions||{};i=o.stroke||"borderColor";var a=o["stroke-width"]||"borderWidth",l=t&&t.color||this.color,u=t&&t[i]||r[i]||this.color||l,d=t&&t[a]||r[a]||this[a]||0,o=r.dashStyle;return t&&this.zones.length&&(l=t.getZone(),l=t.options.color||l&&l.color||this.color),e&&(t=s(r.states[e],t.options.states&&t.options.states[e]||{}),e=t.brightness,l=t.color||void 0!==e&&n(l).brighten(t.brightness).get()||l,u=t[i]||u,d=t[a]||d,o=t.dashStyle||o),i={fill:l,stroke:u,"stroke-width":d},o&&(i.dashstyle=o),i},drawPoints:function(){var t,e=this,n=this.chart,r=e.options,o=n.renderer,l=r.animationLimit||250;i(e.points,function(i){var u=i.graphic,d=u&&n.pointCount<l?"animate":"attr";a(i.plotY)&&null!==i.y?(t=i.shapeArgs,u?u[d](s(t)):i.graphic=u=o[i.shapeType](t).add(i.group||e.group),r.borderRadius&&u.attr({r:r.borderRadius}),u[d](e.pointAttribs(i,i.selected&&"select")).shadow(r.shadow,null,r.stacking&&!r.borderRadius),u.addClass(i.getClassName(),!0)):u&&(i.graphic=u.destroy())})},animate:function(t){var n,i=this,o=this.yAxis,a=i.options,s=this.chart.inverted,l={},u=s?"translateX":"translateY";c&&(t?(l.scaleY=.001,t=Math.min(o.pos+o.len,Math.max(o.pos,o.toPixels(a.threshold))),s?l.translateX=t-o.len:l.translateY=t,i.group.attr(l)):(n=i.group.attr(u),i.group.animate({scaleY:1},r(e(i.options.animation),{step:function(t,e){l[u]=n+e.pos*(o.pos-n),i.group.attr(l)}})),i.animate=null))},remove:function(){var t=this,e=t.chart;e.hasRendered&&i(e.series,function(e){e.type===t.type&&(e.isDirty=!0)}),u.prototype.remove.apply(t,arguments)}})}(e),function(t){(t=t.seriesType)("bar","column",null,{inverted:!0})}(e),function(t){var e=t.Series;(t=t.seriesType)("scatter","line",{lineWidth:0,findNearestPointBy:"xy",marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 0.85em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}},{sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,drawGraph:function(){this.options.lineWidth&&e.prototype.drawGraph.call(this)}})}(e),function(t){var e=t.deg2rad,n=t.isNumber,i=t.pick,r=t.relativeLength;t.CenteredSeriesMixin={getCenter:function(){var t,e,n=this.options,o=this.chart,a=2*(n.slicedOffset||0),s=o.plotWidth-2*a,o=o.plotHeight-2*a,l=n.center,l=[i(l[0],"50%"),i(l[1],"50%"),n.size||"100%",n.innerSize||0],u=Math.min(s,o);for(t=0;4>t;++t)e=l[t],n=2>t||2===t&&/%$/.test(e),l[t]=r(e,[s,o,u,l[2]][t])+(n?a:0);return l[3]>l[2]&&(l[3]=l[2]),
l},getStartAndEndRadians:function(t,i){return t=n(t)?t:0,i=n(i)&&i>t&&360>i-t?i:t+360,{start:e*(t+-90),end:e*(i+-90)}}}}(e),function(t){var e=t.addEvent,n=t.CenteredSeriesMixin,i=t.defined,r=t.each,o=t.extend,a=n.getStartAndEndRadians,s=t.inArray,l=t.noop,u=t.pick,d=t.Point,c=t.Series,h=t.seriesType,p=t.setAnimation;h("pie","line",{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,states:{hover:{brightness:.1}}},{isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttribs:t.seriesTypes.column.prototype.pointAttribs,animate:function(t){var e=this,n=e.points,i=e.startAngleRad;t||(r(n,function(t){var n=t.graphic,r=t.shapeArgs;n&&(n.attr({r:t.startR||e.center[3]/2,start:i,end:i}),n.animate({r:r.r,start:r.start,end:r.end},e.options.animation))}),e.animate=null)},updateTotals:function(){var t,e,n=0,i=this.points,r=i.length,o=this.options.ignoreHiddenPoint;for(t=0;t<r;t++)e=i[t],n+=o&&!e.visible?0:e.isNull?0:e.y;for(this.total=n,t=0;t<r;t++)e=i[t],e.percentage=0<n&&(e.visible||!o)?e.y/n*100:0,e.total=n},generatePoints:function(){c.prototype.generatePoints.call(this),this.updateTotals()},translate:function(t){this.generatePoints();var e,n,i,r,o,s,l=0,d=this.options,c=d.slicedOffset,h=c+(d.borderWidth||0),p=a(d.startAngle,d.endAngle),f=this.startAngleRad=p.start,p=(this.endAngleRad=p.end)-f,g=this.points,m=d.dataLabels.distance,d=d.ignoreHiddenPoint,y=g.length;for(t||(this.center=t=this.getCenter()),this.getX=function(e,n,r){return i=Math.asin(Math.min((e-t[1])/(t[2]/2+r.labelDistance),1)),t[0]+(n?-1:1)*Math.cos(i)*(t[2]/2+r.labelDistance)},o=0;o<y;o++)s=g[o],s.labelDistance=u(s.options.dataLabels&&s.options.dataLabels.distance,m),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,s.labelDistance),e=f+l*p,d&&!s.visible||(l+=s.percentage/100),n=f+l*p,s.shapeType="arc",s.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:Math.round(1e3*e)/1e3,end:Math.round(1e3*n)/1e3},i=(n+e)/2,i>1.5*Math.PI?i-=2*Math.PI:i<-Math.PI/2&&(i+=2*Math.PI),s.slicedTranslation={translateX:Math.round(Math.cos(i)*c),translateY:Math.round(Math.sin(i)*c)},n=Math.cos(i)*t[2]/2,r=Math.sin(i)*t[2]/2,s.tooltipPos=[t[0]+.7*n,t[1]+.7*r],s.half=i<-Math.PI/2||i>Math.PI/2?1:0,s.angle=i,e=Math.min(h,s.labelDistance/5),s.labelPos=[t[0]+n+Math.cos(i)*s.labelDistance,t[1]+r+Math.sin(i)*s.labelDistance,t[0]+n+Math.cos(i)*e,t[1]+r+Math.sin(i)*e,t[0]+n,t[1]+r,0>s.labelDistance?"center":s.half?"right":"left",i]},drawGraph:null,drawPoints:function(){var t,e,n,i,a=this,s=a.chart.renderer,l=a.options.shadow;l&&!a.shadowGroup&&(a.shadowGroup=s.g("shadow").add(a.group)),r(a.points,function(r){if(e=r.graphic,r.isNull)e&&(r.graphic=e.destroy());else{i=r.shapeArgs,t=r.getTranslate();var u=r.shadowGroup;l&&!u&&(u=r.shadowGroup=s.g("shadow").add(a.shadowGroup)),u&&u.attr(t),n=a.pointAttribs(r,r.selected&&"select"),e?e.setRadialReference(a.center).attr(n).animate(o(i,t)):(r.graphic=e=s[r.shapeType](i).setRadialReference(a.center).attr(t).add(a.group),e.attr(n).attr({"stroke-linejoin":"round"}).shadow(l,u)),e.attr({visibility:r.visible?"inherit":"hidden"}),e.addClass(r.getClassName())}})},searchPoint:l,sortByAngle:function(t,e){t.sort(function(t,n){return void 0!==t.angle&&(n.angle-t.angle)*e})},drawLegendSymbol:t.LegendSymbolMixin.drawRectangle,getCenter:n.getCenter,getSymbol:l},{init:function(){d.prototype.init.apply(this,arguments);var t,n=this;return n.name=u(n.name,"Slice"),t=function(t){n.slice("select"===t.type)},e(n,"select",t),e(n,"unselect",t),n},isValid:function(){return t.isNumber(this.y,!0)&&0<=this.y},setVisible:function(t,e){var n=this,i=n.series,o=i.chart,a=i.options.ignoreHiddenPoint;e=u(e,a),t!==n.visible&&(n.visible=n.options.visible=t=void 0===t?!n.visible:t,i.options.data[s(n,i.data)]=n.options,r(["graphic","dataLabel","connector","shadowGroup"],function(e){n[e]&&n[e][t?"show":"hide"](!0)}),n.legendItem&&o.legend.colorizeItem(n,t),t||"hover"!==n.state||n.setState(""),a&&(i.isDirty=!0),e&&o.redraw())},slice:function(t,e,n){var r=this.series;p(n,r.chart),u(e,!0),this.sliced=this.options.sliced=i(t)?t:!this.sliced,r.options.data[s(this,r.data)]=this.options,this.graphic.animate(this.getTranslate()),this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},getTranslate:function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},haloPath:function(t){var e=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(e.x,e.y,e.r+t,e.r+t,{innerR:this.shapeArgs.r-1,start:e.start,end:e.end})}})}(e),function(t){var e=t.addEvent,n=t.arrayMax,i=t.defined,r=t.each,o=t.extend,a=t.format,s=t.map,l=t.merge,u=t.noop,d=t.pick,c=t.relativeLength,h=t.Series,p=t.seriesTypes,f=t.some,g=t.stableSort,m=t.isArray,y=t.splat;t.distribute=function(e,n,i){function o(t,e){return t.target-e.target}var a,l,u=!0,c=e,h=[];l=0;var p=c.reducedLen||n;for(a=e.length;a--;)l+=e[a].size;if(l>p){for(g(e,function(t,e){return(e.rank||0)-(t.rank||0)}),l=a=0;l<=p;)l+=e[a].size,a++;h=e.splice(a-1,e.length)}for(g(e,o),e=s(e,function(t){return{size:t.size,targets:[t.target],align:d(t.align,.5)}});u;){for(a=e.length;a--;)u=e[a],l=(Math.min.apply(0,u.targets)+Math.max.apply(0,u.targets))/2,u.pos=Math.min(Math.max(0,l-u.size*u.align),n-u.size);for(a=e.length,u=!1;a--;)0<a&&e[a-1].pos+e[a-1].size>e[a].pos&&(e[a-1].size+=e[a].size,e[a-1].targets=e[a-1].targets.concat(e[a].targets),e[a-1].align=.5,e[a-1].pos+e[a-1].size>n&&(e[a-1].pos=n-e[a-1].size),e.splice(a,1),u=!0)}c.push.apply(c,h),a=0,f(e,function(e){var o=0;if(f(e.targets,function(){return c[a].pos=e.pos+o,Math.abs(c[a].pos-c[a].target)>i?(r(c.slice(0,a+1),function(t){delete t.pos}),c.reducedLen=(c.reducedLen||n)-.1*n,c.reducedLen>.1*n&&t.distribute(c,n,i),!0):(o+=c[a].size,void a++)}))return!0}),g(c,o)},h.prototype.drawDataLabels=function(){function n(t,e){var n=e.filter;return!n||(e=n.operator,t=t[n.property],n=n.value,">"===e&&t>n||"<"===e&&t<n||">="===e&&t>=n||"<="===e&&t<=n||"=="===e&&t==n||"==="===e&&t===n)}function o(t,e){var n,i=[];if(m(t)&&!m(e))i=s(t,function(t){return l(t,e)});else if(m(e)&&!m(t))i=s(e,function(e){return l(t,e)});else if(m(t)||m(e))for(n=Math.max(t.length,e.length);n--;)i[n]=l(t[n],e[n]);else i=l(t,e);return i}var u,c,h=this,p=h.chart,f=h.options,g=f.dataLabels,v=h.points,x=h.hasRendered||0,b=d(g.defer,!!f.animation),A=p.renderer,g=o(o(p.options.plotOptions&&p.options.plotOptions.series&&p.options.plotOptions.series.dataLabels,p.options.plotOptions&&p.options.plotOptions[h.type]&&p.options.plotOptions[h.type].dataLabels),g);(m(g)||g.enabled||h._hasPointLabels)&&(c=h.plotGroup("dataLabelsGroup","data-labels",b&&!x?"hidden":"visible",g.zIndex||6),b&&(c.attr({opacity:+x}),x||e(h,"afterAnimate",function(){h.visible&&c.show(!0),c[f.animation?"animate":"attr"]({opacity:1},{duration:200})})),r(v,function(e){u=y(o(g,e.dlOptions||e.options&&e.options.dataLabels)),r(u,function(r,o){var s,l,u,g,m=r.enabled&&!e.isNull&&n(e,r),y=e.dataLabels?e.dataLabels[o]:e.dataLabel,v=e.connectors?e.connectors[o]:e.connector,x=!y;m&&(s=e.getLabelConfig(),l=r[e.formatPrefix+"Format"]||r.format,s=i(l)?a(l,s,p.time):(r[e.formatPrefix+"Formatter"]||r.formatter).call(s,r),l=r.style,u=r.rotation,l.color=d(r.color,l.color,h.color,"#000000"),"contrast"===l.color&&(e.contrastColor=A.getContrast(e.color||h.color),l.color=r.inside||0>d(r.distance,e.labelDistance)||f.stacking?e.contrastColor:"#000000"),f.cursor&&(l.cursor=f.cursor),g={fill:r.backgroundColor,stroke:r.borderColor,"stroke-width":r.borderWidth,r:r.borderRadius||0,rotation:u,padding:r.padding,zIndex:1},t.objectEach(g,function(t,e){void 0===t&&delete g[e]})),!y||m&&i(s)?m&&i(s)&&(y?g.text=s:(e.dataLabels=e.dataLabels||[],y=e.dataLabels[o]=u?A.text(s,0,-9999).addClass("highcharts-data-label"):A.label(s,0,-9999,r.shape,null,null,r.useHTML,null,"data-label"),o||(e.dataLabel=y),y.addClass(" highcharts-data-label-color-"+e.colorIndex+" "+(r.className||"")+(r.useHTML?" highcharts-tracker":""))),y.options=r,y.attr(g),y.css(l).shadow(r.shadow),y.added||y.add(c),h.alignDataLabel(e,y,r,null,x)):(e.dataLabel=e.dataLabel.destroy(),e.dataLabels&&(1===e.dataLabels.length?delete e.dataLabels:delete e.dataLabels[o]),o||delete e.dataLabel,v&&(e.connector=e.connector.destroy(),e.connectors&&(1===e.connectors.length?delete e.connectors:delete e.connectors[o])))})})),t.fireEvent(this,"afterDrawDataLabels")},h.prototype.alignDataLabel=function(t,e,n,i,r){var a,s=this.chart,l=s.inverted,u=d(t.dlBox&&t.dlBox.centerX,t.plotX,-9999),c=d(t.plotY,-9999),h=e.getBBox(),p=n.rotation,f=n.align,g=this.visible&&(t.series.forceDL||s.isInsidePlot(u,Math.round(c),l)||i&&s.isInsidePlot(u,l?i.x+1:i.y+i.height-1,l)),m="justify"===d(n.overflow,"justify");g&&(a=n.style.fontSize,a=s.renderer.fontMetrics(a,e).b,i=o({x:l?this.yAxis.len-c:u,y:Math.round(l?this.xAxis.len-u:c),width:0,height:0},i),o(n,{width:h.width,height:h.height}),p?(m=!1,u=s.renderer.rotCorr(a,p),u={x:i.x+n.x+i.width/2+u.x,y:i.y+n.y+{top:0,middle:.5,bottom:1}[n.verticalAlign]*i.height},e[r?"attr":"animate"](u).attr({align:f}),c=(p+720)%360,c=180<c&&360>c,"left"===f?u.y-=c?h.height:0:"center"===f?(u.x-=h.width/2,u.y-=h.height/2):"right"===f&&(u.x-=h.width,u.y-=c?0:h.height),e.placed=!0,e.alignAttr=u):(e.align(n,null,i),u=e.alignAttr),m&&0<=i.height?t.isLabelJustified=this.justifyDataLabel(e,n,u,h,i,r):d(n.crop,!0)&&(g=s.isInsidePlot(u.x,u.y)&&s.isInsidePlot(u.x+h.width,u.y+h.height)),n.shape&&!p)&&e[r?"attr":"animate"]({anchorX:l?s.plotWidth-t.plotY:t.plotX,anchorY:l?s.plotHeight-t.plotX:t.plotY}),g||(e.attr({y:-9999}),e.placed=!1)},h.prototype.justifyDataLabel=function(t,e,n,i,r,o){var a,s,l=this.chart,u=e.align,d=e.verticalAlign,c=t.box?0:t.padding||0;return a=n.x+c,0>a&&("right"===u?e.align="left":e.x=-a,s=!0),a=n.x+i.width-c,a>l.plotWidth&&("left"===u?e.align="right":e.x=l.plotWidth-a,s=!0),a=n.y+c,0>a&&("bottom"===d?e.verticalAlign="top":e.y=-a,s=!0),a=n.y+i.height-c,a>l.plotHeight&&("top"===d?e.verticalAlign="bottom":e.y=l.plotHeight-a,s=!0),s&&(t.placed=!o,t.align(e,null,r)),s},p.pie&&(p.pie.prototype.drawDataLabels=function(){var e,o,a,s,l,u,c,p,f,g,m=this,y=m.data,v=m.chart,x=m.options.dataLabels,b=d(x.connectorPadding,10),A=d(x.connectorWidth,1),w=v.plotWidth,S=v.plotHeight,E=Math.round(v.chartWidth/3),C=m.center,P=C[2]/2,M=C[1],T=[[],[]],k=[0,0,0,0];m.visible&&(x.enabled||m._hasPointLabels)&&(r(y,function(t){t.dataLabel&&t.visible&&t.dataLabel.shortened&&(t.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),t.dataLabel.shortened=!1)}),h.prototype.drawDataLabels.apply(m),r(y,function(t){t.dataLabel&&(t.visible?(T[t.half].push(t),t.dataLabel._pos=null,!i(x.style.width)&&!i(t.options.dataLabels&&t.options.dataLabels.style&&t.options.dataLabels.style.width)&&t.dataLabel.getBBox().width>E&&(t.dataLabel.css({width:.7*E}),t.dataLabel.shortened=!0)):(t.dataLabel=t.dataLabel.destroy(),t.dataLabels&&1===t.dataLabels.length&&delete t.dataLabels))}),r(T,function(n,o){var h,y,A,E=n.length,T=[];if(E)for(m.sortByAngle(n,o-.5),0<m.maxLabelDistance&&(h=Math.max(0,M-P-m.maxLabelDistance),y=Math.min(M+P+m.maxLabelDistance,v.plotHeight),r(n,function(t){0<t.labelDistance&&t.dataLabel&&(t.top=Math.max(0,M-P-t.labelDistance),t.bottom=Math.min(M+P+t.labelDistance,v.plotHeight),A=t.dataLabel.getBBox().height||21,t.distributeBox={target:t.labelPos[1]-t.top+A/2,size:A,rank:t.y},T.push(t.distributeBox))}),h=y+A-h,t.distribute(T,h,h/5)),g=0;g<E;g++)e=n[g],l=e.labelPos,a=e.dataLabel,f=!1===e.visible?"hidden":"inherit",p=h=l[1],T&&i(e.distributeBox)&&(void 0===e.distributeBox.pos?f="hidden":(u=e.distributeBox.size,p=e.top+e.distributeBox.pos)),delete e.positionIndex,c=x.justify?C[0]+(o?-1:1)*(P+e.labelDistance):m.getX(p<e.top+2||p>e.bottom-2?h:p,o,e),a._attr={visibility:f,align:l[6]},a._pos={x:c+x.x+({left:b,right:-b}[l[6]]||0),y:p+x.y-10},l.x=c,l.y=p,d(x.crop,!0)&&(s=a.getBBox().width,h=null,c-s<b&&1===o?(h=Math.round(s-c+b),k[3]=Math.max(h,k[3])):c+s>w-b&&0===o&&(h=Math.round(c+s-w+b),k[1]=Math.max(h,k[1])),0>p-u/2?k[0]=Math.max(Math.round(-p+u/2),k[0]):p+u/2>S&&(k[2]=Math.max(Math.round(p+u/2-S),k[2])),a.sideOverflow=h)}),0===n(k)||this.verifyDataLabelOverflow(k))&&(this.placeDataLabels(),A&&r(this.points,function(t){var e;o=t.connector,(a=t.dataLabel)&&a._pos&&t.visible&&0<t.labelDistance?(f=a._attr.visibility,(e=!o)&&(t.connector=o=v.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+t.colorIndex+(t.className?" "+t.className:"")).add(m.dataLabelsGroup),o.attr({"stroke-width":A,stroke:x.connectorColor||t.color||"#666666"})),o[e?"attr":"animate"]({d:m.connectorPath(t.labelPos)}),o.attr("visibility",f)):o&&(t.connector=o.destroy())}))},p.pie.prototype.connectorPath=function(t){var e=t.x,n=t.y;return d(this.options.dataLabels.softConnector,!0)?["M",e+("left"===t[6]?5:-5),n,"C",e,n,2*t[2]-t[4],2*t[3]-t[5],t[2],t[3],"L",t[4],t[5]]:["M",e+("left"===t[6]?5:-5),n,"L",t[2],t[3],"L",t[4],t[5]]},p.pie.prototype.placeDataLabels=function(){r(this.points,function(t){var e=t.dataLabel;e&&t.visible&&((t=e._pos)?(e.sideOverflow&&(e._attr.width=e.getBBox().width-e.sideOverflow,e.css({width:e._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),e.shortened=!0),e.attr(e._attr),e[e.moved?"animate":"attr"](t),e.moved=!0):e&&e.attr({y:-9999}))},this)},p.pie.prototype.alignDataLabel=u,p.pie.prototype.verifyDataLabelOverflow=function(t){var e,n=this.center,i=this.options,r=i.center,o=i.minSize||80,a=null!==i.size;return a||(null!==r[0]?e=Math.max(n[2]-Math.max(t[1],t[3]),o):(e=Math.max(n[2]-t[1]-t[3],o),n[0]+=(t[3]-t[1])/2),null!==r[1]?e=Math.max(Math.min(e,n[2]-Math.max(t[0],t[2])),o):(e=Math.max(Math.min(e,n[2]-t[0]-t[2]),o),n[1]+=(t[0]-t[2])/2),e<n[2]?(n[2]=e,n[3]=Math.min(c(i.innerSize||0,e),e),this.translate(n),this.drawDataLabels&&this.drawDataLabels()):a=!0),a}),p.column&&(p.column.prototype.alignDataLabel=function(t,e,n,i,r){var o=this.chart.inverted,a=t.series,s=t.dlBox||t.shapeArgs,u=d(t.below,t.plotY>d(this.translatedThreshold,a.yAxis.len)),c=d(n.inside,!!this.options.stacking);s&&(i=l(s),0>i.y&&(i.height+=i.y,i.y=0),s=i.y+i.height-a.yAxis.len,0<s&&(i.height-=s),o&&(i={x:a.yAxis.len-i.y-i.height,y:a.xAxis.len-i.x-i.width,width:i.height,height:i.width}),c||(o?(i.x+=u?0:i.width,i.width=0):(i.y+=u?i.height:0,i.height=0))),n.align=d(n.align,!o||c?"center":u?"right":"left"),n.verticalAlign=d(n.verticalAlign,o||c?"middle":u?"top":"bottom"),h.prototype.alignDataLabel.call(this,t,e,n,i,r),t.isLabelJustified&&t.contrastColor&&e.css({color:t.contrastColor})})}(e),function(t){var e=t.Chart,n=t.each,i=t.isArray,r=t.objectEach,o=t.pick;t=t.addEvent,t(e,"render",function(){var t=[];n(this.labelCollectors||[],function(e){t=t.concat(e())}),n(this.yAxis||[],function(e){e.options.stackLabels&&!e.options.stackLabels.allowOverlap&&r(e.stacks,function(e){r(e,function(e){t.push(e.label)})})}),n(this.series||[],function(e){var r=e.options.dataLabels;e.visible&&(!1!==r.enabled||e._hasPointLabels)&&n(e.points,function(e){if(e.visible){var r=i(e.dataLabels)?e.dataLabels:e.dataLabel?[e.dataLabel]:[];n(r,function(n){var i=n.options;n.labelrank=o(i.labelrank,e.labelrank,e.shapeArgs&&e.shapeArgs.height),i.allowOverlap||t.push(n)})}})}),this.hideOverlappingLabels(t)}),e.prototype.hideOverlappingLabels=function(t){var e,i,r,o,a,s,l=t.length,u=this.renderer,d=function(t,e,n,i,r,o,a,s){return!(r>t+n||r+a<t||o>e+i||o+s<e)};for(r=function(t){var e,n,i,r=t.box?0:t.padding||0;if(i=0,t&&(!t.alignAttr||t.placed))return e=t.alignAttr||{x:t.attr("x"),y:t.attr("y")},n=t.parentGroup,t.width||(i=t.getBBox(),t.width=i.width,t.height=i.height,i=u.fontMetrics(null,t.element).h),{x:e.x+(n.translateX||0)+r,y:e.y+(n.translateY||0)+r-i,width:t.width-2*r,height:t.height-2*r}},i=0;i<l;i++)(e=t[i])&&(e.oldOpacity=e.opacity,e.newOpacity=1,e.absoluteBox=r(e));for(t.sort(function(t,e){return(e.labelrank||0)-(t.labelrank||0)}),i=0;i<l;i++)for(s=(r=t[i])&&r.absoluteBox,e=i+1;e<l;++e)a=(o=t[e])&&o.absoluteBox,s&&a&&r!==o&&0!==r.newOpacity&&0!==o.newOpacity&&(a=d(s.x,s.y,s.width,s.height,a.x,a.y,a.width,a.height))&&((r.labelrank<o.labelrank?r:o).newOpacity=0);n(t,function(t){var e,n;t&&(n=t.newOpacity,t.oldOpacity!==n&&(t.alignAttr&&t.placed?(n?t.show(!0):e=function(){t.hide()},t.alignAttr.opacity=n,t[t.isOld?"animate":"attr"](t.alignAttr,null,e)):t.attr({opacity:n})),t.isOld=!0)})}}(e),function(t){var e,n=t.addEvent,i=t.Chart,r=t.createElement,o=t.css,a=t.defaultOptions,s=t.defaultPlotOptions,l=t.each,u=t.extend,d=t.fireEvent,c=t.hasTouch,h=t.inArray,p=t.isObject,f=t.Legend,g=t.merge,m=t.pick,y=t.Point,v=t.Series,x=t.seriesTypes,b=t.svg;e=t.TrackerMixin={drawTrackerPoint:function(){var t=this,e=t.chart.pointer,n=function(t){var n=e.getPointFromEvent(t);void 0!==n&&(e.isDirectTouch=!0,n.onMouseOver(t))};l(t.points,function(t){t.graphic&&(t.graphic.element.point=t),t.dataLabel&&(t.dataLabel.div?t.dataLabel.div.point=t:t.dataLabel.element.point=t)}),t._hasTracking||(l(t.trackerGroups,function(i){t[i]&&(t[i].addClass("highcharts-tracker").on("mouseover",n).on("mouseout",function(t){e.onTrackerMouseOut(t)}),c&&t[i].on("touchstart",n),t.options.cursor&&t[i].css(o).css({cursor:t.options.cursor}))}),t._hasTracking=!0),d(this,"afterDrawTracker")},drawTrackerGraph:function(){var t,e=this,n=e.options,i=n.trackByArea,r=[].concat(i?e.areaPath:e.graphPath),o=r.length,a=e.chart,s=a.pointer,u=a.renderer,h=a.options.tooltip.snap,p=e.tracker,f=function(){a.hoverSeries!==e&&e.onMouseOver()},g="rgba(192,192,192,"+(b?1e-4:.002)+")";if(o&&!i)for(t=o+1;t--;)"M"===r[t]&&r.splice(t+1,0,r[t+1]-h,r[t+2],"L"),(t&&"M"===r[t]||t===o)&&r.splice(t,0,"L",r[t-2]+h,r[t-1]);p?p.attr({d:r}):e.graph&&(e.tracker=u.path(r).attr({"stroke-linejoin":"round",stroke:g,fill:i?g:"none","stroke-width":e.graph.strokeWidth()+(i?0:2*h),visibility:e.visible?"visible":"hidden",zIndex:2}).addClass(i?"highcharts-tracker-area":"highcharts-tracker-line").add(e.group),l([e.tracker,e.markerGroup],function(t){t.addClass("highcharts-tracker").on("mouseover",f).on("mouseout",function(t){s.onTrackerMouseOut(t)}),n.cursor&&t.css({cursor:n.cursor}),c&&t.on("touchstart",f)})),d(this,"afterDrawTracker")}},x.column&&(x.column.prototype.drawTracker=e.drawTrackerPoint),x.pie&&(x.pie.prototype.drawTracker=e.drawTrackerPoint),x.scatter&&(x.scatter.prototype.drawTracker=e.drawTrackerPoint),a.legend.itemStyle.cursor="pointer",u(f.prototype,{setItemEvents:function(t,e,n){var i=this,r=i.chart.renderer.boxWrapper,o="highcharts-legend-"+(t instanceof y?"point":"series")+"-active";(n?e:t.legendGroup).on("mouseover",function(){t.setState("hover"),r.addClass(o),e.css(i.options.itemHoverStyle)}).on("mouseout",function(){e.css(g(t.visible?i.itemStyle:i.itemHiddenStyle)),r.removeClass(o),t.setState()}).on("click",function(e){var n=function(){t.setVisible&&t.setVisible()};r.removeClass(o),e={browserEvent:e},t.firePointEvent?t.firePointEvent("legendItemClick",e,n):d(t,"legendItemClick",e,n)})},createCheckboxForItem:function(t){t.checkbox=r("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:t.selected,defaultChecked:t.selected},this.options.itemCheckboxStyle,this.chart.container),n(t.checkbox,"click",function(e){d(t.series||t,"checkboxClick",{checked:e.target.checked,item:t},function(){t.select()})})}}),u(i.prototype,{showResetZoom:function(){function t(){e.zoomOut()}var e=this,n=a.lang,i=e.options.chart.resetZoomButton,r=i.theme,o=r.states,s="chart"===i.relativeTo?null:"plotBox";d(this,"beforeShowResetZoom",null,function(){e.resetZoomButton=e.renderer.button(n.resetZoom,null,null,t,r,o&&o.hover).attr({align:i.position.align,title:n.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(i.position,!1,s)})},zoomOut:function(){d(this,"selection",{resetSelection:!0},this.zoom)},zoom:function(t){var e,n,i=this.pointer,r=!1;!t||t.resetSelection?(l(this.axes,function(t){e=t.zoom()}),i.initiated=!1):l(t.xAxis.concat(t.yAxis),function(t){var n=t.axis;i[n.isXAxis?"zoomX":"zoomY"]&&(e=n.zoom(t.min,t.max),n.displayBtn&&(r=!0))}),n=this.resetZoomButton,r&&!n?this.showResetZoom():!r&&p(n)&&(this.resetZoomButton=n.destroy()),e&&this.redraw(m(this.options.chart.animation,t&&t.animation,100>this.pointCount))},pan:function(t,e){var n,i=this,r=i.hoverPoints;r&&l(r,function(t){t.setState()}),l("xy"===e?[1,0]:[1],function(e){e=i[e?"xAxis":"yAxis"][0];var r=e.horiz,o=t[r?"chartX":"chartY"],r=r?"mouseDownX":"mouseDownY",a=i[r],s=(e.pointRange||0)/2,l=e.reversed&&!i.inverted||!e.reversed&&i.inverted?-1:1,u=e.getExtremes(),d=e.toValue(a-o,!0)+s*l,l=e.toValue(a+e.len-o,!0)-s*l,c=l<d,a=c?l:d,d=c?d:l,l=Math.min(u.dataMin,s?u.min:e.toValue(e.toPixels(u.min)-e.minPixelPadding)),s=Math.max(u.dataMax,s?u.max:e.toValue(e.toPixels(u.max)+e.minPixelPadding)),c=l-a;0<c&&(d+=c,a=l),c=d-s,0<c&&(d=s,a-=c),e.series.length&&a!==u.min&&d!==u.max&&(e.setExtremes(a,d,!1,!1,{trigger:"pan"}),n=!0),i[r]=o}),n&&i.redraw(!1),o(i.container,{cursor:"move"})}}),u(y.prototype,{select:function(t,e){var n=this,i=n.series,r=i.chart;t=m(t,!n.selected),n.firePointEvent(t?"select":"unselect",{accumulate:e},function(){n.selected=n.options.selected=t,i.options.data[h(n,i.data)]=n.options,n.setState(t&&"select"),e||l(r.getSelectedPoints(),function(t){t.selected&&t!==n&&(t.selected=t.options.selected=!1,i.options.data[h(t,i.data)]=t.options,t.setState(""),t.firePointEvent("unselect"))})})},onMouseOver:function(t){var e=this.series.chart,n=e.pointer;t=t?n.normalize(t):n.getChartCoordinatesFromPoint(this,e.inverted),n.runPointActions(t,this)},onMouseOut:function(){var t=this.series.chart;this.firePointEvent("mouseOut"),l(t.hoverPoints||[],function(t){t.setState()}),t.hoverPoints=t.hoverPoint=null},importEvents:function(){if(!this.hasImportedEvents){var e=this,i=g(e.series.options.point,e.options).events;e.events=i,t.objectEach(i,function(t,i){n(e,i,t)}),this.hasImportedEvents=!0}},setState:function(t,e){var n,i=Math.floor(this.plotX),r=this.plotY,o=this.series,a=o.options.states[t||"normal"]||{},l=s[o.type].marker&&o.options.marker,c=l&&!1===l.enabled,h=l&&l.states&&l.states[t||"normal"]||{},p=!1===h.enabled,f=o.stateMarkerGraphic,g=this.marker||{},y=o.chart,v=o.halo,x=l&&o.markerAttribs;t=t||"",t===this.state&&!e||this.selected&&"select"!==t||!1===a.enabled||t&&(p||c&&!1===h.enabled)||t&&g.states&&g.states[t]&&!1===g.states[t].enabled||(x&&(n=o.markerAttribs(this,t)),this.graphic?(this.state&&this.graphic.removeClass("highcharts-point-"+this.state),t&&this.graphic.addClass("highcharts-point-"+t),this.graphic.animate(o.pointAttribs(this,t),m(y.options.chart.animation,a.animation)),n&&this.graphic.animate(n,m(y.options.chart.animation,h.animation,l.animation)),f&&f.hide()):(t&&h&&(l=g.symbol||o.symbol,f&&f.currentSymbol!==l&&(f=f.destroy()),f?f[e?"animate":"attr"]({x:n.x,y:n.y}):l&&(o.stateMarkerGraphic=f=y.renderer.symbol(l,n.x,n.y,n.width,n.height).add(o.markerGroup),f.currentSymbol=l),f&&f.attr(o.pointAttribs(this,t))),f&&(f[t&&y.isInsidePlot(i,r,y.inverted)?"show":"hide"](),f.element.point=this)),(i=a.halo)&&i.size?(v||(o.halo=v=y.renderer.path().add((this.graphic||f).parentGroup)),v.show()[e?"animate":"attr"]({d:this.haloPath(i.size)}),v.attr({"class":"highcharts-halo highcharts-color-"+m(this.colorIndex,o.colorIndex)+(this.className?" "+this.className:""),zIndex:-1}),v.point=this,v.attr(u({fill:this.color||o.color,"fill-opacity":i.opacity},i.attributes))):v&&v.point&&v.point.haloPath&&v.animate({d:v.point.haloPath(0)},null,v.hide),this.state=t,d(this,"afterSetState"))},haloPath:function(t){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-t,this.plotY-t,2*t,2*t)}}),u(v.prototype,{onMouseOver:function(){var t=this.chart,e=t.hoverSeries;e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&d(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this},onMouseOut:function(){var t=this.options,e=this.chart,n=e.tooltip,i=e.hoverPoint;e.hoverSeries=null,i&&i.onMouseOut(),this&&t.events.mouseOut&&d(this,"mouseOut"),!n||this.stickyTracking||n.shared&&!this.noSharedTooltip||n.hide(),this.setState()},setState:function(t){var e=this,n=e.options,i=e.graph,r=n.states,o=n.lineWidth,n=0;if(t=t||"",e.state!==t&&(l([e.group,e.markerGroup,e.dataLabelsGroup],function(n){n&&(e.state&&n.removeClass("highcharts-series-"+e.state),t&&n.addClass("highcharts-series-"+t))}),e.state=t,!r[t]||!1!==r[t].enabled)&&(t&&(o=r[t].lineWidth||o+(r[t].lineWidthPlus||0)),i&&!i.dashstyle))for(o={"stroke-width":o},i.animate(o,m(r[t||"normal"]&&r[t||"normal"].animation,e.chart.options.chart.animation));e["zone-graph-"+n];)e["zone-graph-"+n].attr(o),n+=1},setVisible:function(t,e){var n,i=this,r=i.chart,o=i.legendItem,a=r.options.chart.ignoreHiddenSeries,s=i.visible;n=(i.visible=t=i.options.visible=i.userOptions.visible=void 0===t?!s:t)?"show":"hide",l(["group","dataLabelsGroup","markerGroup","tracker","tt"],function(t){i[t]&&i[t][n]()}),r.hoverSeries!==i&&(r.hoverPoint&&r.hoverPoint.series)!==i||i.onMouseOut(),o&&r.legend.colorizeItem(i,t),i.isDirty=!0,i.options.stacking&&l(r.series,function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),l(i.linkedSeries,function(e){e.setVisible(t,!1)}),a&&(r.isDirtyBox=!0),d(i,n),!1!==e&&r.redraw()},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){this.selected=t=void 0===t?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),d(this,t?"select":"unselect")},drawTracker:e.drawTrackerGraph})}(e),function(t){var e=t.Chart,n=t.each,i=t.inArray,r=t.isArray,o=t.isObject,a=t.pick,s=t.splat;e.prototype.setResponsive=function(e){var i=this.options.responsive,r=[],o=this.currentResponsive;i&&i.rules&&n(i.rules,function(n){void 0===n._id&&(n._id=t.uniqueKey()),this.matchResponsiveRule(n,r,e)},this);var a=t.merge.apply(0,t.map(r,function(e){return t.find(i.rules,function(t){return t._id===e}).chartOptions})),r=r.toString()||void 0;r!==(o&&o.ruleIds)&&(o&&this.update(o.undoOptions,e),r?(this.currentResponsive={ruleIds:r,mergedOptions:a,undoOptions:this.currentOptions(a)},this.update(a,e)):this.currentResponsive=void 0)},e.prototype.matchResponsiveRule=function(t,e){var n=t.condition;(n.callback||function(){return this.chartWidth<=a(n.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=a(n.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=a(n.minWidth,0)&&this.chartHeight>=a(n.minHeight,0)}).call(this)&&e.push(t._id)},e.prototype.currentOptions=function(e){function n(e,a,l,u){var d;t.objectEach(e,function(t,e){if(!u&&-1<i(e,["series","xAxis","yAxis"]))for(t=s(t),l[e]=[],d=0;d<t.length;d++)a[e][d]&&(l[e][d]={},n(t[d],a[e][d],l[e][d],u+1));else o(t)?(l[e]=r(t)?[]:{},n(t,a[e]||{},l[e],u+1)):l[e]=a[e]||null})}var a={};return n(e,this.options,a,0),a}}(e),e})},function(t,e){function n(t){var e=i(t)?s.call(t):"";return e==r||e==o}function i(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var r="[object Function]",o="[object GeneratorFunction]",a=Object.prototype,s=a.toString;t.exports=n},function(t,e,n){var i=n(119);"string"==typeof i&&(i=[[t.id,i,""]]);n(51)(i,{});i.locals&&(t.exports=i.locals)},,,,function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAEAElEQVR42s2XbWxTVRjH/+eeu7a3ydYVur6sjjK6uenaYtnoyOi6qSHMyGQIMZJgNIERSfwiETqGRglEO5H4yQ9ESUwUP5gA29Cp3xYlRKPCYMki8QOJCUtMFgPdur7s9l6f225diWOjpNs8yblvvbe/3/Oc55zcy7DKjf1vBHp6el6IRCKDqyJA8DraHaX+IUncWg2BI7Srp/4HCZxecYFZiXME319swIWQ8WkIbGL3cGx0RQUutjhKIcx8JFmt3VKFtan97PC1FRO41OzeBiH1qeu5F12eg2Ho7JUPnG1FFbjk95eCa1Gv7fa/1cusjVsAVQUrL19cIBwOn2OMBUmg7lHh/b6tAUr5167O7a6GQ4dQIknZHzSBNWuWNwP9T2zTU+SjTScO1zqfac1Ac12DWCzLKzBQ33ncHnrqVOCDw/fD5wRsFcsnMOje6+ISG2v/6oRRsq2dBWNeIJGC4HYuo0D1axfrDnbsqn11+3/hKRmIJiBsWr90EdIu2NfXV1ARXq56o8NYZRoKffEm4yU8C1VmBZIEn0pljoXAuuJn4LL9mJ6qfnTzmZdrrc01uchVhQ5iBE/ISCgMY3ERN+I634FOU3FXwm+s7x23hapPNb7fNQ9PKohH0xiJCrg+LeK2XILHHRycqRu72ww3iybwreWMS9CpY61f7qXCK6V0K7g1oWLgb44/UxxPPsbRtJ7DU8mhFxmmU4pgM3G1aAJDlk/6a/b5dm54aSOlWsHoJHB6XMQrQT0C1VnoXC1qIyIwVSiThAcLPGwRDhnPu2ncdxsdhkjLxx1MEDlGYkBknOHoDgMaKGIlbwlQMrWowm4SHq0Iv+PfE1BuB8v0Nr1FV2X2mOHa4UbZhnJcn1JxclzBsU4JDU6eg2qhKnSSmYVxetFwFCDwg/iTT5WVI2AKAXlVubcMZo8J5gYzjA4p98i1qTTevSOjd6cBHqeYg2c6beIzWbgm419XgMAvvpteW7DihtlTxiS7YcG31t8I3nsngbe7JHidPA8MyHRwl8DTqfn7W9y8sCGYuaCSP8T8G7UI/6JqvxqVcXYihXd26QkuZsBpAqfphskEMnDtPL89W88LWwlJIEn/p7sdT+Pq3TR+JuivkzIEI8NmqvIuvw51dp4BaRHfi2fBM+mFIc97C8hAKBz1VUvC71f+kUXVQOmrEdHsFtHoElFZLlCkBKXNvUR2jGmpz2RhsbZnUwECW09GvXsCupEtNVxwEjChrao0IDEa01hSxVQyO75LQfPbvmaxsBr4/Ec5ITPoHx6xeDvQWqDAZ8NynAQMxRJ4vU3M//4YzP/4uU9goYdVVQ3S++KVYl2bbQNzn4FLfpxqM4Rmx/5iXFs0A6vV/gVNzBY/AtLbZQAAAABJRU5ErkJggg=="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wIFAoyLJQcQLkAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAATklEQVQY08XNsQnAQAxD0X+QUVx7gFvDAxmv6Nq7OFWOQMiViUrxhOC3DIDMfAWqCsBxFRHRVbWAiODu47HMTMys55xtZr17WXiL7vibnCFkHelcbNvXAAAAAElFTkSuQmCC"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AMdDAU5FCvBmQAAAKlJREFUOMtjYBj+QFle3lBJTj4QlzwTXs1yilYMDIznmBgZBciwWcFBSV7hv6KsXDHJmhXl5Z2U5RX+K8kpRpGsWUlO3kdRVu6/srwCUZpZ0AUYGRmTGBgYnzD/ZtpOjAEYgfjhz58QRoZ/F/+y/rslLysnTnb0KcorzFKWV3ijJC+nQYkhS5XlFT4rycmp4FLDjM+ADx8/rBPi52dgYGT0eP/x49ZhmlcASpkjnx2uzJ4AAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AMdDAADr1DsbgAAAP1JREFUOMvdk71KQ0EQhc8slsHGYOXumb2jCFoY7AWr3DqFCCJYpxMLbSxUfBXfQHwBfQQFEUS5PoS/2bW5QS2CW2e6gfnOYf6A6Y7Kxx0LrMe5kYsVdet3jZsERx9rkXyRBe8tvALIQxZ0C5x124LmiuyPYaO+Rerpv3AMsd/Cmy28ZNSk1LMCZw5auAYAU64b9TVS9ycxf2YgTvYgaPKnXAMARnkXwEhyuioSCL3VQQIaN4M7AHh8aQ4kpyMRd28MvfL1US8t6FNc0FkAMB+OjfwwhrVikej1xoI+z1fe/YhoMnK56A46nNvIwG3ny5207ZxLSkNkHE7Zv3wDP0BEJhOixVsAAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AMdDAcNB6lXrgAAAL1JREFUOMvdkKEOAjEQRLd3aNKe722vlQSHIXwACkfweBSaXwIHf0CCIcHgCAQEBtH2HIguigRxyVEcPDnZ2cwMwM+TVokacZQJQda5W92DpEqkACIQ7Q1i66sErvTbjPMHEMwF5yvr/fWrfloWYyMVacw7UQle2NLtBG+eibFlxvnaen/8aIN3WJpsEoI7A+hFV0CJbYOKdK5m0eYCi75BFTTiJN4ssWtQBZOrad1to7I3gwEjNjxcTgv4f56mOTVLblp90AAAAABJRU5ErkJggg=="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AMdDAA4HlsFSgAAARVJREFUOMvdULFKA0EUnN2kEry3FwtBuX2b3ULE2ko/QbBOoZBv8Cds/AYrIWIRSxFtRVKlVBBD0ig2dxvBwkTXIpcQ4cRr9XUzMPNmBvjzV5kHTpuGUvSaee8nuL4bU7Seen/3k4GcByFgWUI8GtY2Z8aAaDvmrVIJ0mF2W1uMFqQUx6So1Rv0OzWKuwG4VBF1s6G/L9XLaX3o2HzUmTmvtmM1h6IklSKD1PurJaJ3IdAiRe3eoH8zTRITdVLvHwo3+LYHxDmCkBJyDwCq47drAfEiIPd/rWC12XRsgk10c8YxPznmi3JibUY20QcAsLa6onLxWRnxhmPzORVvR1HVan4u9XliwCc20bOOjvnIMZ/if98XVR9SfNJ0yW0AAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sKCg8qOaoSvZQAAAMjSURBVFjD7Ve/i1xVFP7Oj/vrvfueSxIxxQYLQXshqTalVSCSYYvo2mhAO7uw8yfsYmdnsaVYGCYmkCIYIkgKNcRGiGiTZhWbkDS6kJn3rsXMe5m32WRmx5AByYXDzBwu95z7ne9+5wzwck1Wv98/u4y4PAn+FoB3J58vPgEAZwEgpfTCUaCpEuw83KseVTU+bhIzqgjBI9tnNbvdy3fN8ZBl+krMURYRZZGjjBnKIk9FDIONk2F9ngR0+kdV49x7vTNcFhHM3JoxBjFGqCpEBD/8eHv13OnXYUI5hpGAE68GHCstMqd0+0/uzYuA7kfEaNdFRPDeg4haExFoWz1gJRpEr7DK8IY6yM7Fgc3NzZ2U0tpBG4wxbeAmoenjhYGV3MApwQrBKh+ehNvb2xeI6BaANByNuhCpdoODUFUVRlUNAMi9whmG1bFN9qaFSiCEy18Nrs0kYcVu95u7vz2VhDGGwSJCtLM0IVrmooaEANYe7tW/1Am9xv+UEqQHj/zuzXtuNXhHWXAI3iN4hxAcgnfIvG++18Hbrz84Fc7PJUT3/64+/Oj9HllrOzpQFAWyLIOIoK5rXL9xE/8cOQUV6Rz22orDkcIgekHuFEYZ39+j4cZJb+ctARljOg5rLZxz3VcBPBG8CIrgGMoEZYYwwepsTZjJgRBCR4SaJ9k5hIA8CFQYKtSaMB2ahGk4HHZuK5ObNsGrqkICMKqqdp+3AiMMw48Dj4PP1oSlk/ClDnSk+JNPL16aLoE1BkXMEGOOIs/SHpW7d+4fXc2Co+DDGO4J7E0JsuCSd3Zw/m17+HmgTuhd2Fgn58Y6ICLw3sN7DxDR9W+/O/HOG29CZQwcM2CVUWaKo9EiBoG3RD//RYebB6baMRnzOCcRadvxuCuiDd62ayHkTmGVYIThdYF5YKodPyFCz3r/AJB5hTUEowyjDFX6TyRMw+GovT0zd99/QjsHAIAyI1iGm8wCRghMvPg8wITBzpeXnk3Cn37vkPDXPw4m4UIJfPH5Z+v/ax3o9/sX9//5oRlKuAbg1nP0NevK1tbW1ZkZT3rEc/MdhMDS17/KPtrYN9+xbQAAAABJRU5ErkJggg==";
},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sKCg8qFgHDgM0AAAIwSURBVFjD7Ze/b9NQEMe/d+/dOXHCry4wISQkGNiZIhaGbkWKMtAFCdiQqk4onpmSf4CKISysEAnEUKZKqCys/AOIgQEGJlji9jE8x3Ea0yrOox7gpCjyi6W73H3v46+B/5FFkiQbdeTlLPl1AHey79MvAMAGAKSHdOpdoMIIRnvfLp+bcNyNxJKqIFKBqkBFoGr9tSjy30Scqh0/uXutV7UAW7z4mUp3a/MWifhjZkAtQy1DLGGtrVhrC5pq0BAGM9HTd1+6IUaQd2Sa/GhEwmg3DCwTDBOYCZHwXBcrF9Dv90fOuc5xN55pWJ/cEAwDhgGmQCIcDocPiWgfgJtM0oWbxPh/65PPOnBwCABwqxQw1+/YTsbPXr1fToRix8EK+Pj8Ua8uDtQWNBUhgM7e9yufUm4uM4LCuWfC9vqlXmUQvf169f7W5u2FVTRMUMuIhKDCON8SXGhlPFBGZBnEhBcffrjt9YtcWQPHcWC2EYxYTbYNAJPfCDFUiQlLa6DVMLBmtoqc8YCJgoiwlAP5KAwhspyzwDDBEIGJcOBcJSbYIgkrcGBehKswIUmSUW2GpM6Yk/zNBzsvl+CAU7Hjwb0bvWAF/ErtH/3A2djmXqDp15B2dj93g4yg8Dgu5YAYQhz53Z/6gRBeoOxxXBpxZCCGFvzA3xDhAgcse/yaPLn/hPACq/oBJyt6gX/PDyRJ8vjoyw+dQMIOgP2AZ9N4PRgM3pxYcWZUgp2VdaD2+A05X5fMVjkjcQAAAABJRU5ErkJggg=="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfdDAkOBynd4SR7AAABM0lEQVQoz42RPU7DQBBG3+5aK0QRISwXqbgCUiQkV3AIXyBl7uBUOQFNWl8FJEQarhDkSC4RnSXH9s7SJIsD5me6nZn3zTc7Ks/zF2DGZzyuVqs7/ogIuJ7P53jvUUpRFEXKPyKy1pqyLNntdkynUwC7XC6fgfQ3FxFA13UYY1BKAaC1vlksFvR9jzGG9Xqdjlk9NgdQRMx2u6WqKpIkAbCjoPceEcF7Hwpt26KUCmJPb+13UERwziEiofBVbFPcPwC3h/JG/wSO5NIsy8iyDGAWATjn6Pse59xvoK2qirquAawegsOJY2J1XYeesOPYxDGx487BatM0J6Bzjv1+f5Lruu70V5MkwXt/vBkAcRwjIsRxHHLW2jBR5XleAlcDi69a60vgYnCa98lkcqaUOj+8mw8bKNSNWJsQJAAAAABJRU5ErkJggg=="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QkKCjk1VXnrCwAAAL1JREFUKM+t0D0uRAEUxfHfG5OMRGMFEtuQE9UkLIJSo2MBCh+d6EQsYQqxAwluqxTFVCorEIWC5pGXF8MUTnnu/9x7c5hDVdVUVQPNHPAIYzzjcfAHvIxTnGCU5GP4C7yES6xhK8kDDGfAi5hgHTtJbr9mw6pawC5Wk+y3/hU2cJ5k0l3WvbBXVSt4wSamOOhfbzr/XmC79d8xTnLXDwwgySuO8NT6hz/B34E2NMUxbnA2q71+S9e4x5v/0ieSsTVT+vpcFwAAAABJRU5ErkJggg=="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QgNDTctfW5ZXwAAAI5JREFUKM+t0TEOAVEUheFPJsFQsAGlFehNaQkSe7ADa5CIHegkSkp7UIleqVMKGc2bRES8V8xJbnPvf25OckhTI4wsAW5hgiZuMbiPNU4YxeAutriiiMFt7HHH9PuYYY7lx+6AJ1a/vlWGEruQ+YULev/yboKpxAPjWO4hzsGwSOzHDEd0Ug05BlWrtegN2D8WOaohhiEAAAAASUVORK5CYII="},function(t,e){t.exports="data:image/gif;base64,R0lGODlhNAAnAOf1AAAAAIAAAACAAICAAAAAgIAAgACAgMDAwMDcwKbK8BMTEyoqKi4uLjIyMjU1NTk5OT09PQQicUJCQkZGRkhISExMTFJSUlVVVVlZWV1dXWJiYmRkZGlpaW1tbXJycnV1dXp6en5+fiI8gidBhSpEhy1GiCxUlTBJijBXlzNYlzZZmD9WkjpbmD1cmSxii0Vbk0lelkBkn0tgl0xhmFdqnUVqo0xwp1JwplRzqFZ4rF1womFzpGJ1pmR2pWd4p2h6qmt9q25/qlWGo1uCs3eGq3eTvXuWv1Sm1V6293+63Ge55Wi96WO692nA93XG93nG+XzI+YKCgoaGhoqKio2OjpGRkZWVlZmZmZ6enouZu4yZuoyavpCdvaGhoaampqioqK6urq6zubGxsbW1tbK3vLS5vbm5ubi7v729vYKbwZKfwYKjyYunyoC73ZWhw52nwJ6pyJex0Ju72YC+4qOuyKaxzam0z6+4z6W20aC616K82am71ru+wb6/wLC50ba+1bm/0ITF6IfL7orD44HM+YrQ+IzR+JbH45bR8JDU+ZzU8Z3V/J3Y+rLI37vC1avT6qLZ+6ra86rd+7fN47LZ77/b7bff9bHf/a3g/LHh+7Ti+7Xi/Lfl/Lzg87vk+8DAwcLDxMLExMXFxcbHyMbIysXJzcjIyMrLzMzMzMTL3svO1MnP3czQ1tHR0dXV1dHU2dXY3Nra29nb3drc3tzd3sXa68/U4svf79zf4sDj9sLk9sbl98Pm/MPo/Mjn98ro98zp98jq/M/q+M7s/d7h493h6dLl8tbo89Ps+dHu/dTs+dTu/drs9tvv+tzv+tXw/tnx/t3w+t3y/t75+uDh4uHi5ePk5eTl5eHl7ufn6Ojo6evr7Ovs7O3t7ers8u3u8ePz++Dz/uH0/uXy+eX1/uH5+uT6++j3/uz1++j7++z4/uz8/PDw8PLz9fT09Pb3+vP7/vH9/fj4+fn6/Pz8/f///////////////////////////////////////////ywAAAAANAAnAAAI/gBpfcFCsGDBL7QEGlyIUOHCg7RcSZxIceIXahgzaoz15aLGjxw9fszI0RW7kyhTsnOFhZq7lzBh0iPoMmbMmS1t3sRiUqVKljV1usMZVCdRoS9n9vTJrl07oEiH0ox6FKlSpk6dQrU6lWtOrktPZs26VWhVs13RLh07tqzRtG+/qhXL1p1WuXGL2jz71hXbrHaf4t0Ll/DgnX7rxnRrWO/OwzJ5/rXp6kssepgza+54WbNnzp4/JwZM2eFDLA0HnkadUPVphBVjSzT9MPVq1rQZ0rrGu7fv3iJHUgspnGTH4hg5XmOa8hpkd5cLw4z+PPpyn9y2nXTu2F0UCXxh/n4P/3I8lusqtWXbftiDhE/k3cOXLn8mepTdsmljr9cDADFSDeYfgOENKNV9J6nXDX/udFCFO6YA4EFSUzkIoYQU5mRhhBMeeFI33LDTjTb78RcCAAB4IYECaGRIzYkprthigC+iqCKLFF6nHjskLsggBwqgKEFkOQEpJJEuGQnAkDmiRCKJzeVEixdBToGkO1NWeWWWAFjZ5Enb9BhlUFVIEMuVL5V5poswqRnZfdto15xloW1GZ52YgYYnPV8g6NM1uRlk22qDvrbbb4gC6lptrd1WKKOJIhrcSMQhV2lxyjGHEndIUdcddOS9ZB07ppRqaiigmMIOpzqZB5mrnd2Zt5yppn7Sh6qsxlQffe/F1+t5pNIqSh+f4CrgfzTaZGCByNoXbK19iGKsSxtimGy1HR6FbZOmiBJKt58UOy2MN85IFLkyuogujh6aYqu7n0g7rTtKMplsvVfiyy284Zq6qpRUdrllwF4my2XBzpYKSrjyzpummWi64yabD6/ZrsKp+nvNnXjq2THHdfap6XaBQlQyQY/qFulvAQEAOw=="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAUCAYAAABroNZJAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3gEODxoaf0zN4AAAAPBJREFUOMvtktFqAjEQRc+km5J+VsR+dY2yVXT/Z5XVzSTjS10oWmnxoVB6YV4uw+HOZaQ/HIwH1Tjn+EOQJ3kc8jgBcOIEcYIWZb1ZU61y8UottO8tWfPk3RrnRHAidLsdfd+TUsJqpZZCSon9fk/XdVz2bo2YmQGoKouUGMeREAICDMcj3nte53OapvnynAkCUGslLZcMwwBACIFZjHcBV8WWUqi1/rjYKUnOmbfFAlXlJQQQYRiGb50zJVlvNqgq3ntijMxi5Nl7VJXtdns/in3odDrZcrWycRwvluWcrW1bU1W7p0/F/u7H/kOudAY1ua6xJgbfogAAAABJRU5ErkJggg=="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAUBAMAAACZjst6AAAAG1BMVEXe4+bw8/Pz9fX19/f3+fn5+/v8/P39/v7///9kr4t5AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3gEODiQjYE40ogAAAEtJREFUCNdjUIICBQZjKDBgcIECB4ZQKAhgSIOCBCRWeUF5OXt5eXkBQwcDRwNDR0cHkGhgYOCAsDoYQEKoLIQsko6ODpgOCCCDBQALNkfah4uKEgAAAABJRU5ErkJggg=="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAFOElEQVR42tWXC1AUdRzHf3tAE5XZSDnFhOWMBU0PHE0MB7W0HBkJ5TyRAxPiEQgJqcChYUqQ3oFGovKIR4chHHkciM9s1BHMZqgMHW2wfCWONZnmA7zH7u2/3/7vbrtlmLm1ccB+M//Zuf38Ht//b3+7t8vAMBtz3wjIy8uL1Gq17cMiAIsH4iEXVzGKODMcAnLwEISrBwWUDLkAp4haLJ40lMX/vwIauswGhmGUbvEEzbQoxDdmSARUd9y0R433VWBdsPMEbByB/T/b+JRpI73+kwCNRlOLOwpDAYFygsoO/EmiJz1Ki3N2h4jdJ/shc9bou36uDNoBw3GbcbAWx0x4QCX80O3sJQsmjxIFcDwPe7tvgWZuAPVv+N5sVCgU0nieN8VN8lXJEqD/ro8Pf8GH4QkPHLbXguvbi4QkhD6iEPia5l+J6rXRjuJUAF6C7mtQsPA5mq/y8HVeOeFhBkXj5eHBwhI42GMlaW+MUsgSUH7oGol42RdYTM5iAtbOQ+c5DtJn+FH/3PpTJGqyP7C0AzyYrTwcOX0ViuNfory4vZeoQ/1ocZvdIeLrk7cgNzKAkSVg454rZE7wCBooCBCG7Ng5C6yY40/9l1b+SCJDx1Bh/WY73DZz8NPZq7A5bSLl+Y1nSGzYUzTeirF9Fg4On7oORbGBgwsYOIRFLRfI7ODHMBiLY/v6rRx0/2aG/PljqX/yZ8fImxOfAYvNDtgEasdOXYaaD6ZQnll1nKhffxasLA83+lm40cfC8bN/QVnqBHkd+HB7D5n5ih+YbTzcQfXCpTjd2wefxAVR/zjtITLz1XGSRAd/OAvb82ZQnrChg0RMGQf9GItNotbRfRH02dPkCVhWc4JMHOdHp9tlJ87/DaXJwdQ/as0+8vbUFyWJdnWehtaCcAdfizxsAD+KfG24PAFpW7pISNCTEseunj+g8v0Q6j9b08YrZwQz3l6O5w5nt4Pp0AmyXzePTvns3BY2amqgt7eXwsl5aO08w+0vnu8jS0D8hiNk+vixEscj3RegPnu6Y8ormy/5jwRxpIUxuHITenPTFo4RflfqDb3+j4942ksQiNCOAn+/dvtyakJMgKwhXFB4gH8r5HnGfQffdP1CdqyeRU9U19XzyrkRjFBAuNc5joO2XXtJSmK8i5OoyAgqTeDC2rl7HyCXdwm05U2XnnjIHsA4KcbD1TtevXnparrDTVuryOLYaDG5YA0GI2RlpDIuHqOaJzLh+JWpXeQeBWACPloZKe6QxR22tO0mmIDucP2GTSQlIU4ioHZbE6zMzmJcfLFaJRYXVkOzSeQeBRQVl5Kkd2LEYGHpG3dAfu4y6r+6UEcyUuLFAlarFWq/bIbC1RqRJy/+N95isUCjsV3kHgXkfVREC7gSsCwLNdsMoP04n/qvWFVAlmck0+Eym81gs9lA32SCjevWiHxJYhydDSFWyFFvaBW5xyHMWL6KZC9NAR6fA0JyoVBFXSNs/XQd9U9ftpJkJC+iBVxWpTdAeel6kb8Xv1BS6PP6ZpF77EDK0hySlRpPC7tsS00DVG8uYVw8PTFWkqgcBbrzJe+qJbziiyaRyxLgqUBagvTtC+99CU8d0IEq7MDdCOCT4lSMj483ZSzLQe12I8EEChdPjFUi93FyFuoaTe7crlbOUfh4O+PxUjWZ9vDIvWQJSM3MMeK/nOSNRsGAqaqsRCWHp2XmVOD/V5Q7x2da68gHFedx1trdP34kAmAQwwkOw6Cj9+qc03a6PgM9vkQKd4hOp0u6F+ecX2CDd2C47B8J82xO/BKtugAAAABJRU5ErkJggg=="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADFklEQVR42u2Xf0gTURzAv2/Of+rfoP4QQhC1hESTQLBJIPk76TQdEhqZlRUOQt3QEAmMmRaOKC2dpEQa6OlcmE7BFEUKKZSWpdAII6J/K1F3d693r93YK/FUhjPqsduD+9z3+/3c995xPAQBHmjHCJhMphNms7k/IAKkeASZKshxk0i8D4RAOZkiyfGOCNRvu4BHwkqKF21n8f8CO0fAaDRaEUIJRCDi3+zAXydgGfzSDQhxPvGY/HhD8r6cbRGot3+SLibtRUEIgYQxrIoYrKNfcXlmiGZLAptdhLW8C5emhNDiErl3ifw1j3yGKi500x+3LXWgumseG9L2gygLSEBFmh2LcF0fTvNVd86TRwS/PSLgCc/ZkICxw9mN4M9nbC6IoglMHW9xaUYoiBKmdy8SiQeOj2AuOIg8XKo4GYaCNEA7tOKWoNH+AROu2ZDAVeuMVMFF0ARycjmBxb6AbxdFazwcX0kPowLKYR12AeFI4VW5kV45eW7om/dyVYHLTdP4Wl6UJznQ+VbvHNwtiUMKv5QeTs8LZAEurYrQ+dzF8PXiVRdhsWUKV+oP/UpACghkbux1QoshHin8fFokrAgS/FgWwU2q2CZdDF8vXrUDhQ1j2JgX4w2WE93pm4X2skSkcE4XTrkybJMLDPeN/04kWwfeeLmqgP7GCC7LPUwLu+UWr4jQNjALXZVJSOFZCQeYRLaJOYbL8fLa+bYs0LlzxOnlqgJczSA2nIqDVRIoF5clHjtmga9JQQrP0kWxAuNOhhemRtM4ZfjGqwpkVNlxQWosbZ83wdBreFqbiRTOHYtmEvGjMwzPT45huG+86iI8Xs7j/NQ4NsGzaXDUc0jh+mSWdw2xfL141Q4kGp7gwsx45sJ2+xSMWfKQP7iqQHzJI1ycrWMubOkZh6mm08gfXFUg9txD6UK2DgUHaylzuwW43zOOX7We0fiDqwocOXuve0kIZr4Fu7QC/7KtJGerfLfWzR/ds/hCq8H9vpsfRgDWGBjjBLJAJ/x1zjNsyjZQ9fstvyF1dXVF/jjn2YGt3YFAjZ+464c/Sl6qmgAAAABJRU5ErkJggg=="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wGAwoFAEQ9XSkAAAF3SURBVCjPfZI/bvJAFMR/b73G0ACNhZApEQ0lBSeAu0RKlO8oFJGoaDgIEhVwAIRER0FBY4EowH92N5X5QrAy5WpmZ+a9J/P5vJLn+VuSJO+ABizlUEAeBMGX7/tTnWXZW5qmExHBGIO1FhF5UjjnUErheR5JkkwAdJqmHwB5ntNsNmm1WqV2p9OJ8/lciD+0iHjOOfI8p9/v0+v1OB6PD1fnHFEUsd/vWS6XeJ6HiHiPTiKCiLDdbtlsNiilALDWMhwOqVQqPytY/buLc47io7L3Ak/CYkDGmAfRWosx5mVgT0JrLWEYEkXRU8cwDLler+VCay1xHNPtdhmPx/xOcjgcsPb/inWRv9FocLvdWCwWr7G0fnDu9/vDURlj6HQ6jEajl/1lWcZqtWIwGLBer9ntdmitlQJM0aUMvu/Tbrep1Wo/OUZms9lnmqYTpRT1er38SJXCOcflcsEYQ7Va/ae11lOAJEne4zj+88hFJA+C4EtrPf0G1Yq+tSV2WzIAAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QMHCxAqJS/TXgAAAdBJREFUKM+FkrFKM1EQhb9Z597NrlhJUkSwsLTWLi9gZbFPIegz5BVCFEydIlVEUvkIaazstVARRLSRFffea8bmT1AQ/lMdBs5wzsyR8XjsY4xHIYRjEVFgwd/IzCx5789U9VxTSkchhIGZEWNERDAzRARgxc0MVSXGOADQpmlOlsOtrS1EhBACzjkAYox47zEznp+fSSkRQjjJRGQtpUSn06HX61EUBVVV0W63abfbVFVFURT0ej06nQ4pJURkbZVJRLi5uWEymbC/v89sNgNgd3eXyWSCqq7sAwsZjUa3IYSdbrdLVVW8v7+zvr7Ox8cHAGVZUtc1GxsbXFxc8PT0hPf+LluucM4xn8/p9/vUdc1wOGQ4HFLXNf1+n/l8vsoNoEtiZjjnKMsSEaEoCpYRyrLEOYeZrYQyGo1uU0o7m5ubHBwcYGZ8fn6S5zkATdPQarUQEa6urnh9fUVV7xQgyzLe3t6YTqe/tv6EiNA0DVmWraxmKSW2t7c5PDz8U3R9fc3e3h6z2Yz7+3u895ma2Zeq8vLywuXlJYvF3417eHhY2sTMvjTP89OmaQYxRh4fH3/+6heW7RIRvPen6pw7/3eEY+/9f0ue5/mZqp5/A8xa3c+cLpFDAAAAAElFTkSuQmCC"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA/UlEQVQ4jZ2TPY6DMBCFPyMay42dbdPsibIXQByDhlQxEhwDcYHkYBtBgUyFt0iMvH/A7quex29+nkYjALquO43jWAIvwMw6EuBdKWWzLLuJtm1PzrnrRtKPUEq9pc65cwj0fY/3fjVJCIHWGoBxHM8pcAjJRVHs6tw0TShySHh63uocI9LOaWBaa8qy3GXheDwu76XAMAxYa3dNEFkgWWaZH9uz1i6FfuNB+2mCAOfcJo/xrUBVVZs8RvI1sMfC6gT/sZDAYz17LQQtkKTAHXg1xlDX9SLy3i/CmAMYYwK9p1LKyzRNV+99/LELSqmLAHhe5J/OWUpp8zy/fQAz3IWvDg2CYgAAAABJRU5ErkJggg=="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABI0lEQVQ4jaWTQW7CMBBFX4wtxTJhkZ6gJ6IXQFlyCIoCAi7BDqHsy63YNItYkS0iQTeENoTQUv7K/uP/PWPPBADb7XZYluU78AIcuQ8BfBpjlqPRaBdsNpuhc+7jF9FNGGPehHNu+h8xQFmWUwnENWGtpaqq71yFYDAYIITo8ogl55qttYzHY6IoapxYrVb0ej2CIABASkm/36/DR1mvqqpqiQEmk0ljv9/vybLsYiKvBWmaEoZhowyA0+mE957ZbMbhcLjEWwZhGBLH8TUNQJ7nLa7zdf6Kpw1aJXjvb6ZaxzoNlFIURcF8Pr97o7UWpVTDQABEUcR6vW400i0opX5+t5BADrzWJg8iF1rrRd1lj8IYswgAzhP50DhrrZdJkuy+AGbsYBP6fSg2AAAAAElFTkSuQmCC"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABQUlEQVQ4jZWTW2rCQBSGvxMHyTAYTbuCLsNV2A2I21CsCioYdBXiBnQLvgjupYpCGB8k6UM1TDRae97m57+cCyMAi8WiEcfxF/AOJDwvD/g2xoybzeZK5vN5w1q7/ENUWMaYT2Wt7bngfr8nTdMcUUTQWuP7fg6P47ingDdX3G63C9M2mw3r9ZparebCbwpn5mvyYDDI0tI0RUTodDoAbLdbt5PEK0rzfZ9SqYSIoJSiWq0ym82o1+tYa3NcVWRwPB6ZTCbZezqdcj6fc10+NQiCgH6/T5L8TlepVBCRIuprHQDZDl4yuO3A8zyCIHjd4HA4EEVRDnt03kKDcrlMt9u9wx4ZZKe8Lmo4HBaSXc6lPAXsgA+AMAyJoujuVK44DEMX2imt9eh0Oi2vohvC0zLGjATg8iP/9Z211uNWq7X6AfmVdrC4JzooAAAAAElFTkSuQmCC"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABNElEQVQ4jZWTsW7CMBCGvziJiLFYrk/Qx8lEVwbEW4AilQmkIMQbMCFWFMHG4yAx15lMwgDqQlEpAZp/ujv7/2yfdR7AcrlsO+c+gTfgzHMp4MsYM+52uxtvsVi0i6JYvzBVyhjzERRFMQSw1tYyiwjOuWEAiLWWJElqAdI0RUQk4Neb+/3+v8zT6fQnPAdPFis1GAxuclW1aT6fM5vNKgFhGN7kdzcAyPOcw+FQCVDq9sxKwN9eTCYTlFJ0Oh08z3sN2O12bLdb4jhmv98TRRGNRoPVakUURY8Bvu8DkGUZYRiSZRm+76O1BqDZbFKW5WPA6XQiSRJarRbH4/Fad85d4zzP7wDXrrz6wgqpALAi8p6maS2niADYQGs9KstyfSnUkjFm5AFcJrLWOGutx71eb/MN+BNpUa4itgUAAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wMJDBcsK1UgEQAAAihJREFUOMuVk7FKI1EUhr+5907MzAhChjxFICDbW1nYaCKOpViYF7BfK30IxUosTCFkDMFHUJFd0EZsooXaZUGEzB0zN3O3Ma5Z48Ke7sLPd89/zvkdgMPDw1q/3/8OhEDOv0sAv4Ig2FlbWztxDg4Oalrr2BjzSem6LtbaL0lBENSV1nrLGIMQAtd1cRznXWCMwRjzJajf728poDT6rdFo0O12Mcbg+z4AnU6HNE0pFouTICUx8uw4Dt1ul2azyd3dHWdnZ/R6PaIoolgskiTJWHdvlYuPryzLmJ2dpVAoMD8/z+npKbe3t6yurjI9PT0RMgaYmZlBa021WmUwGADw8PDA5eUlURTh+z5pmo5B1Mh/lmVYa6lUKuzv72OtZXNzEyklzWaTq6srlpeXOT4+JssylFJ/OrDWMhwOieOYUqlEvV4nDEMcx2Fqaoooiri/v+fp6YnFxUWklKRpOm7BdV2MMcRxTLlcZm5ujr29PZ6fnwmCgGq1ysXFBeVyGaUUWutxgLX2fdqtVoswDKnVahwdHXF+fs719TVLS0s8Pj5ijKFQKHweorUW3/fRWtNqtVBKsbKyws3NDQsLC7y+vtLpdMjz/P1OxCSI53lkWUa73ebl5YWNjQ2SJKHdbqOUQko52oRwdnd3fwDfJt36cDhECIFSCmMMeZ4jpfwo+Sk8z9uecGEASCkZDAb0ej2SJEEI8XeYth2At0T+V5w9z9tZX18/+Q1Ru/9QUjFkiwAAAABJRU5ErkJggg=="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABBklEQVQ4jdWTPW7CQBSEv7W28LKNTU6QK1jb+gzkApYlTkERKih8DFu+AJwBiQpxk+Bqva5wihBpITY/ZUbaZjQzb1Z6TwDUdT2z1n4Cb8CZ+wiAL631Osuyraiqauac2zwwDUJr/SGdc0ufbJqGvu+vhEIIlFKEYXjFW2uXEpj65sViMThtt9ux3++JosinpxLvz7eTfaRpCsDxePSbnINRx0iIc+6Kk0PCw+FAWZZMJhMA2rZlPp+TJMmfloMBxhiMMU+1ernBUwH/q0FwecDPxj3CjSaQwAl4B4jjmKIoRhdKCEEcxz51kkqpVdd1m1/TjeAutNYrAXC5yJfOWSm1zvN8+w1TaWzQr76JZwAAAABJRU5ErkJggg=="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wCFg0POu/We/kAAAJiSURBVCjPRdIxb1NXGIDh97vn3Gvn2jgEkqhY0CghoQNCRUJIFQOkI0FK11ZVh0gV6tR/wMTUCTF0aocOIDqjlgkpFWJgIBJSJ5TIEQSs2A6248S+9r3nnK8DSH3/wLs8AvAn8C3wABAwCgaI+FgQ8AH8D8Aj4DtAHgLfA78BJThbS9P1Urm8JsasoIqGsD0Zj58cjUaPJ/Dux/8H8CtwAq7Mzc/fqa+srH62tFQVEaOqqKrfbzSOm9vb/xx0OndHsPUTYP4ADJydnZv7Zfnq1Zu1er3S73ajeG2NsLhIf2srOnnmTDmt1ZaG/X49z7Ln38AgysGkabo+u7Cw6qxNDjod9vf2tL6xQX1jg/b799rt9WBqKjl17txqqVxed2CsA0Mc3ypNT1c77TZRFOlwOJSDZpPBYECj0RDbbmsURVKrVqtO5FaA320BUaG6rMaYyWRCdnQk/WaT3d1drLWELCMYIx7IwEycW3YQWQcUqhRZxrDVwo1GWOcwzpGWSpSBRARUiYsCr0oB2BzCxLmd42bzfGk4NGUR1UpF9m7fBhFmKhVEVRGRoii8U93JIVgPPiuKv3q93rV6HJ/0zsng8FCvt1pireWZtXpiZkYE2BuPj8ch/O3Amy9BQwj7zvuL09YunY4ik4jIMM/pbm5SevlSUmvpOpe/GY+f9kO414NDAVDgZ7g8a+2dC0ny9fk4rtk8NwAuSfxOng+283zzg/d378MrAcQAHmJgfhG+uCRyY0Hkq7LI5wBj1bdvVF/8q/psF14DLQOFfIJsPqpjKgGbQmQ/IXcQRhBy8MAIOAL8f7xJIc30s21fAAAAAElFTkSuQmCC"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABMklEQVQ4jZWTMW/CMBCFvwsICXnBdGHvD4KFEbGxMYehbAzmH6BsUfYI/k87MhazWEFIhA6taRIZSt/0zr73zne2BSDLsqFz7g14AUoeIwI+lVKryWSykzRNh0VRbKsZ5/MZ5xzX6xUAEUEpRafTqTkppUbtoiiWTfFgMGA8HteS8zxnv9/XTJxzyzbQ9wvWWqy1zOdzZrMZvV4PgOPxSJIkxHGM1hqttZf0ZbPZvAOv1loWi8Uf7X/DGONNPqKnFA/Q9kRrjTEGa+1teE2ISLOFXwOP9Xr9sKIxphbXWqhWjuM4yJunuzuDy+US5E3cNYiiKMifNijLMshDBkGTVqsV5E19BBx8JCK3neptVHk1BzhImqbD0+m09dN95h14KKVGAvDzI//1nbvd7mo6ne6+AB+zf9f/5Fb9AAAAAElFTkSuQmCC"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABwUlEQVQ4jZWTv2oiURSHv6uXGeU26mqrrA/gO/gEBuyEIGhjayMWCTapfArFys60Ymkh2grBgKBOKcYRHEbHOLPFrhITFfYHl8s58H33DxwB0Gq1MpZlPQG/AJf78QErpdTL4+Pjq2g2mxnbtjuWZbHf729SSik0TcO2baSUaJqGUupB2rb9bFkW2WyWRCJxUzAYDOj1euRyOd7e3phMJgDPEog4jkMikaBSqRAOh3/AnufhOA7VapVAIEAymcR1XWazWcQHuJ7nARAOh4lEIhcrFAohhDjDp6TTaRzHcX33fst1XUzTpFwuX8AAnU6HQCDATYHnedi2fRVuNBqsViuklLcFpmmSSqWuwpvN5ty/KrAsi2KxyGKxoN/vX8Dz+fxC+kPgeR6fn5/EYjEKhQLj8ZjhcEi73WY+n1Or1TBN87bgeDwSj8fPdalUotvtslwu0TQN+Pu5p8jvAiEEh8OB0WjE+/s7hmEQjUYRQlx7LfLrLdbr9XmfTqdIKfH7/Rf9b/FJ4EPX9d+GYVCv16+e8jWGYaDr+qn8EM1mM7Pb7Trb7fbuMJ2i6zpKKQCUUg8C4N9E/tc4B4PBl3w+//oHxnLOwBxtz8kAAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACFklEQVQ4jZWTMUgjQRSGv53doLsxQZNeuWxjG6uksdVC0EKwEgWFQELAwvLExjKQIiGkDbETRBtrC9tACIjdXiUomJAiyWx0d+eKuyynEuX+cobv/9+8eU8DaDabm8Ph8CeQBAK+lgC60Wj0bHd391prNBqbUsqrrwjf95FSous6pmmG59FodEtIKU++gt/e3lBKcXh4yOrqKt1uN7wbDocnAkh8BxcKBeLxOCsrK+zs7PxrkhDT3uz7PgDFYpHBYMDp6SkXFxfYts36+jpSSoBATEsfjUbkcjn6/T63t7fE43E6nQ6e52HbdhhgfASDIEBKiVKKu7s7bNtmY2MDIQTZbBbDMDg/Pw+b+a4Cz/MYj8fs7++zvLxMKpVicXGRp6cnstksCwsLVCoVlFLouv7ewPM8pJQcHR0xOztLOp1maWmJx8dHHh4emJubo1qtomkakUgkDDUmZb++vnJ8fIzrutzc3LC9vc3z8zPtdpv7+3tarRaWZYXJE4lJww4ODvB9n1KphOM4XF5eEovFyGQyGIZBLBb7BIcGQgheXl7QdZ1kMomUkrW1NSzLotlsvpu+j9Lq9bqjlPrR6/XI5/PMz88zHo+ZmZmhVCphmiaG8emzJvolgJ6maSQSCWq1Go7j4Lou5XL5OxigpzUajU3Xda+UUiilkFISBAGWZSHE1DkD/iyTBvB3I/9rnU3TPNvb27v+DRPm60vlFQz6AAAAAElFTkSuQmCC"},274,function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABDUlEQVQ4jd2TMW6DQBBFH+vdAg1QOA1tTuRcwKJGHIG4st3T0LizEH18Kzdx4RVCwgKliMFCcnCcMr/anZ15mr+acQCKolhUVfUOvAAd01LAp4hslsvlwdnv94u6rj8eFN2ViLypuq5XfykGqKpqpYF5H7DWcrlcbr0qRRAEKKV+Ysw1V8/WWuI4RkRGGdvtltlshuM4AGit8Tyvf+50f2rbFhEhSRJEBGstWZaRpukIeDweKctygAyArvv+/DzPJ32HYUjTNDebk9m/0H8CGGM4n88PC6y1GGOGu+4hvu+z2+1Gg3RPxhh83x8a0MAJeO0hT+qkXNdd91P2rERk7QBcN/KpdXZddxNF0eELyfhUxDkoad4AAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABYUlEQVQ4jZXTTWrCQBjG8f+MJjiOEa1LF1IQV64E76ALScG1eJF24cfaO4gXaDeSkwjiygM0IBgGEky6aE1rS7S+ywd+DzMvvAJgtVq5QRA8AzUg5vpI4F1rPR+NRm9iuVy6xpjXG4jT6QRALpdLM631kzTGvNzCxhhKpRK2bWOMSfMgCF7ywMM1fDweaTabuK4LgOd5bLdbCoUCwIPkyp9/Y4BerwdAHMcAsbwHn6dcLpMkCfC50bvwer3mcDiky/xTEIYhrVYrE282G5RSaXZREEURvu8zGAwyseM4F7n8iev1OsPhkOl0+i98URCGIZ1Oh3a7Tb/fT0s8z8vEAPmfL2g0GgB0u12UUkwmE6rVaiY+F8gkSZDyex37/Z7dbketVsOyrEwMyDzgCyEeHcdhsVgQRRGWZWHb9i0M4Eul1EwIgRCCYrFIpVJBa/0fjNZ6JgC+LvKuc1ZKzcfj8dsHkpSPMXFgHGwAAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAB4ElEQVQ4jZWTv04iURSHv7lzh3Fy1ZDZisawPQmxIoSExsLSbSwJLQ+A3VppQngBWgK8gBY+AfAIRowmhM5GIUxGJpK5dxsHkN1g9leec37fPX9yLYBer3cWhuFv4Aeg2S0BvCqlriuVyq3V6XTOFovFzTemf0op9UssFovL7UQcx8zncz4+PnYCwjC8FIC/GXx/f8cYw8XFBblc7juIL/mcWWvNdDqlUChwcnICQBAEzOdzUqkUQghc18VxnE2AlolZa02tVsP31w2dnp5SLpeRUhIEAYPBgMlkwsHBwapGJDNns9kvZgDXdUmn0+zv75PJZDg/P6dYLBKG4VeA4zg8Pz/TarUwxqySw+GQdrtNt9ul3+8DUCqVUEoRx/EaALC3t4cxhkajwf39fbJlZrMZQRDQ7/d5eHgAIJ/Ps1wuAZCbLUsp8X2fu7s7np6eCMMQ13URQiClJIoiAGzbXnu276K1RgjB4+MjlmVh2zZxHHN0dMTx8TEAo9EIKeXfAK01Ukrq9fo2d6XxeMzLywuHh4crgNgsSJazLWMMw+GQwWBAOp1OwkICb8BPACEEWmuazeaXayS55KyWZSXhN+l53lUURTeJQQix+cJOKaWuLIDPH/lf39nzvOtqtXr7B1AExpQj6LP+AAAAAElFTkSuQmCC"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABKklEQVQ4ja2TTY6CQBSEv9dxo20iMjdhDqIHkHgK4gYTFm6MF3DbgQPoPRxvMsSFLSwMzAbiIPgzyVTSSae6XnW9RQlAHMcTa20IfAAFz6GAb631yvf9vRhjJlmW7V4MdUJrPe1lWbasidPpRFmWT4dEBMdxALDWLnuAWw8vFou3fl6v17WJq6h2LopXq9/wS1v07h+PxyNxHDMYDBr85XLB9308z2vwLQPP81qiZ+hMkCRJZ4LZbPb/CdTbygdoJQCIoghrLSICQFmWjEYjwjB8bKDULYy1ls1m0xAGQdCZQFWH4XCIMaZlVqNOc3dXst1uD8AnwPV65Xw+4zgOaZo2DFzXJU1TRITxeFzTX2KMmeR5vnvVgS5oracCUDXyT3Xu9/ur+Xy+/wGfSHNWSZ5srQAAAABJRU5ErkJggg=="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AMRDxo071CyWwAAAeBJREFUOMuVk72K4mAYhZ/8GL6gEZytrOIW/hUqqbUVQQT3BsQ72CvY6eZGxBuYKe0jWKugjRArtdhZI4QEg8k2q6vrrsN+5ct3Duc9D68EMBwOu57nfQM+ARGPnwx8TyaTL71e700aDAZd3/dfPxBxPB45nU6oqkoikQAgmUx+kX3ff/5I7LoupVKJdrtNNpvF8zxOpxOe5z2rwNMjse/7NJtNLMvC8zwKhQKj0YjFYoGu60/y9c7H4xHf9wnD8GJQLpexLOscGYBisXj+E6nXMS3LwjRN1us1URRRq9UwDIPxeEy9Xr+Y2raNpmkAqP+Kud1uMQwD27aZz+dsNpuL+W63I5VK/TYIw/Au5lnsOA6pVIrtdovjOAghLuIzUzRNYzwePyQRxzGqqt7NVQAhBJPJ5BJzv99TqVRoNBoAzOdzqtUqpmkym81Yr9cIIVAUBaXT6XwFnjRN43A4sFqtcF2XMAzJZDLk83nS6TT1eh0hBLVajcPhwG63I5FI/LjJpCgKhmEA4DgOjuOQy+VotVp3GKfTKbquI597AJAk6Wa/KIpYLpd3/VxhlFXgHfj8NwNZlu/6+QPjuzQYDLpBELzGcfyQQhiGBEGAEOLmmCSAXxf5X+es6/pLv99/+wnRjuAwDaBEiAAAAABJRU5ErkJggg=="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AoLCyULNFXIDAAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAAJASURBVDjLlZPNSiNBFIW/bgu6O21sMJpIQMKo4CIkWYqCGBAE3ZgXEF9kXOmLiC8wgquA6MKNbpSOxIWRQHARCB0SkzbSla7MwpnGHyYwd3epuqfuOXWOBnBycrLr+/5PIAEoxpcOeLZtH+3t7Z1qx8fHu4PB4NfHG4VCgdfXVx4fH8ci2bZdEoPB4CCTyaDU+8NSSrLZLP1+nyAICMMQTdMYjUZ0Oh36/X4E4Pv+gQCmNzY2GA6H0YGUEtM0WV1dxXEcwjDk5eWF29vbr1tNC0CdnZ1FgwBCCAAmJyfZ2dnh4uICz/N4e3v7ykIJgHa7ja7r5HI5lFJUKhUA8vk8nufx9PQ0VtF3KKXwfZ98Ps/MzAzpdJrl5WWurq4AMAyDpaUlHMf5BCA+NrVajbm5OYrFIo7j4LouzWYTgGQyyebmJq7rcnNzQxiGnzf4W/V6HcMwEELgum6kSSaTASCVShGPx79TAJidnWVtbY1er0en06FUKhGLxTBNk3Q6zd3dHZqmkUgkvlNIpVKsr68TBAHlchmA7e1tFhcX8X0fIQTVahXLslhYWKDRaCClfAcwTZOVlRWklJyfn0ffVS6XUUqxtbWFYRiRwI7jEIvF6Ha7CEAPw5CHhwdardZXpzE1NUUymaRWqyGEoNlsEo/HmZ+fp9vt6gJoSyl//Mv3uVyOXq/H5eUlExMTDIdDlFJks1nu7+/bumVZh+MCEwQB19fXjEajyO7VapXn52ds2z7UAP4k8r/ibFnW0f7+/ulvOQ4B+OkIi0EAAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gYLDCkclkRYSAAAAopJREFUSMftVT1ok1EUPeclzUeh2KFtllJBsBSchIYu6eJmvnyxBgwORbCCUlFrx4I/ZFBoJ1taEQrWsWDBhpD3MrjooKAtWBA7VRGhHWIW6dLvmXzXJULU/iW46YUHj3fPu4d77r3vAYcwz/MGPM8bQBMWPgwoCILrAAjgQqMEPAiQTqejOzs7X0jScZye5eXlUiME6iCAtfYyAEdEIr7vX2k0g30JstlsWESuAvhQW6PZbDb81whWV1fPikg3yTmScyLSvbKykm66BsPDw0e2t7ejQRB0BUEQBXBbRHo7Ozu7AaBcLm+S3FBK3a9Wq6VQKFRqbW0tLS0tfduTwHXdCRG5BqALgPMHgJwxxowDQCKReABgfBeMFZESyYfGmMlfJNJaT5FcrAs+rZS6CMBVSsU6Ojpu/QS3tbXdCYfDA0opj+QlANMAICIRkota66k9JXJddxTAnIhskUwaY97vp+3Q0NAJa60m2UPyhtb60YE1SCQSCQBPAQQkzxljnu92KZlMnhKRZyISDoVC5wuFgjn0oLmue1JENICo4zi9uVzuc70/lUodrVQqGwDKLS0tyXw+/66hNjXGrJF8RdJGo9HN3/39/f1bACzJ1wcF33MORCQuIm/n5+e/17LyXNf1asNXIfkGQLyptyiVSh2rVCqfSN6LRCKPfd+fAXCm5s47jnPT9/0RAHcdxzmey+U+NpRBtVodrG1j1tp1kkkAswBmSSattesAYgDg+368GYniNZlOi8gagFixWBwrFotjAGK1M7ce29B/ICKDAL4qpSYKhcITklLfACIS9zxvJAiCSQCDDWWQyWTaSb5USvVprRfqg9c9C6K1XlBK9ZF8kclk2vHf/m37AYUACgTdV1UjAAAAAElFTkSuQmCC"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gYLDCoAqWhXxAAAAb1JREFUSMftVTFLM0EUnLcGkiLRyhQWgpWtRbDRP5B1U0Q4m4DwgUJAsbawuMJCaxWstAqCTZrsbm0hNhaCYJHyKyQknbGIgeyzueKExNvL93U61WNvdoad9x4HeEAptaqUWsUUyPiQnHP7Ubmd1oCSCNVqtTgYDP4CQC6XW2w2m900BiKJMBwOdwFkAWSjGv/NIAzDjHOuHouqHoZhJo3BzHcf8/n8JjPvxI5mO53Oc7vdfpmqB7Vabbbf7xedc/POuSKAI2YufblA9AjgWAjRFUL0CoVCt9FovE00kFIeMvMegPko62nwAaBHRBfGmJMvPdBanxLRzT+IA0CWiG601qcTI5JS1gGcM/NMqjknGgHYN8ZcJvagXC6XAdwCyHvqvwPYstZa70WTUq4wswawkCD+SkQbxpinVHtgjHkionuPaO6TxCcuGjOvJV304Yw1qFQqSx7xAMBCxE1nMBqN1sdMyRmAs6ieyPWNKP70BwAla+2BtfYAQCk6G8f1+x8w8zqAnhDisNVqXRMRxweAmdeUUn+ccycR1/8FQRDMEdGdEGJZa30VF49FxlrrKyHEMhHdBUEwh1/8bHwCdKeqbbNIbtwAAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wLDwoAFwjfV6IAAAG6SURBVCjPdZK/iiJBGMR/3dP2jCBqoE5qqNmAiaEP4Iss7HL3KAYLRiY+iiL4J/EBFCYwMVEQFJ2x57vgHNFbrpJuurq6+itKjcdje7/fP26326dSyohIppRCRADI90opLSJ33/e/C4XC0KRp+pEkyUAp9XYxyzJez/L1drsNAHSSJF85kbtcLhdarRbtdpvL5fLGPcRfGvB4QCmVE3S7XbrdLtfr9c31AU8rpbIsyzidThwOB+I4JooigiDAWkun0yGOY47HI6fTKR8hMyKCMYZ+v0+pVMJaS6VSeTr0ej2iKCJJEs7nM9PpFOccBiBNU47HI+12m3/h+z5hGAKwWCxI0xStNTqfaz6fM5/P+R+WyyWz2eyZgxYRtNYUi0UmkwmbzeaHaLvdMplMCIIArTUi8tcxj7tarVIsFn8IgyCgXC7zmr4BNIBzjjAMqdfrnM9n1us1AFEU0Wg0qNVq7HY7PM8D0EZEXO5qrWW1WhHHMfv9HoA4jmk2m1hrefmdU6PR6FeapoNHH3HOISL5yzjnUErhed6zPb7v/zbGmCFAkiSfImK01tlrS4wxiAgiooG7tfbbGDP8A+jp21tjVFaRAAAAAElFTkSuQmCC"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA8gDyAPIuRIzMAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3gkKCzcG83y/CgAACphJREFUWMOVl2tsXPWZxn/nMnPmbo/tsT123NhjJ45JbMc2cQw47JB6Y6o0BFEWRdovlEqs0KofKlpR8WGFFrRdwW7S1S60W9QoWxrEpWShkDYhqAk0V+zEifAljuPE1xkzHntmbM/tXPeDsYMToN1X+n855+j/PO/lvO/7CPw/7PHHHwfA7XZTWFiIKIoAqKpKIpEgl8uh6zqvv/76X32n/HUvurrCAFgWVFVVEwqFaGhooLGxkfLycmw2G5ZlYVkWmqaRTqeZmppkaOgq69atIxaLcejQoTvu+7J99NEphG8CLyurpK2tlV27unn22Wel5uZmKZlMbjAMo9vj8XS63e71giAIhmEYCwsLA9ls9mObzXZCFMWZwcFBo7Oz07p+/TrR6ORXggN3EujqCuN2e6ipqeW7393D00//yNnR0VFUWOjfV14e/PGmTZvKGxsbKQ2UIooipmli6AaZbIZoNMLg0BAjIyNXstnsP6VSqZOdnZ2Lx48fY2LipvgFhAiYH310yryDQFdXGJ+vkJaWVvbu3cvTT/8o2Nzcuru+vv6fd+zYEdxYV48gQEJNkNSTqKZKXs1j5A2cspNyTzk+mw9VV+m70sfFixfPRaPRZ99//93eggKv6nA4jS/ArRVM4U7wNh6+fwfP/+KVhqbGpuc6Ojoeu6f9XlxOJ0PZAQZz/fSme+lbvEIqs0A2l0OUJCo9lWzz3k2zs5lGVyPVSjWqqfL+0d9rPT09P/n00/O/+fjj00nA+rLT0gq4JMk0N2/lkUce4YX9B7Zsb219Zee3d+7u2NZJUozzu8Rv+I+Zf+Hfogf4OHmW0fkbLCTnWcgvMqaNcW3pGqdip3gj+gZjmTEM06SSCpq3NEuSLHUXFPhd6XTm5KOPPqqfP39+1WkJIBSqpq5uI9/73qO88MLzldvvuffn99SGdjWcvcg1ZYQD4ssc/PwAo/lxCjU7O/MPsM+7j78r38feyod5sOQ7bBA3oKcNIrlphpPDnJw8xdzSHBXO9Wyu3iK4nI52l8uZefXVVz/dt2+fUVTkuxWBlpYWwuGd7N//knvbtu3/8EA4/NTWu+8l2XsS6beH+aDgDFNBlZ363/JM6c/Ypezhb4p3Eq7dSWNRE23uVprkJrorutleuJ3PxvuJLkUYTY3QnSimqXgzjsqgoKvqfRUVFWf2798/FgpVC6sEursf5LHHHmN6erqqqan5jR333W9bcqX4r2/9D4n+yzxxPMDGdQ/z93f/KyG5jshYhJyaY923qgCYmJ5gYGCAtrvaqKKKcFGY2Ow0e88v8oMXPgRNxwyHKfD75cnJyeayssBbyWRCFwTBlJ588km2bt3K4cOHpdLSsuceeuih+7xeLx8u/pr3F35JX3uelv4qtp1cRPNX4NqymbpQNRUVlQiCgGmauN1uampqAHA4HJS4i2l3NNPxzmUKB4Yxhgahrg6rpQUtky6fnJx6Ox6fjYJliaqqsnHjRiorK721tbU/LCkKMKF9xvnFN5HR6bR2U/Xvb5Isr8Tzq19ivvMOdocTSZKwrOWCFoRbf7OqqgwPD3Pt5jSBA//JbDCInkrBkSNkBgep2bABv7/wH+vqNgjr19cier1eQqEQc3Nze+rr69EMlQn9EmP5SxSZBewufAKfUUDhKy8j+grwv/kmcy+9hCWKWIBhGKtEVFVFFEU2b95Md3c3WjCI+Mwz5IHEsT+S7/+M5aKv/b7D4So1DAOxsrISSZLw+Xx7aqprWNBijKlncQmwWQvjzVWCACVeL5633iIly/iOHyf13HMYudwaz1eisdwddQSbDau9nXh9PYvZHNL1URTLoqGhgWw2+6AkSYg+nw/LsggGg9sRBDJGkpncZew5kWqpiYWZHHbFhiAI2GQZ+6FDpJ1OlNOnmfz5AUbGx1bBl4fX8oAyTZPk/DxDySRLTY2YgHNgADG1QKC0FLvd3l5cXIyoKAqWZeHxeEot00I3cmQycXxaEX5bOZYJsixjmiamYaD4fFgvvkikvJyJYAWjQ0NcuHCBXC636r1pmhiGwVw8TlxVsa+vRgGsSAQjm0UQRfx+/yaXy4UIYJomsiwrpmmi5nNYWhqPXaEsUEZzayMr31iWhaHr6EVFRJ/4PhN2O4riYHR0lFQqtcZ7EFi/vpq27e24vd7lNKVSmJoGloXD4XDbbDZETdPQdR3DMHRN1zA0A6/NgdObBTGPoQqroV3JsdfrxV3oJxaJcPbsWURRxG63r4JbX+r2lqYhGQYqoDmdWKKIaVkYhmFkMhnkpaUlTNMkk8nMmYZRLos2StxFzIvXmV+cInrlNPc/cN/q9rNCpq62FrfLxcLCAoFAAI/Hg2GYa0b76I1Rpq5do2lmBg2wiooQbTb0fJ5EIjGaTqeRZ2dnMU2TeDw+YEG5215EqbiJJfMqefsIDa270XUDm822mgpd1wEIBoMEg8HbB+uqBSsq8CWTZC9dQgPku+4iJ9tYnJsjlUpezmZziNPT08RiMSKRyB/i8VkUoYgSqw2HBDHzT+CK43Q67gC/vepvN13XkCUJeWyMpd5edCATCqE77NwYHUUQxBMAYj6fZ2hoCOB3g4ODyKKC39pKgLvQGef6wv9ydeQKH3xw9A7wlZoQBHHNs1QqyfkLF7BiMVIHD6IC+fZ21JoaBAvGx8cjgUCg//Dhw4hvv/02w8PDuN3uyI0bNz7MZNN4zAZKzd2Q9XBt8dekpEsEK8q+ALt1lsN+e+gtFEXB53Awf/Ag82fOkHU6Mb7zIPbaEKlEglgs9nJ/f7+5sp8xOTlJa2urnkgkftrb24MkKHgXH8CVbUWRvThLEmxtacSyWHNuN1FcJuZyuWjesoXs0BCazYa1axeucBi3w0FPT89cPp//laIo5uo4HhgYYN26dYyOjiYdDkdhod/XrlCOQ/QTCoSp9zyOqYt/ccdfIWVZICp2lHCYJUnC9dAefHUbGL8+ymf9/T987bXXzl+8eNFaJbC8gpeyZUujfvly37CuGx3BisC6Sv9WCsUmZFleM/H+GtM0lfmlRcSmZrwVQWajM5w+ffoX77333osTExP6HTuhrqtEo9PCzMy0aRjWiKI42gOlJSWyTSSfz+H1ejFN6y8CS5JINpvh889nyGayuBSF2ViMM2fOHD937txTdrs9PTY2RldXmFCo+tZOuJJGl8tt/vnPp8fdbs+5bDa7qbi4eL3H4yGVSuF2e74pAaiqytxcnNnZWXRdw+fzMTExwalTp17v7e19yu12zx09enRF+Nxayb5EAMCsqanT6+vrp/v6+v40MzMTyOVyTVVVVaTTaXK5HNls5itPIpEgm80gy8uK78SJE+qFCxeeP3bs2E/9fn/yyJEja8C/ShtaK5JJkiT8fv/4uXNnfxCNRn8/ODj4TENDQ2tbWxuKoiDL8poGpGk6giAwP5/g5s2bXL169Z1IJPKzTz75pC8ajZr9/f2360NrlUlXV3hVq92ulCzLEi0L2e/3y3a7s0aW5X1VVVW7ysrKahVFKRAEQTIMQ0un04mpqakr8Xj8Q5fL9d/pdDrd09NjjYyMfK04/eoG/jVq1uHw4HA4qKqqIhgM4na718jzxcVFxsfHmZ+fxzAM3n333W+8b0Wg/h/bHhLOgzVndAAAAABJRU5ErkJggg=="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QYZDBMrBGwJUgAAAuJJREFUOMttVL1O81gUnDm+dmykTUiI+BNSoGe1QoKvzQugFDQ8AUhbUi8lW/AINLwGBU2IhBBQhBqBvgJRBEEs/hTHis/ZIjYbvt1pfC2Nzp0zc+5hu93G3d3dSpqmfwH4QdLMDCRhZgAAkgDw7d/MSPLKOff3wsLCTx4fH6+kaXoDoFyQSUJVISL/KfArx/O8dxH5wyVJsk+ybGaak6mqVnxfX18BgJVKBZZXnORkWfabqu47EdkwM0h+vaoaABmNRjoajWRvbw8k9ejoiDIGzMxERFRVRYSquuGKW2wMOOewtrZmcRyz1+sZSYgI5+bmUKvVrF6v4+rqClmWGceGgqS5wtRcJlZXV219fZ1mpkmSSBAEUFVttVoMw5AAMBgMrNvtEkChCA4TIIm3tzeYGcwMURQhTVMAQBiGXyZ/fn5+nQu4IpHcPDw/P2MwGNjU1BQfHh6s0+kAAJvNJpaWlixJEnx8fACAAShagxSF+v2+7ezs2Pb2NsIwtOFwiHa7bXEcWxzHODs7Q5qmFgSBtVot7O7uWhzHX4pEREASJAWA5OYKACPHQeXngi9Fyp7nWeGxt7m5+aeZzUVRhJubGzw9PaHRaLBUKlmlUmGv10MURdZsNlmtVpmmKU5PT3F+fk4RMc/zaGY9p6rFyOtwOEQURSyVSmpmbDQaOj8/D5Is0vN9H9Vqlff39+r7PrMsw0QXY83OOZmdnUXeog0GAymVSuKcsyRJICJCUur1Onzfl3wwYWb/plYM5uXlJUhar9fjy8uLbW1tAQBPTk5QLpdtcXERFxcXUFUTka/U3MR0kiTSNLVOp8PRaKRhGEoeivb7fT4+PvL29hYAzPM8TjwROgDXAH4v5iJPEM45ZFmGw8NDAMD09DR83/+2DSZwLUEQHIjIu5mxeNy5QgGAmZkZ1Go1Kdr4H857EAQH7Ha76Ha7K2ma7gPYsPHG+raPimR/2UdU1eswDA+Wl5d//gM6T8wasEPinAAAAABJRU5ErkJggg==";
},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wLBggYKTUpSbQAAAJVSURBVDjLdZPLalRBEIa/qu6Zc5IJQcQ4QbwgKIqCCCrqRleC6AOIl3kAQV/BpeAu4iULVzFLQdCVGxeCC11IFPGy8IKXBHXEC8nMmZkz3eVizhwNam2a6qq/6u+/qwRgdnaWVqvF/yyEgKoiIuVdrVaj0WggMzMzZFn2T9DQkiSh2WySpilpmpaFarUafsfoXNWS/ul+d+kMIh6ImJXgGHNEHLJGFej7ZOyy+sr0g69beq1WCx/7vdOh155CBMyIMQdAxGEWGJvYRPvbe2LoIeLod5emPGOY2UURQUOvfRYRLOTEmJOOTzKx+SATmw7Q+bnAtiPn2H3yGpPbDmMWMIv0u0tnO50OAB4RZzFgGPWth1i36xjqq7Sab3j7cJaCDuv3nADg0/M7iKjrdDqkaYpiFs0CK9buZMPeBuqrAxHzDF9JBgUKTdbvPo5qBbMY6/U6MUYUQF2VDXtOLUsWVWLolQyG5+iqjWCRLMtwzuHNIs4nJOOrlyVbjCxlfe5fOYqoI+RtRBzJeL1gYYUGUDqYMfyN8TXb2X/sQhlzlRG+f3jE11f3+RPjB03lL6qYsXLjvmXDtfj5BWYBEcV7D4CKKKGX8eXl3WUalMUK30LOz4VnZWzYVBFRw5h/fJPsx/xfwKE//+QW7e/vUa0McIUpZkG1Qt5d5OWd87+ZFMDuYpPX966y8PT2n88rF8W76uilkGdTwyLvHl7n49yN38IWMyHiEHVghk/GLpEVy6S+Og0Qeu0z6qoesxjybgkW0QFtEcWs76qjl8X56ZGRERqNBr8Aj4kVcknv0xUAAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKFgs1LApWJ6IAAAIKSURBVDjLlZM7S1xREMd/c865Dy+GfTSykJBOSCcpbAI2lhb7AQRF2EYxRL+E7a4g2PsdFMEurYTEysLKSgtxd0n27uvcOyn24fogkKkOZ2b+M/ObcwTg1/4+g1aL/7GwWGSpXkd+7u0xbLefOfNej0GzieY5AGIMYamEieNXIg6R0M7Nbfs03RURp6q5hCHRwsJTpAgiYlTVuyQ5snF8PGg2B4NWC5f3+9s+TRsiAoB6j0uSZ5WybhecQ0TwadoYXx8COJ+mX0WE3HvSuzsWVleJl5eJggCAvvf0Ly+5v7ggqVQwzjHOGQmIiM29JywUKK2s8KFa5frsDPP4OOJRLvNpawtbLtO5umLQbmOcs5PuHJDrcEhcqbBYqwHweXPzFfXFWo3rgwP6Dw/gXD4rgIlj/tzc8H19nd/tNox5TE2Vd4UCc2H4ahNOVRERhq0W79fW+LixAarkwyEAJghAhNuTE+5PTwmKRSY5AGZKXxWxFhsEnFeroAqqnFer2CBArEVVx1t96tC99crU2ukYau0/X6SZqD6zWQYveQCzGUZEzMuArNOZjpB1Om+0qGYWYjaZyUYRAF8aDYL5+el51jepMW3wx87Ot6zXa2iWjeBYixiDZqMYsXb0qbJsBFEElyR7Wbd7GBaLOBNFxwA+TXcVHN7nszNOhBAxiHiXJEcmio5NGLJUr/MXfYjXXyC9NRUAAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKEwsVDwprgkAAAAHxSURBVDjLlZO/TipBFMZ/MzvMYvgjGmPCNr4AiQ0Fj0AHiTUPYKLv4o0m1sbKCrOFz0BHRS8dCX+XuMAOMnMLL3sFNTf3lCfz+3K+b84RAI+Pj8RxzP9ULpej1WohHh4eWC6X/wQ2mw0AnuftiCghhNZaXyZJciWEUID9DDrnAJBSSuBda32XyWTuARPHMWq9Xl8aY26EEOyDQgistamI53kkSXLz58kvAGmMuf4JNsaQzWY5Pz/n9PQ0tZEkyXWSJAAoIYS3D0spWSwW5PN56vU6QRCwXC5pt9tMp1O8T0HIz563cBzH5PN5Go0GQRDgnOPg4IByuby1kzJqH357e6NYLHJxccHR0VFqZzAY8Pr6ykeWf0vtez4+PqbZbFIqldL+eDzm5eWFOI7RWu8ISAAhBM45ZrMZ1WqVUqnEtj+bzQjDkCiK0FqnP7IjYK1FKUWz2aTT6dDr9QCIooh2u81kMiGXy6UTfbFgraVYLFKpVDg7O+Pp6QnnHN1ul8lkQqFQwFr7Bd4KSGstvu8DUCgUqNVqPD8/c3h4+BOcJqmccxulFKPRiDAMWa1WzOdzTk5O0k38ZtE224yk1vpWSokxhn6/z3A4ZL1ep8F+t6W+79/6vv9xTEqpewBjzJXWeueY9sd2zr1rre+2TKvV4jdODvduJgAq6AAAAABJRU5ErkJggg=="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKGg8LDD0iC3MAAAHsSURBVDjLnZNBSxVRGIafc+a7M3ec2+Ze02gjqOEuoqJFi35IcJcFgraSFkEUBC6MQFOSVnJx229oHUGLKIokN1GJ5lWhGU8znjmnRTZ4US/Uu/w453m/9z0cBbC6ukqWZfyLkiSh3W6jOp0Oxhj+R0mSIK9G34Wlt5OpzaYUWgB3ynntcbYhyZLo2vLF92NFlmXIgSsm90sz77zH+hyNOvG2wyNKSG0235AEYAFA9ksz7bwnCkJG6yN4708EKKX49muDvCxIbTZdARQ6sD5ntD7Co2v3+ma+/3qWtXSdSEXB31mV2XtPajPmPj3lu9lEtABgneV8PMzdiTtHt3NHAZUakjA9fhvrbY+zKOEw9zH1ALrFDpNvZtja2ULX9B+rA8dQc4jnV5/0B3g8rbDJi+srp3bg8f03APiRd9kudnpmg2GTs1Gr/wbq8P0ffphjO9+uMqc241x9mIVLs6cCdKACdu0eqc3Iy5xnlx/TCptVLzNvH/SYALoyvvny1mdgzDpLK2qxW+wxXB8k1jEAxhk2zCYTZy7wxXwlLwu0Uus31q6MA8hAEC+aMp8XLXTzLqKFDbOJOyxMoxAtfPy5hihBK0VDksXqM9V0uAywX5qpmg4FcDUdHssa6Uh7nB0I4qVAyXIcx7TbbX4DeATFa3Lu/0cAAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AMRDyITXcW7ywAAAl5JREFUOMulk01IVFEYhp/zc++dOzbSCKOSVGZBEVKU5TIMom1BEAQVVBRUuGsVBGVBEoTClFIELQIXERFBblpUq4J2BUUuDDIJamyicWauc+85p8X4M6Gt+uBsDud7eN/3+w78ZwmAAxcrVBJJoeLXL1Yo55Y6cukazUHMo6sZ9KlrU37V/DxbS1R/exoNmAVwYz+ggCSbMvlMaEYni201AF2K1blSVQz9S2LNWprDBGMFlaqmUNHDKESh7A8DyFJV9C88lqJ+FiqqwfbOMsMnEwaPQXdnRJIkFMuqf8GRBpQUEBtBcc6iFQRCUEtgZ9cvbpxpQ3lZAC5lv3I8b0gipUQDwMwlAkeVE3sqlKqO4m/Hrq0t9G5u4cf3Eu0ddcD7LyFRVMWXGCGWACIM5rhyJGZL13qME/woFFm7ZjXPXnzm3stVnN8/QXPacmu8CWE1yKWQtbXghQE7utcteg98xZPnn7j/KoexgutPNdZBk1Z4+u+QpZSQRBEfPk7Mz9stm4SW4KmVN0QDVKIUZ+9KDvW8w9c1ere2cHDfJjz9mbHXaS4fjihVA0bGJV8KPqlAYt0SwAXaoYTHgzc5jHFMfPtNX/EXvdta2bs7pjm7AYCO1inO3I4xSeAaFSjrQErINQmkELyfzvJ20tKzcYbB062LcmdmQ2ITIUE1TsE0erIOPOXw0oJ306u5cOcnR/tmyYSGm499TKzQPiaXrtUBmdDly5EYssuzIyXh03QTAw9jHBKbSDwtyKZMvpzYOiBUboQUbn6ll30mTwtwvhOglCLJhC4fem50bCANwB8V8umz0lpU8gAAAABJRU5ErkJggg=="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wLDwoAIcdlwjsAAAF4SURBVCjPdZI9igJBEEZfdfXMMAqigXgBcxMzz+ERJljYNRK8huCCiZGxJxEPIHiCQURQUOanpzcaUXQ7rsf3qr+S9XodlmX5lWXZt4hYoOLD894boIyi6DcIgqUtiuIrz/O5iOCcwzn3AogIqooxBoAsy+YANs/znxpqNBq0Wi2qqnpO4nQ6URQFQRAgImRZ9mNFRAHu9zuDwYDRaPSmudvt2G63VFWFMQYRUVPvVKd+esPhkH6/T5ZltUVlnwdUlePxyGq1oixLAIIgIEkSms3mYwUR4QV0ztHtdpnNZnjvH0PGmDebt8Q0TVksFhRF8UicTCao6v+gc45er8d0On1JbLfb7Pf7/0FjDOfzmc1m81Cz1jIejx89PoOm7ktE6HQ6JEny9rMi8rAAjPXeOxEhjmMOhwNpmr4cQG1yuVyI47iuw9kwDBdFUcxVldvtxvV6/dilqqKqeO+JomhhrbVLgDzPv1XVqurHIweM974Mw/DXWrv8A5FtsjaW2MNCAAAAAElFTkSuQmCC"},function(t,e){t.exports="data:image/gif;base64,R0lGODlhEAAQAKUxAAAAADVJYzZKZC9iyDFlzTly4j5240B240Z75Ep940D/QE6B5FaG5ViH5WKO5myU526X52WV82qZ9Xab6Hqf6XGd9X+h6Xei9n2n+ICAgJOit5alupqpvp6uw4Sl6Yam6ouq6oSr+Yuw+pC1+5a5/Jq9/aOyyKe2zJ/A/qLC/9Dg8ODg8ODo8PDw8PDw//D4///4/////////////////////////////////////////////////////////////yH5BAEKAD8ALAAAAAAQABAAAAZiwJ9wSCwaj8hkEcT8WCYPR2NhKBBBKRRpJAphLpUIgXiKmc/ml0tANMUAcED6xQoQO+i5q07kmDOAgRkrdkMbeWdqhUIab3FzfEONeS9qkYxoMGotLCqLPxoBoqOkn0qnSUEAOw=="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADAElEQVR42mNkGGDAOGgcUFFR4dfR0bFpQBwAtFwdSJUBcRfQETcHwgGlQEoDiG8AHdBNdwdAHTEXaHkyPS0fdcDgcUB5eflcRkZGG6AD1KltQdHK73yszAw+zEyMl9uCOC7TJQQS533lY2Nh9AVaHAqk7YH0QaAD6oAOuERTB4TP+GrIwsxQz8oMsRSIVwPZmyZGcn7GpYeqDgid/vUMCxPDCqDFMxelcH8mRg/VHOA/+YsfMxND3bpsHhNS9FEtEfpM/HIW6ICGjbk8m0l2AKUh4N732Q+UyLYVkOZ7sh2wSSXYluE/01e/u6vPgfguPZ/Bvt9ZxEuS70l2ANBiJiBVy8DAnMnwj/nHawFZ3dV+hY6/uHnq9pXykux7khywSSVEHEgtZfjPzMDwnzGa4T9b80duMYb5YeXG/9jZGw6U85Hse7gDCCVCoOVOQKWLgME+G8ht9ru78t9irRI+3m/fL21zCH87a4GdMTmWEwyBTSqhkCD/z5QKVBrnd3fFPmT5+PgjZ4P2rhf+wcajG36vkah8T7QDNimHijMwMgKDHOQGhmig5S+RNerXf/Tj+PenLmPNnHMi7z78933Zno7Lkm28Mx0ZGJjeeH1OJa4u2KQcBgxSxo3wIL+3/B+6Rp3aj2eBDmiM27Zmv9LTZ5eBiTLV503dbjSLeYFUDzDRujP8Zwjy+pJyjkgHROgCE5oA0OLD6BrkSz8oAyuYKGBx63+thR+c8rcIt7gyMLDMBiZQPZ93pZ+glgPFGIFiTDuB3BKg5VijiGAi5Ep/rwy0zIGVBYhBlQwLAwOQPggs8/tutvGfh6nbItg7k/E/CyPDP7Zixv9MMF+nAi3ezYAHYA0BzvT3ekAK1FC1B/GhNdsBFmbGAy8nCNzFZtBW/knA4GYBRgULK9ABW/D5mhgH6AIpMyA+8H2m4F1ChsAdwTvLCGg5P9Di/cTqGRxNMno5ANr/2ITc+UFxADZN////twEm0CPUEoOCjbBuIMHOKSiHdHZ2JlNDDG8IDBQAALIzcTCm2IjiAAAAAElFTkSuQmCC"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QwJDgc4t1EEiQAAAcNJREFUKM+Nks1KI0EUhb++VWLATtMLhYS0/bMUxAfwAVwkzyC+hctsssoT5El8AWFAFDdCtiGRthVBDJlIg91VNYuZtDrjYs7qVt06xbnnHm80Gv2o6/rYWstnOOfwPA/nXHPneR4igtZ6qeu6Pj4/P6eu6y+PRAQR4W+ICOPxONTWWpxznJ2dkSQJxhhOT095fHxksVgQxzEA9/f39Ho9+v0+xhhk80ur1aLT6VBVFUopkiRBKYVSCq01W1tbzRn4TdRaU1UV0+mUsiy5uLjg9fWVNE0pioI8zxER8jz/ShQRgiAgDEOMMby9vbFerwmCgJOTE7IswxhDFEXN3AKglGqM2dvbY39/n7u7O+bzOSLC4eEh29vbWGsbp/XGreVyyfv7O61Wi+fnZ56enlitVnS7XdrtNkdHR9zc3Hy4uynCMCQMw6ZxcHCAc46iKEjTFIDBYND09efdGWPwfb8hrddrXl5eKMsS5xxBEDThkM9Sfd8nSRKur6+5urpCa81qteLy8hLP85jNZv9K7XQ6xHHM7e0t1lp2dnZ4eHhgd3eXKIqw1pJl2YfUjb2TyYT/hVIKbzgcLoD4u5B/V/9J0s9f2FjHAkLdHMoAAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAjFJREFUeNqkk81rE0EYxt/Zj6SJNlvJBzkEiig0ubiJPdRDQVCkIojUW+PBg9KDJw+CQv4OIfSgR/+ABERIixCkVQgmYgwYCNFDFe0Su7tJm2x212dijKvmloEfs+/wzjvPvM8Oc12XZhkCzTikXC53ShCEy/gOA81xnG3btjutVmuSNK8+JsZYCjxDqIIalG+AhphMJm9ks9k74H4oFFLK5bKhaVodRSYFhuZHsoPp0vklv7q2EiTXsePt/d7qcDjMS+12O44ia91ul/iM+LmiKJtembbZpJ6hq6nFEPX7fUotClTa1bkSEjGWIpGIkkgkTheLxZ1CobAXCASeSJJUGQwGy8jZssRERXfPrPOT42GZXr39Ts1PnVq/f5xnkB2B3OtIjIFvKFhATw4ymQw/gCvZMqKPCPdNoT+THiBnAz1pSNh8YFnWU6/kaDRKpmlOYibvkD1/sYHctDcPh5E0zRpZlskwjEnsCEdkuxZU/GksYw6w//8PfD4f6br+F45yZWyjWAXur5mlRir4BlyBYAlx637bx9fAcq/Xqxz/+EALiWulm1fPqg/uZsjn98eb7aNVUZTzErfPO/hGLh8u8PALmrdpaTWam1PUSyvRkY18flE+HNk4tQfoNsFCLrsARmsocO/lG1O9cE6ivXdDHtfqpVskevaxcUEfCIKTYAEKwiDW1arVwYn19Ov3UuzzvlWvb99+ePh1t8P+KcDGD0ycguCB51mgy2Z9zj8FGADgHgwD6oj4yAAAAABJRU5ErkJggg=="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wGAwoODkBxqeUAAAFlSURBVCjPnZIxbuNADEUfRWoEGzAkNbmZDuAyQHIXAwng0oAPYF9B51GjaUcjzWyRSFCyW+3vhpxP/k9S7ve7m+f5NYTwJiIGpJwzOWcARAQRAShyznNVVZ9lWV4txvg6TdPlO8myLJgZADlnRIR5nlFVRIQQwgXApml6X0kA4zjSdR17PJ9P6rreuocQ3k1EdP9JVWmahpeXFwCGYcA596OQiKgBaVkWxnHEzNh3XzFNEyEElmWhbVtUNVnOGTOj6zqapuFfOJ/PAHjv6fuelBK2Tg/Y5K2D+R3z3iMipJQo+E/Y3tMwDH9138dWJUVRfBHneebxeOCcI8a4eVpxu91QVWKM1HWNqmJAsa5g3eNvlGXJ4XCgKDZnheWcl/W0AFJKeO/x3m/EGCPH43EvdzHn3EeM8bKeV9u29H2/Fco5czqdfryrqvowM7t+L/kNMFVNKSVSSl+aigJV3Y7cOfdpZtc/0guxqT7h+/IAAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wGAwoALuWcpKMAAAHHSURBVCjPdZJBSuxAEIa/6u7MMMEIQcQr9HqWWYp7mWMIyntHcSG4cuNa0J3gAQJzg5xiII4Gkkl1vYUkOIv3Qy+64Ov6q/qX5+fnxTiON33f34pIMLNkZpgZACIyHWdm43K5fMiy7DEcDoebYRjuAcZxxDmHc47T01MAPj8/SSmhqnjv6fv+HiAMw3A3QXmeU1UVMUbatmUcR87Ozmiahrqu6bqOEAJ93985EfGqSp7nbDYbYowAvL+/8/LyAkCMkc1mQ57nqCoi4p2ZJeccVVVRluU8m6qiqgCYGWVZUlUVzjnMLDkzwzk3dxIRALIsY9JUizFOIM7MKIpifnmSqs7331suiuIH5D86Pz+nbVu22+38Jb8VRIT9fn9kycy4urri+/ubj48PsixjvV4DsN/vEZEfMKVE0zTEGDEzRAQz4/r6mqIoWK1WADRNQ0ppBp2qUtc1FxcXlGV5ZOny8hKA3W5HXdeklAghOGdm6r2n6zpeX19pmubI9tTp7e2Nruvw3mNmKk9PT38Oh8O9maGqc+ROTk4A+Pr6IqVESgnvPQDL5fJvCCE8AgzDcBtCCGaWUkq0bXsU8hCCM7NxsVg8hBAe/wEV4Puq2zGzYAAAAABJRU5ErkJggg=="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wIEAssMNr83kkAAAhMSURBVFjDxZdrbB3FFcd/s7N7d++9tuPY8SNOnITYEJwHTZpHSQpEDo+S0giKTEsRUCSkJgKE+gEEamlFP7QlKi3QlkeqNgIJUdK0TYnLowqvqDxEISSFPMgD4kDs2ImvH/e1e3d3ZvrhOk5CHeq0SF3paGZWs+f85/8/M3sG/s+PONMPlq9bSIVXwaR0PTWpWrTRZIrHyBQy5IIsr63ZcUb+7PFMqvthGtdJUF9VD5AEFgCtwMSRKQPAfmD7BY/NLzWlm/nDDZ2fDwM1dyeRCct2nURHfVX9t2fVtbUvn7nCbZ00i7p0A5EK6c0fYd+xPbz60YvBoYGuF2dNansAeHk8IE4LIH27g5QC25VXCSl+1lLX2nrJuSuZWduKMhqlFcqocqsVAFJY9A53M6Wy6TDQ3PHyZuTEyZT2vEbzY5+MXwLvNnmc6scqE9U3XPnFq0VL/TnEOmbQHzoluD4JjG3ZbOvaxpM9T2wE6HDmzAUuAx79ZE2zPxaIf2PAvtXCFqJaCPHcrCnnLr1yydVIaaOMQuuTVq5OGutyP2l5PLrlV0cnGs55MqOCmXZqV3rpNS35Vx9/QxtxBTA0c6P+jwy4GjbPnjZ76WULL6dAER2fSvloYDUyVprGdCPPvd2JNvoHGRieWtJ32S3ntVR/615U6C/L/X1Dp9JcuvfrIpi1yYwGk6eEXg1C8FBTXVPHisUXE5oSJe0T6ICS9vGVT6B8iqrc95VPhVtBPsqz6d1NdB/t3jE9NGv+3KMbXOTGxtW/cGUyhTfnyxQPfTAtOHKoThv++sje0zOw3HEStyydvxRf5TEYNBptylrHOiYeSbi0U0lfdJStH25lIDcA/Rip+e5BiU5F/CS9/GuVdnU1utgPQP21d5A7sOs7paH+P21bKbYsfN58Kge+CaR56/xFi5fMmN4MGBAaYzQajUBgCUk2zHGseIwPBz+iFEdEWhF1K8wAG4FvvPoxi9LpirfavvdLS6bSp6xu+P136Vq/9r1YMx8wF7x8KgMXTkhULWmYUkNJ5xHCEOmQUAWUVEAhzjNcGibWmlhrXMdCWDYiJwh7lO/CnQBEPFTXvsqyCDDF4BQAVa0tWHUzzot6Dl0CbAFzEoASN06cXMGB7G6EpRBCYUsLaVllmiyo8BLEShMpRWhZ2LEkPBhCwP0lOPR8L9fZjY3Laue2oQuZMff9xIXLGPy468YygOMMXASixOXJeoHCx5MOnpMgYUscKbGEwBhDrDVhrAjiGEsInCGHw13Dh6sNa9cOkooN9zWvuBATDGBOc8BVz2wmjFipNeKZRZjjDDQkhTc1Ve3gOA5pN0Eq4ZBM2LhOGYA2lIOHMcUwwi8p9r7VDyVz9zAUakr8qGrW9ObqBg9TzJz26PUmTMV4lbVhNjcd6CoDiAn8wVLfnt/0NUhpIaXAsgSWBEuWM1XrEVMGrQyx0hR8/6XJhqfuzTMtltYdLctmjkm9VVGHcFLoQj/h/hewZIFSTOsJAG8wzGKnOSiYCaDH+yc1FsmBPjBO5N8yqXVSKuWFYFUgEilQISYqYmKf8MMd6GwPo7pICCMmjObAWVc9jGXZEcIaHG+JkE7aAEaoEsE7tz5zcHfmtoazqtKNtTsxUQ5hAUKMuhOuBGMw2hALKEVlNNaIvyTwAUbHGDUuC0phvOCcum5gwbpFD79ZDFm1ddOBwuGuHJZrITz5KbMQrsTyJIUAwpj+MB7BN2PVgzUJW/Rf394oLCEQogxbCEG5W26FEIiT+oeORTz7j54MKroU2L56x13ttlCdF3c46anT5QkWYGT1YITh94+UTJClCegd5Xvayvv2r5g3oXViReKMSqpB3+KVf/ZlxAiIm3fc2+7YqvOrN7vpqVPtE4pqMNowmNM8fX/wEdByz9ETEqAj/9kD3UNkC/4ZmdQFlrVV1yqttsShv2Dd7LteyQdy1V9+Wyr0DJky/W5ZBsuVHDigKUVsLkWckgOouPT4x0eGzHC2QC7vf6b5fsiEihRV6SRRFNPbfRh/sKdW6XiLivwFv2u7/ZV8wVq14YFioTensTyJcC1MWvDu1shEivWRGqMgaVh2+wtNtcmvTKmrxE3YeG4Czy1LEitDpDRKGQp+iX0HjzCcL4IxaK3RSiHsBNLxRnPi2p3r2lMVuvOmtZXpxgkO29722fyAvxm48kF/DAB1S1bPS9jWttrKhBNGMaVIE0QKYdnYtoO0JdKSCMsaTVRjDPp4cRLHxGXLoONLge0dO59oT1fpzut+nE4/9f2CHwwzH9j363CMgqTYve1oYtJsnc0VVwQxCOngJdMkUydbCi+ZxkumcL0krueRSHgkEi5OwsVxHIxWqSj0O0xc2rJr0pw32wZ3v5kdVguHe8090uOlh3KfURPWnHetMFptcD3vmol1U7FHnSewnQS2lFhSjjAgyvWC0sQqIo4iwrBEGATksxmymd6M48hLgB192zeMryoeeO9pU9121fV+zheuIzqaz/4Clp08AcJ2kLIsw6gEShHHEVEYEpYCAieBlBLPk7UV9ZXrgC/1bR97G8uxXgb9Hyi3ZuYf/UJWZzPdF9Q1Ncia+il4bopkKomXTOJ5Hq7r4rrHqU8gbRvLkthSkBs4TG/X3rBqcv1aY/Tbve+/9t/djNIzLlqAVj+vaWpqn3X+RTSfPY+klcKKNAIwWqO0RglNMcjyyf732PvO6yY3NPQ3Ie07gZ35g1v/98tpqvn8xXbKu6lyStMVDfPmTm9sm0N1QwNSSvJ9vfTs2W169+w9lOvu6QyzufXAjnzX65//7Rhg7pp7piTSqbMt26kRlhQ6VhkdhfvCbP4IYHat/+m4ff0LQahqb7ULU14AAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QcYCgkN5x1EEwAAClhJREFUWMPl1310VPWdx/H3vfP8nGSSzISQB0ISnkICCJiGEBFpo9htiw8ou+1awVNRWbXn1F3TY590a20XtaXsqaeldRVkd9FWVGg4QnkmAYogDxFIQh5JMnmYTCZzZ+beO3Pnt3/UzWmPdq2n/W/vn/d+z/2+zvn9zvd8P/D//ZE+TXFNTY1D1/X5drt9gdfjXWSymCt0TZUURemNTky+F0/E35dl+UIoFJr8mwIaGxuL/X7/wzc13HRv/bL6krKZM7A7HH9Sk9JSdHZ2cvT40eHm5uY3+/v7t5w9e/byXwW47777XGaz+Tu3Nt760Jo1a9yaofHkj76J1WzBbDaRVxCgv6uHlKFRVFDMDTVLWLawDqfdxTtvv6PveG3H9lgs9s3m5uaRTw3YtGlTeXZ29q8fWP9AtSfHzbP//hwpQ0UICZNswmy2MKd6LlcvXuZa91X6Q4NMRCcwm02svvl2nny4CaELXvzxi/0dnR1rd+3adfLj+pg+7mVTU9N8t8d9aMP962e29bXx8q6XUXWVgvwgsmzCbJaZmBwnLxCg/eplwpExBBKSWSKRjLP/xH62vb6NkuIS7r/3fl/ntc515eXlp86dO9f9iYCnn356nhJXDtx79z3B1qsnaT7YTI7Pj8vpJJU2SOkak3GFqBKluLSUwYE+ro+GSGhxkqYkuk/HMBuMj46z+6230G06G9dttJ7+/ek7a2trW06fPt3zZwHPP/+8dXh4+O3a2hsrx1Jhjp48RtAfxGSWySDQdA1FiaPEY8QUhYqKSga6e7k+OICix4kbk0TUCAQMbNOspNNpWk60klWQxeq61daWUy0rb7/99teOHz+e+N+e8h8DdF1/rKiwaElJZSnvXThDvj8Pm82KJElomoYSV1D1JEY6QyQcIRqJ0NkTYmxoDNUUQ81XcRQUEOtTkT0y+Q1+zIUS39v2PRRnnJuX31wcj8e/+8c9pwAvvfSSa2Ji4uHFtYt5fd8ubBYbLrcbk9VCIp5ESSjoqkZK11ANDY/TicvppO62NZB0EI2HsZd6Wb1+E3a/l8gVBdlhxr/QDy544mdPsKR+KRkj84/PPPNM8UcA6XT6C8FAsHQgMkA6ncHpcmKymLD4PKTMGUxmiZSWIjI6wWB7iPBwBCEk9v/4F4yO9aN5BKELQ/x27w/JWmJBypYYujRMdqkPV5mdK6HLvHNhDwtrFrpVVf3yRwCTk5NrZ5bP5GDrYXKzchBA2lAZHulBljNIQqCoUWRZwmmzM9IVIqkm6e7qQbfruGqcuMscjF0dxu5yMaO+iIwdhgZHmbZgOpYSOztPv0b5nArUpHrH5s2bXVOAV199tdhIGzdaXRYSapykmsRIpxkODxONjmE1WRkKDyILCREVKMkoYU+EtClN6YpipM+AoqXIm+knsCRIb0s/RbMCWPwmohOTVFTUUrvyTtomLhEzK7idriohxPwpgGEYlQ6HI5jQEhiGgSEEmqYTjo7icXpRNYWxWBivKZsPLrUhCg0KGgNkvILBWd2I5RKmgKCno5+580sRQtDZM8DspaWgQ+dQK93jJ8AOXbFu/Dl5Nl3Xq6YAqVSq1Of1SdHEJDIyEqBrKUZGh7HbzXQPdiCSGWSfhWSRSogQvVn9uAM+qh6fC9MypLxpjGSG37dfwVFuI3Q8RKJCxaSbGIuOkSaG1WGhN9ZLnj8XwzBKAMwfXoFpPp+PtMfghsWLsFrtyJKMd5qTgCcfrz0Hq5AxrFaml27EnGthn/UtvnZgPRs/t4F7Su6iLrseudBMUkoy3VdAbFADs07qS5Dy6ggM2l3tmCQL3iwvUp/kmQJIkjTpcDoIRUNcON+G027DYbfS0vM7Gm/+B+rv/if+ddMtTPeWcfDiYQprchmuNfHsjGdZKBaxLLOCbZFtRK/FkL0GsyZn03Oun5waJ5EzMezz7CBJzJer0a0GDrMDk8mkTx2BLMuDJtmEw2qnb7CPsWiYmJqga7ibvmvneHf/K7QevEgwEERPxHAHy/hq/RYuuPr5IHQen5zFtcl2RjPDFE4voeX6CQby+3CMe+mR+tBsKopJ4TdDb5KVlY30h55jUwBJkq6l0qlkYbCQ8MQo4xNhSJuRMxZaLx5k4v0jZJIGqqSwvLqByAc9HH9jN6scdbzy8i8waxK3BVeTXxDEnu0gbWRYuKyOrqEBpEKJ/Lx8VNIYWQazArNJJpNISB1TACFERzwe7ygtKMNqNXF9eJC4EsWa8XCtexzNJzOjPsAvd27H7y4mP5nN4X/+Kf0XO+jZN0LP2V7W5N1BwcxczrWfwxl04/d4CU8O487OQrJbiadVsrILqcmpYjw6PpIRmfNTgA0bNkwqceVdt8PD0kXLGBocoK3rEhV5NWS6Bfta97Ji3t+htWf41dZfkpIdrFrWwPT8IlbWr2L3D1/HrtlZlWpET2ssr1pCa9vvMLQUZYFSIpEJ1FScusByppHLcHjkWFNTU9efTEJVVXf29HSJR9ZtJJXQaGtrQ6DgnZ5NuEfj3a632fjd9RQuycW77qscOt+K2SFjmHQuDV3hsXXfYL57PjOqCjjVcQqd6Xj8PjwOBwPj15HMDr4+bxPXe3qJRqOvfGQUP/roo+feP//+b+aVz+OpJ76FMZbhyKGjrG78As6Mi77fhviPPdtZVD0L75FmzEIQUxKY8q3Ufv4GZs+twCIkIvEw3vxVnLn7IhuXb+FC7wcousKDcx5hVe5nOHLy2GnDMPZ87Br2wgsvzD2w/0A8k8mI5WsbBDaEXC6Lex67UxTXFwvsCFwI5xKLKL61RGzdvVWs/Ze7xYK1NcIzN0sE64vE9tYdovBotdgSe08sOPB5wc9lUbOnQSiGKg4dOGg0NTXd8n9uqXfcsebxQ4cOi2gsKorrZghsCCmIWPr3S8WXHvmi8C/1CzwI5yKreG7Hj0TdPcuEvdomLFVW4Z3jE68d2ym2ntoq7Dvsgl/JouTXc0RvckC0HD5h3HXXXU994kp2+fKVk+HxcFZlWeUNTY8/afrP1l1MXo0ycHWA66kQiysXUFFTTk6ej1kV8+jq7iTXn8vcslnkZedy4Ph+bryxjt2hN5mTU8PulW8QPT/G9zc/+8bePXsfz2Qy4i+JAtaG5fXf+a8dOxOR8bB46Y2fCVuBVWBD4ETIhYjgsnzx3PbnxIqvNIjSlcXCWmUT+P/w/bYffE5svvK8uD4yJHbt+O90w00Ne2VZzvq0qclRXl759YcefGji2OETom+wT2zZ+ROx+M7FwjHLKSxlZvHUz78tilcUCUulRdgqbWLhFxeIb7/4LfHepbPi8L4jmQcf+FqsvLz834DAn4sAn5SMLC6X45aS4tJvVNfU1N722UbLvPlVGSyYRydGTalMSkql0tgsNrLc2UJKY3Rcbad5377MmTNn3h0cGvxJMplsARJ/TTQzAaVWq7XS5XZVu90ub54/vzrXnzvb4XC4DcOQY0osMTY21jcyOnIlHo/3a5p2wTCMk8AoIP4W4VT6cGbIH/7QCrgAN5AG4oAK6EDmw5q/6LL9D6VNzkNWJMm3AAAAAElFTkSuQmCC"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3gEJDigBhEwC8wAAATtJREFUKM+F0jFLllEYxvHf+0bg3KB2lqChIYqgexAaHEUE+wC5WBBIZK3RUEHgVwiCFKSpXJP6DHGDu1JB4LEip6xoiJbz5sNT6DXe5/zPdd0XZ6ApIs7gMWYwgR28wAoOMlNXwwbN4QPGMY+zuIur+IZJPQ2b0ytMZ+Ys3mbme2xm5kU8wLtmcEhGxHpEvHaEIuJ3RCz2o87gXkQ8PYK9g6U+OIHPuPlPnEN9wlQf3MF5bEfEk8z8H3wJm93BiVLKZGvwCjZKKeewW0r5WWv9HhFjeINrtdbdruMKLuA2xvAFj3A5Ik7iJfbxsbvKEAc4jfv40aI/wzR+tSSnsBcRC6NVBr3aF1t7U22nh81pr3PtRmauDTqQ/rfqnC3geWe0PHCMRg9GxHWs/m31OLDWOoK3SilfMYdbfwCBsGMAyM9nwQAAAABJRU5ErkJggg=="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gYLDCwltDYkBQAAAaVJREFUSMflVL9r20AYfd+pGASGukvBGSIITrcMHrQn4+lkDwEtyRwCydK5EKJS6JJ/I5kM2ixn6+DRnQ3NEMhirxnsIYPvZVGCcFXbcgwZ+qa77+59P97d9wELQFLCMDwOw/CYpGANfFh02Gq1jmaz2XW2BoCbsgHUokNr7W7RugycImMURR89zzsRkVMAnwBARLYbjYZtNpt/hsPh06oB/tLVGHNAMiFZKySIPIrIYbfb/VVaImNMm+QtyZqI9B3Habuuu+W67pbjOG0R6ZOskbw1xrRLVRBFUXUymdwBqCulfvq+fxHHsc1fjuNYDQaDH9babwDG1Wr1S6fTmaxUwXQ6/QqgLiL9vHOtNbXWzAJY3/cvRKQPoJ5xVpOI5D4AKKWu5jOfq8Iqpa7ynFXfYA8AKpXK72Wk3J29Mo32GQCSJBm/SJJH3pYkiWitXzlrN9omUDgqer2ezGeet21sVGwC7yPRv+Rau4IgCOJ1HSzjShAEMcnLt2QpIt/TNC0MpN7qPOvoS7wXZIm+9wC8bPuQpunORr8pyXOSI5IjAGf4L/EMNO2n0jj45TYAAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gYLDDAPifqwjgAAAUFJREFUSMftVbtKA0EUPfvoElAIBiGFsMVYmMrOXiwGZj/AlGkkVvmD+YL8QX5iFxa0yhfYiIW7IIgQ0vgHe/fYRBAS1p1NxEJPN3O558y5984M8MPw6oLGmDMRSQAgCII4TdMnVwG/LigiY5IRyUhExm0cBNs2rbV+p9MxAG4AHAGA53mHSqm30WhULBYLti5RHMenZVkmJNXWBM/LwzCMkyR5dhYwxpyXZXkPoPdN3nsYhldpmj407oG11heReQNyAOiJyNxa6zfuQbfbva6qauLQv+PValXkef7YyEFVVZeuE9Ik56vFYYspHLoI9FsI9He6aPvAv4CTQLCvt2xDQGs9IzlwZSc50FrPak+wJp/uUIULpdRBURR3Wx3sSP7pZIrfQu2XqbV+AXCyXr5mWRbtdUxJ3pJcklwCmOBP4gNWG3i6zIvhJAAAAABJRU5ErkJggg=="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAIAAACQKrqGAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QwJDggEH6ZkwQAAASlJREFUKM+NkT+KwkAYxd/IEENaIbUnUdKYws7CImfwEB7CI0QQFBNCSBRJ4zUs0wUlZf5N5tviy8JarLuv+g38Zni8EdvttmkaIsLvEUKMx2PZNM10OjUM44Patm2e51II8Xg88Fcsy5KmaW42m77vP3ij0Wi/30sApmnGcfxB9TyPiCQfbNt2XRfA+XxerVYADofDer3WWp9OJ6UUgEHtuu71egHo+/75fBIRERVFAYCI3tSyLJMkYU7TlOF2uzG8qbZtLxYLIgqCYLlcaq2jKGJIkkQpNXRVShVF4fs+XzsejwxhGDLUdT28qrWeTCaz2YyIrtfrfD4noizLGO73O085FKiqKggC5svlwpBlGY/P3y4BGIbhOI7+Djfj/FxXAtjtdvhHvgCz/reiTTp6cgAAAABJRU5ErkJggg=="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAolBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgESU6AAAANXRSTlMAAQIDBAUGCQwNDxAREhMUFyApLzAxMkJHVFlebXF5e4CDm62+xcjKz9PZ3OTo6+/x9/n7/UnKJecAAAB/SURBVBgZBcGJQgEBAAXAcey6tY4KhcpVOgjv/3/NDMDob9MBAIfJ8w4AyktN6gB4WWmkBsD4u+lx3y4BeqcHPpK8wntymwLlTxdJ2gD7CkkKwOAMSQpA5xeSFIDZG2SXArCcQ57SB6QF6//L9WtRNZgcAXTn21vyOQQAzTq4A+uTC/LUhXbmAAAAAElFTkSuQmCC"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wCGAEcCdgs1SoAAAHeSURBVCjPVZG9a1NhGMV/7/1okqaaUMutaClqrzSttTTYpa1KpVb/Bh3ERYqomYo4dNDNqUO0IAjq0KG4Z/JbEalYB7FRGhWFeA2xuammob03ue/rkmg904Hz4zzwHJ2GDMNASgmwb2DAnrGs9pPFovsJKG/J/sEN9RyfPJJeK9zdXCvc2ZyYHEsDPf8xTRMOhxKW1THrOrc3VGlGqdKMKuXnNiyrYzYcbkk0WdFo3m9Z7Re/rcxdMr2X4mo6pACupWrC0w+oPX2XbxR//roJ5DTAHh8fnn63eGXKcx8JKZX6nv8isstvRbm6qlZ/PBAvHp6ZGhu1pwFb9PZ23XqSOXc2IpyQL33lG64YPfqYIKjz7OlhKpW6EgJRq233Tp1+fs9QUuoq8EQVF3fTIRrV6eyMAKBpPoYRIADfrwilAl0vuZWVV28KOyZObEuEzd+GLurKbNkrDg7spM+uKE1IsVGV/vkLH+4vZ9euN9/ZH4+3zn/9eEyWnUOqLYpsiyLLzrD6/D4pY7GWeaC/cVYDwDT1oXjMWMi+7vWD9ZQK1lMqu9jjx2PGgmlqQ1tZAB3QgJHkYCSTW+r2c0vdfnIwkgFGGrkO/N0hCuwGWgG7a5eRAsg79TSQAzwgD6z/AVpowc7P3/iuAAAAAElFTkSuQmCC"},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(14),l=i(s),u=n(84),d=i(u),c=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l["default"].getApi();r(this,t),this.api=e}return a(t,[{key:"get",value:function(t){var e=new d["default"](t).withSkipMeta(!1).withSkipData(!0).withIncludeMetadataDetails(!0),n=new d["default"](t).withSkipData(!1).withSkipMeta(!0).withIncludeNumDen().withDisplayProperty("SHORTNAME");return Promise.all([this.fetch(n,{sorted:!0}),this.fetch(e)]).then(function(t){return Promise.resolve(o({},t[0],{metaData:t[1].metaData}))})}},{key:"fetch",value:function(t,e){return this.api.get(t.buildUrl(e),t.buildQuery(e)).then(function(t){return Promise.resolve(t)})}}]),t}();e["default"]=c},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(239),l=i(s),u=n(14),d=i(u),c=n(13),h=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d["default"].getApi(),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"dataStore",i=arguments[2];if(r(this,t),this.constructor===t)throw new Error("Can't instantiate abstract class!");if(!(i.prototype instanceof l["default"]))throw new Error("NamespaceClass must be subclass of "+("undefined"==typeof l["default"]?"undefined":o(l["default"])));this.NamespaceClass=i,this.endPoint=n,this.api=e}return a(t,[{key:"get",value:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n?this.api.get([this.endPoint,t].join("/")).then(function(n){return n&&(0,c.isArray)(n)?n.length<1?Promise.reject(new Error("The requested namespace has no keys or does not exist.")):new e.NamespaceClass(t,n):Promise.reject(new Error("The requested namespace has no keys or does not exist."))}):new Promise(function(n){n(new e.NamespaceClass(t))})}},{key:"getAll",value:function(){return this.api.get(this.endPoint).then(function(t){if(t&&(0,c.isArray)(t))return t;throw new Error("No namespaces exist.")})}},{key:"has",value:function(t){return this.api.get([this.endPoint,t].join("/")).then(function(t){return t&&(0,c.isArray)(t)?!(t.length<1)||Promise.reject(t):Promise.reject(new Error("Response is not an array!"))})["catch"](function(t){if(404===t.httpStatusCode||(0,c.isArray)(t)&&t.length<1)return Promise.resolve(!1);throw t})}},{key:"delete",value:function(t){return this.api["delete"]([this.endPoint,t].join("/"))}},{key:"create",value:function(t){var e=this;return this.has(t).then(function(n){return n?Promise.reject(new Error("Namespace already exists.")):new e.NamespaceClass(t)})}}]),t}();e["default"]=h},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.noCreateAllowedFor=new Set(["categoryOptionCombo"]);e["default"]={baseUrl:"/api",i18n:{sources:new Set,strings:new Set}}},function(t,e,n){(function(t){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(13),a=function(){function e(t){i(this,e),(0,o.checkType)(t,"object","console"),this.logger=t}return r(e,[{key:"canLog",value:function(t){return!!(t&&console&&(0,o.isType)(this.logger[t],"function"))}},{key:"logMessage",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"log";if(this.canLog(t)&&this.logger[t]){for(var e,n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return(e=this.logger)[t].apply(e,i),!0}return!1}},{key:"debug",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.logMessage.apply(this,["debug"].concat(e))}},{key:"error",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.logMessage.apply(this,["error"].concat(e))}},{key:"log",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.logMessage.apply(this,["log"].concat(e))}},{key:"warn",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.logMessage.apply(this,["warn"].concat(e))}}],[{key:"getLogger",value:function(){var n=void 0;try{n=t.console}catch(i){n=window.console}return this.logger?this.logger:this.logger=new e(n)}}]),e}();e["default"]=a}).call(e,function(){return this}())},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function a(t){if(t&&t[Symbol.iterator]){var e=[].concat(o(t));e.forEach(function(t){t instanceof h["default"]||(0,d.throwError)("Values of a ModelCollection must be instances of Model")})}}function s(t){if(t&&t[Symbol.iterator]){var e=[].concat(o(t));e.forEach(function(t){(0,u.isValidUid)(t.id)||(0,d.throwError)("Can not add a Model without id to a ModelCollection")})}}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(13),d=n(26),c=n(240),h=i(c),p=n(319),f=i(p),g=n(434),m=i(g),y=function(){function t(e,n,i){var o=this;r(this,t),(0,u.checkType)(e,f["default"]),this.modelDefinition=e,this.pager=new m["default"](i,e),this.valuesContainerMap=new Map,this[Symbol.iterator]=this.valuesContainerMap[Symbol.iterator].bind(this.valuesContainerMap),a(n),s(n),(0,u.isArray)(n)&&n.forEach(function(t){return o.valuesContainerMap.set(t.id,t)})}return l(t,[{key:"add",value:function(t){return a([t]),s([t]),this.set(t.id,t),this}},{key:"toArray",value:function(){var t=[];return this.forEach(function(e){t.push(e)}),t}},{key:"clear",value:function(){return this.valuesContainerMap.clear.call(this.valuesContainerMap)}},{key:"delete",value:function(){for(var t,e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return(t=this.valuesContainerMap["delete"]).call.apply(t,[this.valuesContainerMap].concat(n))}},{key:"entries",value:function(){return this.valuesContainerMap.entries.call(this.valuesContainerMap)}},{key:"forEach",value:function(){for(var t,e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return(t=this.valuesContainerMap.forEach).call.apply(t,[this.valuesContainerMap].concat(n))}},{key:"get",value:function(){for(var t,e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return(t=this.valuesContainerMap.get).call.apply(t,[this.valuesContainerMap].concat(n))}},{key:"has",value:function(){for(var t,e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return(t=this.valuesContainerMap.has).call.apply(t,[this.valuesContainerMap].concat(n))}},{key:"keys",value:function(){return this.valuesContainerMap.keys.call(this.valuesContainerMap)}},{key:"set",value:function(){for(var t,e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return(t=this.valuesContainerMap.set).call.apply(t,[this.valuesContainerMap].concat(n))}},{key:"values",value:function(){return this.valuesContainerMap.values.call(this.valuesContainerMap)}},{key:"size",get:function(){return this.valuesContainerMap.size}}],[{key:"create",value:function(e,n,i){return new t(e,n,i)}},{key:"throwIfContainsOtherThanModelObjects",value:function(t){return a(t)}},{key:"throwIfContainsModelWithoutUid",value:function(t){return s(t)}}]),t}();e["default"]=y},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){var n=e.collection?e.collectionName:e.name,i={configurable:!1,enumerable:!0,get:function(){return this.dataValues[n]}};e.constants&&(i.constants=e.constants),e.writable&&(i.set=function(t){(!(0,m.isObject)(t)&&t!==this.dataValues[n]||(0,m.isObject)(t))&&(this.dirty=!0,this[I.DIRTY_PROPERTY_LIST].add(n),this.dataValues[n]=t)}),n&&(t[n]=i)}function u(t){var e={},n=(0,y.curry)(l,e);return(t||[]).forEach(n),e}function d(t,e){function n(t){if(t.href)return t.href.split("/").pop()}var i=e.collection?e.collectionName:e.name,r={persisted:e.persisted,type:M["default"].typeLookup(e.propertyType),required:e.required,min:e.min,max:e.max,owner:e.owner,unique:e.unique,writable:e.writable,ordered:Boolean(e.ordered),embeddedObject:Boolean(e.embeddedObject)};("REFERENCE"===r.type||"COLLECTION"===r.type&&"REFERENCE"===e.itemPropertyType)&&(r.referenceType=n(e)),i&&(t[i]=r)}function c(t){var e={},n=(0,y.curry)(d,e);return(t||[]).forEach(n),e}function h(t,e){return function(n){return t&&e&&t.modelDefinition&&t.modelDefinition.modelValidations&&t.modelDefinition.modelValidations[n]&&"COLLECTION"===t.modelDefinition.modelValidations[n].type&&e.hasOwnProperty(t.modelDefinition.modelValidations[n].referenceType);
}}function p(t){return Boolean(t.id)}Object.defineProperty(e,"__esModule",{value:!0});var f=function U(t,e,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,e);if(void 0===i){var r=Object.getPrototypeOf(t);return null===r?void 0:U(r,e,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},g=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),m=n(13),y=n(26),v=n(320),x=i(v),b=n(240),A=i(b),w=n(318),S=i(w),E=n(419),C=i(E),P=n(416),M=i(P),T=n(418),k=i(T),I=n(241),_=n(322),O=n(242),D=new WeakMap,R=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1],i=arguments[2],r=arguments[3],o=arguments[4];s(this,t),(0,m.checkType)(e.singular,"string"),(0,m.checkType)(e.plural,"string","Plural"),(0,y.addLockedProperty)(this,"name",e.singular),(0,y.addLockedProperty)(this,"displayName",e.displayName),(0,y.addLockedProperty)(this,"plural",e.plural),(0,y.addLockedProperty)(this,"isShareable",e.shareable||!1),(0,y.addLockedProperty)(this,"isMetaData",e.metadata||!1),(0,y.addLockedProperty)(this,"apiEndpoint",e.apiEndpoint),(0,y.addLockedProperty)(this,"javaClass",e.klass),(0,y.addLockedProperty)(this,"identifiableObject",e&&e.identifiableObject),(0,y.addLockedProperty)(this,"modelProperties",n),(0,y.addLockedProperty)(this,"modelValidations",i),(0,y.addLockedProperty)(this,"attributeProperties",r),(0,y.addLockedProperty)(this,"authorities",o),(0,y.addLockedProperty)(this,"translatable",e.translatable||!1),this.filters=k["default"].getFilters(this),D.set(this,(e.properties||[]).filter(function(t){return t.translationKey}).map(function(t){var e=t.name,n=t.translationKey;return{name:e,translationKey:n}})),this.getOwnedPropertyJSON=O.getOwnedPropertyJSON.bind(this)}return g(t,[{key:"filter",value:function(){return this.clone().filters}},{key:"create",value:function(t){var e=A["default"].create(this),n=x["default"].getModelDefinitions(),i=t?Object.assign({},t):(0,_.getDefaultValuesForModelType)(e.modelDefinition.name);return Object.keys(e).filter(h(e,n)).forEach(function(t){var r=e.modelDefinition.modelValidations[t].referenceType,o=[];Array.isArray(i[t])?o=i[t].map(function(t){return n[r].create(t)}):i[t]!==!0&&void 0!==i[t]||(o=i[t]),i[t]=C["default"].create(e,n[r],t,o),e.dataValues[t]=i[t]}),Object.keys(e).filter(function(t){return!h(e,n)(t)}).forEach(function(t){e.dataValues[t]=i[t]}),e}},{key:"clone",value:function(){var t=Object.getPrototypeOf(this),e=this.filters.getFilterList(),n=(0,y.copyOwnProperties)(Object.create(t),this);return n.filters=k["default"].getFilters(n,e),n}},{key:"get",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fields:":all,attributeValues[:all,attribute[id,name,displayName]]"};return(0,m.checkDefined)(t,"Identifier"),Array.isArray(t)?this.list({filter:["id:in:["+t.join(",")+"]"]}):this.api.get([this.apiEndpoint,t].join("/"),n).then(function(t){return e.create(t)})["catch"](function(t){return t.message?Promise.reject(t.message):Promise.reject(t)})}},{key:"list",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.apiEndpoint,i=a(e,["apiEndpoint"]),r=this.filters.rootJunction?{rootJunction:this.filters.rootJunction}:{},o=Object.assign({fields:":all"},r,i),s=this.filters.getQueryFilterValues();return(0,m.isDefined)(o.filter)||(delete o.filter,s.length&&(o.filter=s)),this.api.get(n||this.apiEndpoint,o).then(function(e){return S["default"].create(t,e[t.plural].map(function(e){return t.create(e)}),Object.assign(e.pager||{},{query:o}))})}},{key:"save",value:function(t){if(p(t)){var e=O.getOwnedPropertyJSON.bind(this)(t),n=t.dataValues.href?(0,y.updateAPIUrlWithBaseUrlVersionNumber)(t.dataValues.href,this.api.baseUrl):[t.modelDefinition.apiEndpoint,t.dataValues.id].join("/");return this.api.update(n,e,!0)}return this.saveNew(t)}},{key:"saveNew",value:function(t){var e=O.getOwnedPropertyJSON.bind(this)(t);return this.api.post(this.apiEndpoint,e)}},{key:"getOwnedPropertyNames",value:function(){var t=this;return Object.keys(this.modelValidations).filter(function(e){return t.modelValidations[e].owner})}},{key:"delete",value:function(t){return t.dataValues.href?this.api["delete"](t.dataValues.href):this.api["delete"]([t.modelDefinition.apiEndpoint,t.dataValues.id].join("/"))}},{key:"isTranslatable",value:function(){return this.translatable}},{key:"getTranslatableProperties",value:function(){return D.get(this).map((0,y.pick)("name"))}},{key:"getTranslatablePropertiesWithKeys",value:function(){return D.get(this)}}],[{key:"createFromSchema",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=void 0;return(0,m.checkType)(e,Object,"Schema"),i="function"==typeof t.specialClasses[e.singular]?t.specialClasses[e.singular]:t,Object.freeze(new i(e,Object.freeze(u(e.properties)),Object.freeze(c(e.properties)),n.reduce(function(t,e){return t[e.name]=e,t},{}),e.authorities))}}]),t}(),L=function(t){function e(){return s(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),g(e,[{key:"get",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fields:":all,userCredentials[:owner]"};return f(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"get",this).call(this,t,n)}}]),e}(R),B=function(t){function e(){return s(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),g(e,[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Boolean(Object.keys(t).length),i=Object.keys(t).filter(function(t){return"compulsoryDataElementOperands"!==t}).reduce(function(e,n){return e[n]=t[n],e},{}),r=f(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"create",this).call(this,n?i:void 0);return r.dataValues.compulsoryDataElementOperands=t.compulsoryDataElementOperands,r}}]),e}(R),N=function(t){function e(){return s(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),g(e,[{key:"list",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.root,i=a(t,["root"]);return t.hasOwnProperty("root")&&n&&(i.apiEndpoint=this.apiEndpoint+"/"+n),f(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"list",this).call(this,i)}}]),e}(R);R.specialClasses={user:L,dataSet:B,organisationUnit:N},e["default"]=R},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(){return r.modelDefinitions?r.modelDefinitions:r.modelDefinitions=new s}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(13),s=function(){function t(){i(this,t)}return o(t,[{key:"add",value:function(t){try{(0,a.checkType)(t.name,"string")}catch(e){throw new Error("Name should be set on the passed ModelDefinition to add one")}if(this[t.name])throw new Error(["Model",t.name,"already exists"].join(" "));this[t.name]=t,(0,a.isType)(t.plural,"string")&&(this[t.plural]=t)}},{key:"mapThroughDefinitions",value:function(t){var e=this;return(0,a.checkType)(t,"function","transformer"),Object.keys(this).filter(function(t){return e.hasOwnProperty(t)&&!(e[t].plural===t)}).map(function(n){return t(e[n])})}}]),t}();s.getModelDefinitions=r,e["default"]=s},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(13),s=n(317),l=i(s),u=n(14),d=i(u),c=n(242),h=function(){function t(e){r(this,t),(0,a.checkType)(e,"object","logger (Logger)"),this.logger=e}return o(t,[{key:"validate",value:function(){throw this.logger.warn("Client side model validation is deprecated"),new Error("Client side model validation is deprecated")}},{key:"validateAgainstSchema",value:function(t){function e(t){if(t.response&&t.response.errorReports)return t.response.errorReports;throw new Error("Response was not a WebMessage with the expected format")}if(!(t&&t.modelDefinition&&t.modelDefinition.name))return Promise.reject("model.modelDefinition.name can not be found");var n="schemas/"+t.modelDefinition.name;return d["default"].getApi().post(n,(0,c.getOwnedPropertyJSON)(t))["catch"](function(t){return Promise.reject(t)}).then(function(t){return"OK"===t.status?[]:Promise.reject(t)})["catch"](e)}}],[{key:"getModelValidation",value:function(){return this.modelValidation?this.modelValidation:this.modelValidation=new t(l["default"].getLogger(console))}}]),t}();e["default"]=h},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){return M.has(t)?M.get(t):{}}Object.defineProperty(e,"__esModule",{value:!0}),e.fieldsForSchemas=e.defaultValues=void 0,e.getDefaultValuesForModelType=r;var o=n(426),a=i(o),s=n(420),l=i(s),u=n(421),d=i(u),c=n(422),h=i(c),p=n(423),f=i(p),g=n(424),m=i(g),y=n(425),v=i(y),x=n(429),b=i(x),A=n(430),w=i(A),S=n(427),E=i(S),C=n(428),P=i(C),M=e.defaultValues=new Map([["organisationUnitGroupSet",a["default"]],["category",l["default"]],["categoryOptionGroupSet",d["default"]],["dataElement",h["default"]],["dataElementGroupSet",f["default"]],["dataSet",m["default"]],["externalMapLayer",v["default"]],["validationNotificationTemplate",b["default"]],["validationRule",w["default"]],["program",E["default"]],["programNotificationTemplate",P["default"]]]),T=["apiEndpoint","name","displayName","authorities","singular","plural","shareable","metadata","klass","identifiableObject","translatable"],k=["href","writable","collection","collectionName","name","propertyType","persisted","required","min","max","ordered","unique","constants","owner","itemPropertyType","translationKey","embeddedObject"];e.fieldsForSchemas=T.concat("properties["+k.join(",")+"]").join(",")},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(14),s=i(a),l=n(436),u=i(l),d=n(435),c=i(d),h=function(){function t(e,n){r(this,t),this.settings=e,this.configuration=n,this.systemInfo=void 0,this.version=void 0,this.installedApps=void 0}return o(t,[{key:"setSystemInfo",value:function(e){this.version=t.parseVersionString(e.version),this.systemInfo=e}},{key:"setInstalledApps",value:function(t){this.installedApps=t}},{key:"loadInstalledApps",value:function(){var t=this,e=s["default"].getApi();return e.get("apps").then(function(e){return t.setInstalledApps(e),e})}},{key:"uploadApp",value:function(t,e){var n=s["default"].getApi(),i=new FormData,r=void 0;return i.append("file",t),void 0!==e&&(r=new XMLHttpRequest,r.upload.onprogress=function(t){t.lengthComputable&&e(t.loaded/t.total)}),n.post("apps",i,{contentType:!1,processData:!1,xhr:void 0!==r?function(){return r}:void 0})}},{key:"loadAppStore",value:function(){var e=this,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return new Promise(function(i,r){var o=s["default"].getApi();o.get("appStore").then(function(r){return i(r.map(function(i){var r=Object.assign({},i);return n&&(r.versions=r.versions.filter(function(n){return t.isVersionCompatible(e.version,n)})),r}).filter(function(t){return t.versions.length>0}))})["catch"](function(t){return r(t)})})}},{key:"installAppVersion",value:function(t){var e=s["default"].getApi();return new Promise(function(n,i){e.post(["appStore",t].join("/"),"",{dataType:"text"}).then(function(){n()})["catch"](function(t){i(t)})})}},{key:"uninstallApp",value:function(t){var e=s["default"].getApi();return e["delete"](["apps",t].join("/"))["catch"](function(){})}},{key:"reloadApps",value:function(){var t=this,e=s["default"].getApi();return e.update("apps").then(function(){return t.loadInstalledApps()})}}],[{key:"parseVersionString",value:function(t){return{major:Number.parseInt(t,10),minor:Number.parseInt(t.substring(t.indexOf(".")+1),10),snapshot:t.indexOf("-SNAPSHOT")>=0}}},{key:"compareVersions",value:function(e,n){var i="string"==typeof e||e instanceof String?t.parseVersionString(e):e,r="string"==typeof n||n instanceof String?t.parseVersionString(n):n;return i.major!==r.major?i.major-r.major:i.minor!==r.minor?i.minor-r.minor:(i.snapshot?0:1)-(r.snapshot?0:1)}},{key:"isVersionCompatible",value:function(e,n){var i=n.minDhisVersion||n.min_platform_version||null,r=n.maxDhisVersion||n.max_platform_version||null,o=!i||t.compareVersions(e,i)>=0,a=!r||t.compareVersions(e,r)<=0;return o&&a}},{key:"getSystem",value:function(){return t.getSystem.system||(t.getSystem.system=new t(new u["default"],new c["default"])),t.getSystem.system}}]),t}();e["default"]=h},function(t,e){"use strict";function n(t){return Math.floor(Math.random()*t)}function i(){for(var t=a.charAt(n(a.length)),e=1;e<u;e+=1)t+=s.charAt(n(l));return t}function r(t){return null!=t&&d.test(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.generateUid=i,e.isValidUid=r;var o="abcdefghijklmnopqrstuvwxyz",a=o.concat(o.toUpperCase()),s="0123456789"+a,l=s.length,u=11,d=/^[a-zA-Z]{1}[a-zA-Z0-9]{10}$/},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){!function(t){"use strict";function e(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function n(t){return"string"!=typeof t&&(t=String(t)),t}function i(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return y.iterable&&(e[Symbol.iterator]=function(){return e}),e}function r(t){this.map={},t instanceof r?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function o(t){return t.bodyUsed?Promise.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function a(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function s(t){var e=new FileReader,n=a(e);return e.readAsArrayBuffer(t),n}function l(t){var e=new FileReader,n=a(e);return e.readAsText(t),n}function u(t){for(var e=new Uint8Array(t),n=new Array(e.length),i=0;i<e.length;i++)n[i]=String.fromCharCode(e[i]);return n.join("")}function d(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function c(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(y.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(y.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(y.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(y.arrayBuffer&&y.blob&&x(t))this._bodyArrayBuffer=d(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!y.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!b(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=d(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):y.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},y.blob&&(this.blob=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return l(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(u(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},y.formData&&(this.formData=function(){return this.text().then(f)}),this.json=function(){return this.text().then(JSON.parse)},this}function h(t){var e=t.toUpperCase();return A.indexOf(e)>-1?e:t}function p(t,e){e=e||{};var n=e.body;if(t instanceof p){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new r(t.headers)),this.method=t.method,this.mode=t.mode,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new r(e.headers)),this.method=h(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function f(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),i=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(r))}}),e}function g(t){var e=new r,n=t.replace(/\r?\n[\t ]+/g," ");return n.split(/\r?\n/).forEach(function(t){var n=t.split(":"),i=n.shift().trim();if(i){var r=n.join(":").trim();e.append(i,r)}}),e}function m(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new r(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var y={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(y.arrayBuffer)var v=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],x=function(t){return t&&DataView.prototype.isPrototypeOf(t)},b=ArrayBuffer.isView||function(t){return t&&v.indexOf(Object.prototype.toString.call(t))>-1};r.prototype.append=function(t,i){t=e(t),i=n(i);var r=this.map[t];this.map[t]=r?r+","+i:i},r.prototype["delete"]=function(t){delete this.map[e(t)]},r.prototype.get=function(t){return t=e(t),this.has(t)?this.map[t]:null},r.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},r.prototype.set=function(t,i){this.map[e(t)]=n(i)},r.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},r.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),i(t)},r.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),i(t)},r.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),i(t)},y.iterable&&(r.prototype[Symbol.iterator]=r.prototype.entries);var A=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];p.prototype.clone=function(){return new p(this,{body:this._bodyInit})},c.call(p.prototype),c.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new r(this.headers),url:this.url})},m.error=function(){var t=new m(null,{status:0,statusText:""});return t.type="error",t};var w=[301,302,303,307,308];m.redirect=function(t,e){if(w.indexOf(e)===-1)throw new RangeError("Invalid status code");return new m(null,{status:e,headers:{location:t}})},t.Headers=r,t.Request=p,t.Response=m,t.fetch=function(t,e){return new Promise(function(n,i){var r=new p(t,e),o=new XMLHttpRequest;o.onload=function(){var t={status:o.status,statusText:o.statusText,headers:g(o.getAllResponseHeaders()||"")};t.url="responseURL"in o?o.responseURL:t.headers.get("X-Request-URL");var e="response"in o?o.response:o.responseText;n(new m(e,t))},o.onerror=function(){i(new TypeError("Network request failed"))},o.ontimeout=function(){i(new TypeError("Network request failed"))},o.open(r.method,r.url,!0),"include"===r.credentials?o.withCredentials=!0:"omit"===r.credentials&&(o.withCredentials=!1),"responseType"in o&&y.blob&&(o.responseType="blob"),r.headers.forEach(function(t,e){o.setRequestHeader(e,t)}),o.send("undefined"==typeof r._bodyInit?null:r._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},,,,,,,,,,,,,,,,,,,,,,76,function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(397),s=i(a),l=n(398),u=i(l),d=n(84),c=i(d),h=n(403),p=i(h),f=function(){function t(e,n,i,o){r(this,t),this.aggregate=e,this.events=n,this.request=i,this.response=o}return o(t,null,[{key:"getAnalytics",value:function(){return t.getAnalytics.analytics||(t.getAnalytics.analytics=new t(new s["default"],new u["default"],c["default"],p["default"])),t.getAnalytics.analytics}}]),t}();e["default"]=f},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(314),u=i(l),d=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),s(e,[{key:"getDataValueSet",value:function(t){return this.fetch(t.withPath("dataValueSet"))}},{key:"getRawData",value:function(t){return this.fetch(t.withPath("rawData"))}},{key:"getDebugSql",value:function(t){return this.fetch(t.withPath("debug/sql"))}}]),e}(u["default"]);e["default"]=d},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(314),u=i(l),d=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),s(e,[{key:"getAggregate",value:function(t){return this.fetch(t.withPath("events/aggregate"))}},{key:"getCount",value:function(t){return this.fetch(t.withPath("events/count"))}},{key:"getCluster",value:function(t){return this.fetch(t.withPath("events/cluster"))}},{key:"getQuery",value:function(t){return this.fetch(t.withPath("events/query"))}}]),e}(u["default"]);e["default"]=d},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(437),s=n(26),l=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.endPoint,o=void 0===n?"analytics":n,a=e.format,s=void 0===a?"json":a,l=e.path,u=e.program,d=e.dimensions,c=void 0===d?[]:d,h=e.filters,p=void 0===h?[]:h,f=e.parameters,g=void 0===f?{}:f;i(this,t),this.endPoint=o,this.format=s.toLowerCase(),this.path=l,this.program=u,this.dimensions=c,this.filters=p,this.parameters=r({},g)}return o(t,[{key:"buildUrl",value:function(t){var e=this.dimensions;t&&t.sorted&&(e=(0,a.cloneDeep)(e),e.sort(function(t,e){return t.dimension>e.dimension}));var n=e.map(function(e){var n=e.dimension,i=e.items;return Array.isArray(i)&&i.length?(t&&t.sorted&&i.sort(),n+":"+i.map(s.customEncodeURIComponent).join(";")):n}),i=[this.endPoint,this.path,this.program].filter(function(t){return!!t}).join("/");return i+"."+this.format+"?dimension="+n.join("&dimension=")}},{key:"buildQuery",value:function(t){var e=this.filters;t&&t.sorted&&(e=(0,a.cloneDeep)(e),e.sort(function(t,e){return t.dimension>e.dimension}));var n=e.map(function(e){var n=e.dimension,i=e.items;return Array.isArray(i)&&i.length?(t&&t.sorted&&i.sort(),n+":"+i.map(s.customEncodeURIComponent).join(";")):n});return e.length&&(this.parameters.filter=n),this.parameters}}]),t}();e["default"]=l},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(84),d=i(u),c=function(t){return function(t){function e(){return o(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),l(e,[{key:"addDataDimension",value:function(t){return this.addDimension("dx",t)}},{key:"addPeriodDimension",value:function(t){return this.addDimension("pe",t)}},{key:"addOrgUnitDimension",value:function(t){return this.addDimension("ou",t)}},{key:"addDimension",value:function(t,e){var n=0,i=this.dimensions.find(function(e,i){return e.dimension===t&&(n=i,e)}),o=[],a=[];return i&&(a=i.items||[]),"string"==typeof e?o=[].concat(r(new Set([].concat(r(a),[e])))):Array.isArray(e)&&(o=[].concat(r(new Set([].concat(r(a),r(e)))))),i?this.dimensions.splice(n,1,{dimension:t,items:o}):this.dimensions.push({dimension:t,items:o}),new d["default"](this)}}]),e}(t)};e["default"]=c},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(84),d=i(u),c=function(t){return function(t){function e(){return o(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),l(e,[{key:"addDataFilter",value:function(t){return this.addFilter("dx",t)}},{key:"addPeriodFilter",value:function(t){return this.addFilter("pe",t)}},{key:"addOrgUnitFilter",value:function(t){return this.addFilter("ou",t)}},{key:"addFilter",value:function(t,e){var n=0,i=this.filters.find(function(e,i){return e.dimension===t&&(n=i,e)}),o=[],a=[];return i&&(a=i.items||[]),"string"==typeof e?o=[].concat(r(new Set([].concat(r(a),[e])))):Array.isArray(e)&&(o=[].concat(r(new Set([].concat(r(a),r(e)))))),i?this.filters.splice(n,1,{dimension:t,items:o}):this.filters.push({dimension:t,items:o}),new d["default"](this)}}]),e}(t)};e["default"]=c},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(84),d=i(u),c=function(t){return function(t){
function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),l(e,[{key:"withParameters",value:function(t){return t&&(this.parameters=s({},this.parameters,t)),new d["default"](this)}},{key:"withPath",value:function(t){return t&&(this.path=t),new d["default"](this)}},{key:"withFormat",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"json";return this.format=t,new d["default"](this)}},{key:"withAggregationType",value:function(t){var e=t.toUpperCase(),n=new Set(["AVERAGE","AVERAGE_SUM_ORG_UNIT","COUNT","LAST","LAST_AVERAGE_ORG_UNIT","MIN","MAX","STDDEV","SUM","VARIANCE"]);return n.has(e)?this.parameters.aggregationType=e:"DEFAULT"!==e&&(console.warn('d2.analytics.request.withAggregationType(): "'+t+'" not listed as possible value'),this.parameters.aggregationType=t),new d["default"](this)}},{key:"withMeasureCriteria",value:function(t){return t&&(this.parameters.measureCriteria=t),new d["default"](this)}},{key:"withPreAggregationMeasureCriteria",value:function(t){return t&&(this.parameters.preAggregationMeasureCriteria=t),new d["default"](this)}},{key:"withSkipMeta",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.parameters.skipMeta=t,new d["default"](this)}},{key:"withSkipData",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.parameters.skipData=t,new d["default"](this)}},{key:"withHierarchyMeta",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.parameters.hierarchyMeta=t,new d["default"](this)}},{key:"withIgnoreLimit",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.parameters.ignoreLimit=t,new d["default"](this)}},{key:"withTableLayout",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.parameters.tableLayout=t,new d["default"](this)}},{key:"withHideEmptyRows",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.parameters.hideEmptyRows=t,new d["default"](this)}},{key:"withHideEmptyColumns",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.parameters.hideEmptyColumns=t,new d["default"](this)}},{key:"withShowHierarchy",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.parameters.showHierarchy=t,new d["default"](this)}},{key:"withIncludeNumDen",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.parameters.includeNumDen=t,new d["default"](this)}},{key:"withIncludeMetadataDetails",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.parameters.includeMetadataDetails=t,new d["default"](this)}},{key:"withDisplayProperty",value:function(t){var e=t.toUpperCase(),n=new Set(["NAME","SHORTNAME"]);return n.has(e)?this.parameters.displayProperty=e:(console.warn('d2.analytics.request.withDisplayProperty(): "'+t+'" not listed as possible value'),this.parameters.displayProperty=t),new d["default"](this)}},{key:"withOutputIdScheme",value:function(t){return t&&(this.parameters.outputIdScheme=t),new d["default"](this)}},{key:"withInputIdScheme",value:function(t){return t&&(this.parameters.inputIdScheme=t),new d["default"](this)}},{key:"withApprovalLevel",value:function(t){return t&&(this.parameters.approvalLevel=t),new d["default"](this)}},{key:"withRelativePeriodDate",value:function(t){return t&&(this.parameters.relativePeriodDate=t),new d["default"](this)}},{key:"withUserOrgUnit",value:function(t){return t&&(this.parameters.userOrgUnit=t),new d["default"](this)}},{key:"withColumns",value:function(t){return t&&(this.parameters.columns=t),new d["default"](this)}},{key:"withRows",value:function(t){return t&&(this.parameters.rows=t),new d["default"](this)}},{key:"withStartDate",value:function(t){return t&&(this.parameters.startDate=t),new d["default"](this)}},{key:"withEndDate",value:function(t){return t&&(this.parameters.endDate=t),new d["default"](this)}},{key:"withProgram",value:function(t){return t&&(this.program=t),new d["default"](this)}},{key:"withStage",value:function(t){return t&&(this.parameters.stage=t),new d["default"](this)}},{key:"withEventStatus",value:function(t){var e=t.toUpperCase(),n=new Set(["ACTIVE","COMPLETED","SCHEDULED","OVERDUE","SKIPPED"]);return n.has(e)?this.parameters.eventStatus=e:(console.warn('d2.analytics.request.withEventStatus(): "'+t+'" not listed as possible value'),this.parameters.eventStatus=t),new d["default"](this)}},{key:"withProgramStatus",value:function(t){var e=t.toUpperCase(),n=new Set(["ACTIVE","COMPLETED","CANCELLED"]);return n.has(e)?this.parameters.programStatus=e:(console.warn('d2.analytics.request.withProgramStatus(): "'+t+'" not listed as possible value'),this.parameters.programStatus=t),new d["default"](this)}},{key:"withOuMode",value:function(t){var e=t.toUpperCase(),n=new Set(["DESCENDANTS","CHILDREN","SELECTED"]);return n.has(e)?this.parameters.ouMode=e:(console.warn('d2.analytics.request.withOuMode(): "'+t+'" not listed as possible value'),this.parameters.ouMode=t),new d["default"](this)}},{key:"withAsc",value:function(t){return t&&(this.parameters.asc=t),new d["default"](this)}},{key:"withDesc",value:function(t){return t&&(this.parameters.desc=t),new d["default"](this)}},{key:"withCoordinatesOnly",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.parameters.coordinatesOnly=t,new d["default"](this)}},{key:"withPage",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.parameters.page=t,new d["default"](this)}},{key:"withPageSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.parameters.pageSize=t,new d["default"](this)}},{key:"withValue",value:function(t){return t&&(this.parameters.value=t),new d["default"](this)}},{key:"withSortOrder",value:function(t){var e=t.toUpperCase(),n=new Set(["ASC","DESC"]);return n.has(e)?this.parameters.sortOrder=e:(console.warn('d2.analytics.request.withSortOrder(): "'+t+'" not listed as possible value'),this.parameters.sortOrder=t),new d["default"](this)}},{key:"withLimit",value:function(t){if(t){var e=t>1e4?1e4:t;this.parameters.limit=e}return new d["default"](this)}},{key:"withOutputType",value:function(t){var e=t.toUpperCase(),n=new Set(["EVENT","ENROLLMENT","TRACKED_ENTITY_INSTANCE"]);return n.has(e)?this.parameters.outputType=e:(console.warn('d2.analytics.request.withOutputType(): "'+t+'" not listed as possible value'),this.parameters.outputType=t),new d["default"](this)}},{key:"withCollapseDataDimensions",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.parameters.collapseDataDimensions=t,new d["default"](this)}},{key:"withSkipRounding",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.parameters.skipRounding=t,new d["default"](this)}},{key:"withAggregateData",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.parameters.aggregateData=t,new d["default"](this)}},{key:"withClusterSize",value:function(t){return t&&(this.parameters.clusterSize=t),new d["default"](this)}},{key:"withCoordinateField",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"EVENT";return this.parameters.coordinateField=t,new d["default"](this)}},{key:"withBbox",value:function(t){return t&&(this.parameters.bbox=t),new d["default"](this)}},{key:"withIncludeClusterPoints",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.parameters.includeClusterPoints=t,new d["default"](this)}}]),e}(t)};e["default"]=c},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(404),u=i(l),d={0:"No",1:"Yes"},c="ouname",h="ou",p=["psi","ps","eventdate","longitude","latitude","ouname","oucode","eventdate","eventdate"],f=["dy"].concat(p),g=function(t){switch(t){case"STRING":case"TEXT":return function(t){return""+t};case"INTEGER":case"NUMBER":return function(t){return!Number.isNaN(+t)&&Number.isFinite(+t)?parseFloat(+t):t};default:return function(t){return t}}},m=function(t,e){return!f.includes(t.name)&&Boolean(Array.isArray(e)&&0===e.length)},y=function(t,e){return!p.includes(t.name)&&Boolean(Array.isArray(e)&&0===e.length)},v=function(t,e){return(e||"")+" "+t},x=function(t,e){return"BOOLEAN"===e?d[t]:t},b=function(){function t(e){o(this,t),e&&(this.response=e,this.headers=this.extractHeaders(),this.rows=this.extractRows(),this.metaData=this.extractMetadata())}return s(t,[{key:"extractHeaders",value:function(){var t=this.response.metaData.dimensions,e=this.response.headers||[];return e.map(function(e,n){return new u["default"](e,{isPrefix:m(e,t[e.name]),isCollect:y(e,t[e.name]),index:n})})}},{key:"extractRows",value:function(){var t=this.headers.filter(function(t){return t.optionSet}),e=this.response.rows;if(t.length){e=e.slice();var n=this.optionCodeIdMap();t.forEach(function(t){e.forEach(function(i,r){var o=n[t.name][i[t.index]];o&&(e[r][t.index]=o)})})}return e}},{key:"extractMetadata",value:function(){var t=this,e=a({},this.response.metaData),n=e.dimensions,i=e.items;if(this.headers.filter(function(t){return!p.includes(t.name)}).forEach(function(e){var r=void 0;e.isCollect?(r=t.getSortedUniqueRowIdStringsByHeader(e),n[e.name]=r):r=n[e.name],e.isPrefix&&(n[e.name]=r.map(function(t){return v(t,e.name)}),n[e.name].forEach(function(t,n){var o=r[n],a=e.valueType,s=x(o,a);i[t]={name:s}}))}),this.hasHeader(c)&&this.hasHeader(h)){var r=this.getHeader(c).getIndex(),o=this.getHeader(h).getIndex(),s=void 0,l=void 0;this.rows.forEach(function(t){s=t[o],void 0===i[s]&&(l=t[r],i[s]={name:l})})}return e}},{key:"getHeader",value:function(t){return this.headers.find(function(e){return e.name===t})}},{key:"hasHeader",value:function(t){return void 0!==this.getHeader(t)}},{key:"getSortedUniqueRowIdStringsByHeader",value:function(t){var e=g(t.valueType),n=g("STRING"),i=Array.from(new Set(this.rows.map(function(n){return e(n[t.index])}))).filter(function(t){return""!==t});return i.sort().map(function(t){return n(t)})}},{key:"optionCodeIdMap",value:function(){var t=this.response.metaData,e=t.dimensions,n=t.items,i={};return this.headers.filter(function(t){return"string"==typeof t.optionSet}).forEach(function(t){var o=e[t.name];i[t.name]=o.map(function(t){return r({},n[t].code,t)}).reduce(function(t,e){return Object.assign(t,e)},{})}),i}},{key:"sortOrganisationUnitsHierarchy",value:function(){var t=this,e=this.metaData.dimensions.ou;e.forEach(function(n,i){var r=t.metaData.ouHierarchy[n],o=[n],a=[];r.split("/").reverse().forEach(function(t){o.unshift(t)}),o.forEach(function(e){t.metaData.items[e]&&a.push(t.metaData.items[e].name)}),e[i]={id:n,fullName:a.join(" / ")}}),e.sort(function(t,e){var n=t.fullName,i=e.fullName;return n<i?-1:n>i?1:0}),this.metaData.dimensions.ou=e.map(function(t){return t.id})}}]),t}();e["default"]=b},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{isPrefix:!1,isCollect:!1,index:void 0};n(this,t),Object.assign(this,e,i)}return i(t,[{key:"getIndex",value:function(){return this.index}},{key:"setIndex",value:function(t){var e=+t;!Number.isNaN(e)&&Number.isFinite(e)&&(this.index=parseInt(e,10))}}]),t}();e["default"]=r},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(316),s=i(a),l=n(13),u=function(){function t(){r(this,t)}return o(t,null,[{key:"create",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=e.filter(function(t){return t});if(!i.every(function(t){return(0,l.isType)(t,"object")}))throw new Error("Expected Config parameter to have type object");return Object.assign.apply(Object,[{},s["default"]].concat(e))}},{key:"processPreInitConfig",value:function(t,e){t.headers&&e.setDefaultHeaders(t.headers),t.baseUrl&&e.setBaseUrl(t.baseUrl)}},{key:"processConfigForD2",value:function(t,e){var n=e.Api.getApi();e.model.ModelDefinition.prototype.api=n,e.models=e.model.ModelDefinitions.getModelDefinitions(),(0,l.isString)(t.baseUrl)?n.setBaseUrl(t.baseUrl):n.setBaseUrl("/api"),t.headers&&n.setDefaultHeaders(t.headers),t.unauthorizedCb&&n.setUnauthorizedCallback(t.unauthorizedCb),t.i18n&&t.i18n.sources&&Array.from(t.i18n.sources).forEach(function(t){return e.i18n.addSource(t)}),t.i18n&&t.i18n.strings&&e.i18n.addStrings(Array.from(t.i18n.strings))}}]),t}();e["default"]=u},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){var e=void 0;return e=t.userCredentials?Object.assign({},t.userCredentials,t):Object.assign({},t),Object.keys(e).reduce(function(t,n){return m.has(n)?e[n].map&&(t[v[n]]=e[n].map(function(t){return t.id})):t[n]=e[n],t},{})}function a(t){return Boolean(t&&h.noCreateAllowedFor.has(t.name))}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(407),u=i(l),d=n(408),c=i(d),h=n(316),p=n(412),f=i(p),g=Symbol("models"),m=new Set(["userCredentials","userGroups","userRoles","organisationUnits","dataViewOrganisationUnits"]),y={READ:["READ"],CREATE:["CREATE","CREATE_PUBLIC","CREATE_PRIVATE"],CREATE_PUBLIC:["CREATE_PUBLIC"],CREATE_PRIVATE:["CREATE_PRIVATE"],DELETE:["DELETE"],UPDATE:["UPDATE"],EXTERNALIZE:["EXTERNALIZE"]},v=Array.from(m).reduce(function(t,e){return t[e]=Symbol(e),t},{}),x=function(){function t(e,n,i,a){r(this,t),Object.assign(this,o(e)),this.authorities=n,this[g]=i,this.userSettings=a,this.dataStore=f["default"].getUserDataStore()}return s(t,[{key:"getUserGroups",value:function(){var t=this[v.userGroups];return this[g].userGroup.list({filter:["id:in:["+t.join(",")+"]"],paging:!1})}},{key:"getUserRoles",value:function(){var t=this[v.userRoles];return this[g].userRole.list({filter:["id:in:["+t.join(",")+"]"],paging:!1})}},{key:"getOrganisationUnits",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this[v.organisationUnits];return this[g].organisationUnit.list(Object.assign({fields:":all,displayName,path,children[id,displayName,path,children::isNotEmpty]",paging:!1},t,{filter:["id:in:["+e.join(",")+"]"]}))}},{key:"getDataViewOrganisationUnits",value:function(t){var e=this[v.dataViewOrganisationUnits];return this[g].organisationUnit.list(Object.assign({fields:":all,displayName,path,children[id,displayName,path,children::isNotEmpty]",paging:!1},t,{filter:["id:in:["+e.join(",")+"]"]}))}},{key:"checkAuthorityForType",value:function(t,e){var n=this;return!(!e||!Array.isArray(e.authorities))&&e.authorities.filter(function(e){return t.some(function(t){return t===e.type})}).some(function(t){return t.authorities.some(function(t){return n.authorities.has(t)})})}},{key:"checkCreateAuthorityForType",value:function(t,e){return!a(e)&&this.checkAuthorityForType(t,e)}},{key:"canCreate",value:function(t){return this.checkCreateAuthorityForType(y.CREATE,t)}},{key:"canCreatePublic",value:function(t){return this.checkCreateAuthorityForType(y.CREATE_PUBLIC,t)}},{key:"canCreatePrivate",value:function(t){return this.checkCreateAuthorityForType(y.CREATE_PRIVATE,t)}},{key:"canDelete",value:function(t){return this.checkAuthorityForType(y.DELETE,t)}},{key:"canUpdate",value:function(t){return!!this.checkAuthorityForType(y.UPDATE,t)||this.checkAuthorityForType(y.CREATE,t)}}],[{key:"create",value:function(e,n,i,r){return new t(e,u["default"].create(n),i,new c["default"](r))}}]),t}();e["default"]=x},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=Symbol("authorities"),o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];n(this,t),this[r]=new Set(e)}return i(t,[{key:"has",value:function(t){return!!this[r].has("ALL")||this[r].has(t)}}],[{key:"create",value:function(e){return new t(e)}}]),t}();e["default"]=o},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(14),s=i(a),l=n(13),u=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s["default"].getApi();r(this,t),this.api=n,e&&(this.settings=e)}return o(t,[{key:"all",value:function(){var t=this;return this.settings?Promise.resolve(this.settings):this.api.get("userSettings").then(function(e){return t.settings=e,Promise.resolve(t.settings)})}},{key:"get",value:function(t){function e(t){try{return JSON.parse(t)}catch(e){return t}}var n=this;return this.settings&&this.settings[t]?Promise.resolve(this.settings[t]):new Promise(function(i,r){if(!(0,l.isString)(t))throw new TypeError('A "key" parameter should be specified when calling get() on userSettings');n.api.get(["userSettings",t].join("/")).then(function(o){var a=e(o);n[t]=a,a&&i(a),r(new Error("The requested userSetting has no value or does not exist."))})})}},{key:"set",value:function(t,e){delete this.settings;var n=["userSettings",t].join("/");return null===e||0===(""+e).length?this.api["delete"](n):this.api.post(n,e,{headers:{"Content-Type":"text/plain"}})}}]),t}();e["default"]=u},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y["default"],n=e.getApi();n.setBaseUrl("");var i={getBaseUrl:function(){return this.activities.dhis.href}};return n.get(""+t).then(function(t){return Object.assign({},t,i)})}function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y["default"],e=t.getApi();return D&&S["default"].processPreInitConfig(L,e),e.get("userSettings")}function s(t,e){var n=[],i=function(e){return t.get("schemas/"+e,{fields:P.fieldsForSchemas})};if(Array.isArray(e)){var r=e.map(i).concat([]),o=Promise.all(r).then(function(t){return{schemas:t}});n.push(o),e.length>0?n.push(t.get("attributes",{fields:":all,optionSet[:all,options[:all]]",paging:!1})):n.push({attributes:[]})}else n.push(t.get("schemas",{fields:P.fieldsForSchemas})),n.push(t.get("attributes",{fields:":all,optionSet[:all,options[:all]]",paging:!1}));return n}function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y["default"],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p["default"].getLogger(),i=e.getApi(),o=S["default"].create(L,t),l={models:void 0,model:g["default"],Api:e,system:x["default"].getSystem(),i18n:A["default"].getI18n(),dataStore:T["default"].getDataStore(),analytics:I["default"].getAnalytics(),geoFeatures:O["default"].getGeoFeatures()};S["default"].processConfigForD2(o,l),D?D=!1:R=c.Deferred.create();var u=s(i,o.schemas),d=[i.get("me",{fields:":all,organisationUnits[id],userGroups[id],userCredentials[:all,!user,userRoles[id]"}),i.get("me/authorization"),a(e)],h=[i.get("system/info"),i.get("apps")];return Promise.all([].concat(r(u),d,h,[l.i18n.load()])).then(function(t){var e={schemas:(0,c.pick)("schemas")(t[0]),attributes:(0,c.pick)("attributes")(t[1]),currentUser:t[2],authorities:t[3],userSettings:t[4],systemInfo:t[5],apps:t[6]};return e.schemas.filter(function(t){return t.metadata}).map(function(t){return t.apiEndpoint=(0,c.updateAPIUrlWithBaseUrlVersionNumber)(t.apiEndpoint,o.baseUrl),t}).forEach(function(t){var n=e.attributes.filter(function(e){var n=[t.singular,"Attribute"].join("");return e[n]===!0});Object.prototype.hasOwnProperty.call(l.models,t.singular)||l.models.add(g["default"].ModelDefinition.createFromSchema(t,n))}),l.currentUser=C["default"].create(e.currentUser,e.authorities,l.models,e.userSettings),l.system.setSystemInfo(e.systemInfo),l.system.setInstalledApps(e.apps),R.resolve(l),R.promise})["catch"](function(t){return n.error("Unable to get schemas from the api",JSON.stringify(t),t),R.reject("Unable to get schemas from the DHIS2 API"),R.promise})}function u(){return R.promise}function d(t){console.warn("[d2] Overriding d2 instance; you better be sure about this."),R.resolve(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.config=void 0,e.getManifest=o,e.getUserSettings=a,e.init=l,e.getInstance=u,e.setInstance=d,n(373);var c=n(26),h=n(317),p=i(h),f=n(433),g=i(f),m=n(14),y=i(m),v=n(323),x=i(v),b=n(415),A=i(b),w=n(405),S=i(w),E=n(406),C=i(E),P=n(322),M=n(410),T=i(M),k=n(396),I=i(k),_=n(414),O=i(_),D=!0,R=c.Deferred.create(),L=S["default"].create(),B=e.config=L;e["default"]={init:l,config:B,getInstance:u,getUserSettings:a,getManifest:o}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=function m(t,e,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,e);if(void 0===i){var r=Object.getPrototypeOf(t);return null===r?void 0:m(r,e,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},u=n(315),d=i(u),c=n(411),h=i(c),p=n(14),f=i(p),g=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f["default"].getApi(),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"dataStore";return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,h["default"]))}return a(e,t),s(e,[{key:"get",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"get",this).call(this,t,n)}},{key:"create",value:function(t){return l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"create",this).call(this,t)}}],[{key:"getDataStore",value:function(){return e.getDataStore.dataStore||(e.getDataStore.dataStore=new e),e.getDataStore.dataStore}}]),e}(d["default"]);e["default"]=g},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(14),u=i(l),d=n(239),c=i(d),h=function(t){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u["default"].getApi(),a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"dataStore";return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i,a))}return a(e,t),s(e,[{key:"getMetaData",value:function(t){return this.api.get([this.endPoint,this.namespace,t,"metaData"].join("/"))}}]),e}(c["default"]);e["default"]=h},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=function m(t,e,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,e);if(void 0===i){var r=Object.getPrototypeOf(t);return null===r?void 0:m(r,e,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},u=n(315),d=i(u),c=n(413),h=i(c),p=n(14),f=i(p),g=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f["default"].getApi(),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"userDataStore";return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,h["default"]))}return a(e,t),s(e,[{key:"get",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"get",this).call(this,t,n)}},{key:"create",value:function(t){return l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"create",this).call(this,t)}}],[{key:"getUserDataStore",value:function(){return e.getUserDataStore.dataStore||(e.getUserDataStore.dataStore=new e(f["default"].getApi(),"userDataStore")),e.getUserDataStore.dataStore}}]),e}(d["default"]);e["default"]=g},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(14),l=i(s),u=n(239),d=i(u),c=function(t){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l["default"].getApi(),a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"userDataStore";return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i,a))}return a(e,t),e}(d["default"]);e["default"]=c},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(14),s=i(a),l=n(324),u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments[1];r(this,t),this.orgUnits=e,this.displayName=n}return o(t,[{key:"byOrgUnit",value:function(e){if(!e)return this;var n=[].concat(e);if(!n.every(t.isValidOrgUnit))throw new Error("Invalid organisation unit: "+e);return new t(n,this.displayName)}},{key:"displayProperty",value:function(e){if(!e)return this;if(!t.isValidDisplayName(e))throw new Error("Invalid display property: "+e);return new t(this.orgUnits,e)}},{key:"getAll",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=s["default"].getApi(),n=t;return this.orgUnits.length&&(n.ou="ou:"+this.orgUnits.join(";")),this.displayName&&(n.displayProperty=this.displayName),e.get("geoFeatures",n)}}],[{key:"isValidOrgUnit",value:function(e){return(0,l.isValidUid)(e)||t.isValidOrgUnitLevel(e)||t.isValidOrgUnitGroup(e)||t.isValidUserOrgUnit(e)}},{key:"isValidOrgUnitLevel",value:function(t){return/^LEVEL-[0-9]+$/.test(t)}},{key:"isValidOrgUnitGroup",value:function(t){var e=t.match(/OU_GROUP-(.*)$/);return Array.isArray(e)&&(0,l.isValidUid)(e[1])}},{key:"isValidUserOrgUnit",value:function(e){return e===t.USER_ORGUNIT||e===t.USER_ORGUNIT_CHILDREN||e===t.USER_ORGUNIT_GRANDCHILDREN}},{key:"isValidDisplayName",value:function(e){return e===t.DISPLAY_PROPERTY_NAME||e===t.DISPLAY_PROPERTY_SHORTNAME}},{key:"getGeoFeatures",value:function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return new(Function.prototype.bind.apply(t,[null].concat(n)))}}]),t}();u.DISPLAY_PROPERTY_NAME="NAME",u.DISPLAY_PROPERTY_SHORTNAME="SHORTNAME",u.USER_ORGUNIT="USER_ORGUNIT",u.USER_ORGUNIT_CHILDREN="USER_ORGUNIT_CHILDREN",u.USER_ORGUNIT_GRANDCHILDREN="USER_ORGUNIT_GRANDCHILDREN",e["default"]=u},function(t,e,n){"use strict";function i(t){
return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(14),l=i(s),u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l["default"].getApi();r(this,t),this.sources=e,this.api=n,this.strings=new Set,this.translations=void 0}return a(t,[{key:"addSource",value:function(t){this.sources.push(t)}},{key:"addStrings",value:function(t){var e=this;"string"==typeof t&&t.trim().length>0?this.strings.add(t.trim()):Array.from(t).filter(function(t){return t&&(""+t).trim().length>0}).forEach(function(t){return e.strings.add(t)})}},{key:"load",value:function(){function t(t){return t.split("\n").reduce(function(t,e){var n=e.split("=").map(function(t){return t.trim()}),i=o(n,2),r=i[0],a=i[1];return void 0===r||void 0===a||t.hasOwnProperty(r)||(t[r]=a.replace(/\\u([0-9a-f]{4})/gi,function(t,e){return String.fromCharCode(parseInt(e,16))})),t},{})}var e=this,n=this;n.translations={};var i=[];return this.sources.forEach(function(e){i.push(n.api.request("GET",e).then(function(e){return Promise.resolve(t(e))},function(){return Promise.resolve({})}))}),Promise.all(i).then(function(t){return t.forEach(function(t){Object.keys(t).forEach(function(i){n.translations.hasOwnProperty(i)||(n.translations[i]=t[i]),e.strings["delete"](i)})}),e.strings.size>0?n.api.post("i18n",Array.from(n.strings)).then(function(t){return Object.keys(t).filter(function(e){return e!==t[e]}).forEach(function(e){n.translations[e]=t[e],n.strings["delete"](e)}),Promise.resolve(n.translations)}):Promise.resolve(n.translations)})}},{key:"getTranslation",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===this.translations)throw new Error("Tried to translate before loading translations!");var n=this.translations.hasOwnProperty(t)?this.translations[t]:"** "+t+" **";return Object.keys(e).length?n.replace(/\$\$(.+?)\$\$/gi,function(t,n){return e[n]||""}):n}},{key:"isTranslated",value:function(t){if(void 0===this.translations)throw new Error("Tried to translate before loading translations!");return this.translations.hasOwnProperty(t)}},{key:"getUntranslatedStrings",value:function(){return this.translations?Array.from(this.strings):void 0}}],[{key:"getI18n",value:function(){return new t}}]),t}();e["default"]=u},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(26),a=n(13),s=function(){function t(){i(this,t)}return r(t,[{key:"getTypes",value:function(){return["TEXT","NUMBER","INTEGER","BOOLEAN","EMAIL","PASSWORD","URL","PHONENUMBER","GEOLOCATION","COLOR","COMPLEX","COLLECTION","REFERENCE","DATE","COMPLEX","IDENTIFIER","CONSTANT"]}},{key:"typeLookup",value:function(t){return this.getTypes().indexOf(t)>=0&&(0,a.isString)(t)?t:(0,o.throwError)(['Type from schema "',t,'" not found available type list.'].join(""))}}]),t}();e["default"]=new s},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(13),a={equals:"eq",like:"like",ilike:"ilike",notEqual:"ne",token:"token",nToken:"!token"},s=function(){function t(e){i(this,t),this.addFilterCallback=e,this.propertyName="name",this.comparator="like",this.filterValue=void 0}return r(t,[{key:"on",value:function(t){return(0,o.checkDefined)(t,"Property name to filter on"),this.propertyName=t,this}},{key:"getQueryParamFormat",value:function(){return[this.propertyName,this.comparator,this.filterValue].join(":")}},{key:"operator",value:function(t,e){return(0,o.checkDefined)(t,"operator"),(0,o.checkDefined)(e,"filterValue"),this.comparator=t,this.filterValue=e,this.addFilterCallback(this)}}],[{key:"getFilter",value:function(e){return new t(e)}}]),t}();Object.keys(a).forEach(function(t){Object.defineProperty(s.prototype,t,{value:function(e){return(0,o.checkDefined)(e,"filterValue"),this.comparator=a[t],this.filterValue=e,this.addFilterCallback(this)}})}),e["default"]=s},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(13),s=n(26),l=n(417),u=i(l),d=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];r(this,t),this.filters=n,this.modelDefinition=e,this.rootJunction=null}return o(t,[{key:"on",value:function(t){var e=this.add.bind(this);return u["default"].getFilter(e).on(t)}},{key:"add",value:function(t){if(!(0,a.isType)(t,u["default"]))throw new TypeError("filter should be an instance of Filter");return this.filters.push(t),this.modelDefinition}},{key:"list",value:function(){return this.modelDefinition.list()}},{key:"getQueryFilterValues",value:function(){return this.filters.map(function(t){return t.getQueryParamFormat()})}},{key:"getFilters",value:function(){return this.getQueryFilterValues()}},{key:"getFilterList",value:function(){return this.filters.map(s.identity)}},{key:"logicMode",value:function(t){return(0,a.checkValidRootJunction)(t),this.rootJunction=t,this}}],[{key:"getFilters",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new t(e,n)}}]),t}();e["default"]=d},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=function f(t,e,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,e);if(void 0===i){var r=Object.getPrototypeOf(t);return null===r?void 0:f(r,e,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},u=n(14),d=i(u),c=n(318),h=i(c),p=function(t){function e(t,n,i,a,s){r(this,e);var l=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,a,void 0));return l.propName=i,l.dirty=!1,l.added=new Set,l.removed=new Set,l.hasUnloadedData=a===!0||void 0===a,l.api=s,l.parentModel=t,l}return a(e,t),s(e,[{key:"add",value:function(t){return this.valuesContainerMap.has(t.id)?this:(l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"add",this).call(this,t),this.removed.has(t.id)?this.removed["delete"](t.id):this.added.add(t.id),this.updateDirty(),this)}},{key:"remove",value:function(t){return h["default"].throwIfContainsOtherThanModelObjects([t]),h["default"].throwIfContainsModelWithoutUid([t]),this["delete"](t.id)&&(this.added.has(t.id)?this.added["delete"](t.id):this.removed.add(t.id)),this.updateDirty(),this}},{key:"updateDirty",value:function(){return this.dirty=this.added.size>0||this.removed.size>0,this.dirty}},{key:"resetDirtyState",value:function(){this.dirty=!1,this.added=new Set,this.removed=new Set}},{key:"isDirty",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t?this.dirty||this.toArray().filter(function(t){return t&&t.isDirty()===!0}).length>0:this.dirty}},{key:"save",value:function(){var t=this;if(!this.isDirty())return Promise.resolve({});var e=[this.parentModel.href,this.modelDefinition.plural].join("/"),n={additions:Array.from(this.added).map(function(t){return{id:t}}),deletions:Array.from(this.removed).map(function(t){return{id:t}})};return this.api.post(e,n).then(function(){return t.resetDirtyState(),Promise.resolve({})})["catch"](function(t){return Promise.reject("Failed to alter collection:",t)})}},{key:"load",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.hasUnloadedData&&!n)return Promise.resolve(this);var i=[this.parentModel.modelDefinition.apiEndpoint,this.parentModel.id].join("/"),r=Object.assign({paging:!1},t,{fields:this.propName+"["+(t&&t.fields||":all")+"]"});return this.api.get(i,r).then(function(t){return t[e.propName]}).then(function(t){return Array.isArray(t)&&(e.valuesContainerMap.clear(),t.forEach(function(t){return e.valuesContainerMap.set(t.id,e.modelDefinition.create(t))})),e.hasUnloadedData=!1,Promise.resolve(e)})}}],[{key:"create",value:function(t,n,i,r){return new e(t,n,i,r,d["default"].getApi())}}]),e}(h["default"]);e["default"]=p},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={dataDimension:!0}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={dataDimension:!0}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={aggregationType:"SUM",valueType:"NUMBER"}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={dataDimension:!0}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={expiryDays:0,openFuturePeriods:0,timelyDays:15,periodType:"Monthly"}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={mapService:"WMS",imageFormat:"PNG",mapLayerPosition:"BASEMAP"}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={dataDimension:!0}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={version:0,completeEventsExpiryDays:0,expiryDays:0}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={notificationTrigger:"COMPLETION",notificationRecipient:"USERS_AT_ORGANISATION_UNIT"}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={notificationRecipient:"ORGANISATION_UNIT_CONTACT",deliveryChannels:[],notifyUsersInHierarchyOnly:!1}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={importance:"MEDIUM",periodType:"Monthly",operator:"not_equal_to",leftSide:{missingValueStrategy:"NEVER_SKIP",description:"",expression:""},rightSide:{missingValueStrategy:"NEVER_SKIP",description:"",expression:""}}},function(t,e,n){"use strict";function i(t,e,n,i){return Object.keys(t).reduce(function(o,l){return o[l]={enumerable:!0,get:function(){var t=e();return t.filter(function(t){return s(t)===l}).reduce(function(t,e){return e.value},void 0)},set:function(o){var s=e().filter(function(t){return t.attribute.name===l}).reduce(function(t,e){return e},void 0);if(!(0,r.areDefinedAndEqual)(a(s),o)){if(s){if((0,r.isNullUndefinedOrEmptyString)(o)){var u=e().filter(function(t){return t!==s});n(u)}s.value=o}else n(e().concat({value:o,attribute:{id:t[l].id,name:t[l].name}}));i()}}},o},{})}Object.defineProperty(e,"__esModule",{value:!0});var r=n(13),o=n(26),a=(0,o.pick)("value"),s=(0,o.pick)("attribute.name");e["default"]=i},function(t,e,n){"use strict";function i(t,e){return Boolean(l(e,t)&&(0,a.hasOwnProperty)(t.modelDefinition.modelValidations,e))}function r(t){var e=d(t);return"Created"===u(t)&&(0,o.isValidUid)(e)&&(this.dataValues.id=e,this.dataValues.href=[this.modelDefinition.apiEndpoint,this.dataValues.id].join("/")),this.resetDirtyState(),t}Object.defineProperty(e,"__esModule",{value:!0}),e.pickOwnerFromModelValidation=e.pickEmbeddedObjectFromModelValidation=e.pickTypeFromModelValidation=void 0,e.hasModelValidationForProperty=i,e.updateModelFromResponseStatus=r;var o=n(324),a=n(13),s=n(26),l=function(t,e){return Boolean((0,s.pick)("modelDefinition.modelValidations."+t)(e))},u=(0,s.pick)("httpStatus"),d=(0,s.pick)("response.uid"),c=function(t){return(0,s.pick)("modelDefinition.modelValidations."+t)},h=(0,s.pick)("type"),p=(0,s.pick)("embeddedObject"),f=(0,s.pick)("owner");e.pickTypeFromModelValidation=function(t,e){return h(c(t)(e))},e.pickEmbeddedObjectFromModelValidation=function(t,e){return p(c(t)(e))},e.pickOwnerFromModelValidation=function(t,e){return f(c(t)(e))}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(241),o=i(r),a=n(240),s=i(a),l=n(319),u=i(l),d=n(320),c=i(d),h=n(321),p=i(h);e["default"]={ModelBase:o["default"],Model:s["default"],ModelDefinition:u["default"],ModelDefinitions:c["default"],ModelValidation:p["default"]}},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(13),a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{page:1,pageCount:1,query:{}},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{list:function(){return Promise.reject("No handler available")}};i(this,t),this.page=e.page,this.pageCount=e.pageCount,this.total=e.total,this.nextPage=e.nextPage,this.prevPage=e.prevPage,this.query=e.query,this.pagingHandler=n}return r(t,[{key:"hasNextPage",value:function(){return(0,o.isDefined)(this.nextPage)}},{key:"hasPreviousPage",value:function(){return(0,o.isDefined)(this.prevPage)}},{key:"getNextPage",value:function(){return this.hasNextPage()?this.goToPage(this.page+1):Promise.reject("There is no next page for this collection")}},{key:"getPreviousPage",value:function(){return this.hasPreviousPage()?this.goToPage(this.page-1):Promise.reject("There is no previous page for this collection")}},{key:"goToPage",value:function(t){if(t<1)throw new Error("PageNr can not be less than 1");if(t>this.pageCount)throw new Error("PageNr can not be larger than the total page count of "+this.pageCount);return this.pagingHandler.list(Object.assign({},this.query,{page:t}))}}]),t}();e["default"]=a},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(14),s=i(a),l=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s["default"].getApi();r(this,t),this.api=e,this.configuration=void 0,this.configPromise=null}return o(t,[{key:"all",value:function(t){var e=this;return null!==this.configPromise&&t!==!0||(this.configPromise=this.api.get("configuration").then(function(t){return e.configuration=t,e.configuration})),this.configPromise}},{key:"get",value:function(t,e){return this.all(e).then(function(e){return e.hasOwnProperty(t)?Promise.resolve(e[t]):Promise.reject("Unknown config option: "+t)})}},{key:"set",value:function(t,e){var n=this,i=void 0;return"systemId"===t?Promise.reject("The system ID can't be changed"):(i="feedbackRecipients"!==t&&"selfRegistrationOrgUnit"!==t&&"selfRegistrationRole"!==t||"null"!==e&&null!==e?"corsWhitelist"===t?this.api.post(["configuration",t].join("/"),e.trim().split("\n")):this.api.post(["configuration",t].join("/"),e,{dataType:"text",contentType:"text/plain"}):this.api["delete"](["configuration",t].join("/")),i.then(function(){return n.configuration=void 0,Promise.resolve()})["catch"](function(){return Promise.reject("No configuration found for "+t)}))}}]),t}();e["default"]=l},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(13),s=n(14),l=i(s),u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l["default"].getApi();r(this,t),this.api=e}return o(t,[{key:"all",value:function(){var t=this;return this.settings?Promise.resolve(this.settings):this.api.get("systemSettings").then(function(e){return t.settings=e,Promise.resolve(t.settings)})}},{key:"get",value:function(t){function e(t){try{return JSON.parse(t)}catch(e){return t}}var n=this;return this.settings&&this.settings[t]?Promise.resolve(this.settings[t]):new Promise(function(i,r){if(!(0,a.isString)(t))throw new TypeError('A "key" parameter should be specified when calling get() on systemSettings');var o={headers:{accept:"text/plain"}};n.api.get(["systemSettings",t].join("/"),void 0,o).then(function(t){t&&i(e(t)),r(new Error("The requested systemSetting has no value or does not exist."))})})}},{key:"set",value:function(t,e){delete this.settings;var n=["systemSettings",t].join("/");return null===e||0===(""+e).length?this.api["delete"](n):this.api.post(n,e,{headers:{"Content-Type":"text/plain"}})}}]),t}();e["default"]=u},function(t,e,n){var i;(function(t,r){(function(){function o(t,e){return t.set(e[0],e[1]),t}function a(t,e){return t.add(e),t}function s(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function l(t,e,n,i){for(var r=-1,o=null==t?0:t.length;++r<o;){var a=t[r];e(i,a,n(a),t)}return i}function u(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&e(t[n],n,t)!==!1;);return t}function d(t,e){for(var n=null==t?0:t.length;n--&&e(t[n],n,t)!==!1;);return t}function c(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function h(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var a=t[n];e(a,n,t)&&(o[r++]=a)}return o}function p(t,e){var n=null==t?0:t.length;return!!n&&E(t,e,0)>-1}function f(t,e,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}function g(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}function m(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function y(t,e,n,i){var r=-1,o=null==t?0:t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function v(t,e,n,i){var r=null==t?0:t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function x(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function b(t){return t.split("")}function A(t){return t.match(We)||[]}function w(t,e,n){var i;return n(t,function(t,n,r){if(e(t,n,r))return i=n,!1}),i}function S(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function E(t,e,n){return e===e?J(t,e,n):S(t,P,n)}function C(t,e,n,i){for(var r=n-1,o=t.length;++r<o;)if(i(t[r],e))return r;return-1}function P(t){return t!==t}function M(t,e){var n=null==t?0:t.length;return n?O(t,e)/n:Nt}function T(t){return function(e){return null==e?rt:e[t]}}function k(t){return function(e){return null==t?rt:t[e]}}function I(t,e,n,i,r){return r(t,function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)}),n}function _(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function O(t,e){for(var n,i=-1,r=t.length;++i<r;){var o=e(t[i]);o!==rt&&(n=n===rt?o:n+o)}return n}function D(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function R(t,e){return g(e,function(e){return[e,t[e]]})}function L(t){return function(e){return t(e)}}function B(t,e){return g(e,function(e){return t[e]})}function N(t,e){return t.has(e)}function U(t,e){for(var n=-1,i=t.length;++n<i&&E(e,t[n],0)>-1;);return n}function j(t,e){for(var n=t.length;n--&&E(e,t[n],0)>-1;);return n}function F(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i}function V(t){return"\\"+ni[t]}function H(t,e){return null==t?rt:t[e]}function W(t){return Xn.test(t)}function z(t){return qn.test(t)}function G(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function Y(t){var e=-1,n=Array(t.size);return t.forEach(function(t,i){n[++e]=[i,t]}),n}function X(t,e){return function(n){return t(e(n))}}function q(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var a=t[n];a!==e&&a!==ct||(t[n]=ct,o[r++]=n)}return o}function K(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function Q(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function J(t,e,n){for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}function Z(t,e,n){for(var i=n+1;i--;)if(t[i]===e)return i;return i}function $(t){return W(t)?et(t):xi(t)}function tt(t){return W(t)?nt(t):b(t)}function et(t){for(var e=Gn.lastIndex=0;Gn.test(t);)++e;return e}function nt(t){return t.match(Gn)||[]}function it(t){return t.match(Yn)||[]}var rt,ot="4.17.4",at=200,st="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",lt="Expected a function",ut="__lodash_hash_undefined__",dt=500,ct="__lodash_placeholder__",ht=1,pt=2,ft=4,gt=1,mt=2,yt=1,vt=2,xt=4,bt=8,At=16,wt=32,St=64,Et=128,Ct=256,Pt=512,Mt=30,Tt="...",kt=800,It=16,_t=1,Ot=2,Dt=3,Rt=1/0,Lt=9007199254740991,Bt=1.7976931348623157e308,Nt=NaN,Ut=4294967295,jt=Ut-1,Ft=Ut>>>1,Vt=[["ary",Et],["bind",yt],["bindKey",vt],["curry",bt],["curryRight",At],["flip",Pt],["partial",wt],["partialRight",St],["rearg",Ct]],Ht="[object Arguments]",Wt="[object Array]",zt="[object AsyncFunction]",Gt="[object Boolean]",Yt="[object Date]",Xt="[object DOMException]",qt="[object Error]",Kt="[object Function]",Qt="[object GeneratorFunction]",Jt="[object Map]",Zt="[object Number]",$t="[object Null]",te="[object Object]",ee="[object Promise]",ne="[object Proxy]",ie="[object RegExp]",re="[object Set]",oe="[object String]",ae="[object Symbol]",se="[object Undefined]",le="[object WeakMap]",ue="[object WeakSet]",de="[object ArrayBuffer]",ce="[object DataView]",he="[object Float32Array]",pe="[object Float64Array]",fe="[object Int8Array]",ge="[object Int16Array]",me="[object Int32Array]",ye="[object Uint8Array]",ve="[object Uint8ClampedArray]",xe="[object Uint16Array]",be="[object Uint32Array]",Ae=/\b__p \+= '';/g,we=/\b(__p \+=) '' \+/g,Se=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ee=/&(?:amp|lt|gt|quot|#39);/g,Ce=/[&<>"']/g,Pe=RegExp(Ee.source),Me=RegExp(Ce.source),Te=/<%-([\s\S]+?)%>/g,ke=/<%([\s\S]+?)%>/g,Ie=/<%=([\s\S]+?)%>/g,_e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Oe=/^\w*$/,De=/^\./,Re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Le=/[\\^$.*+?()[\]{}|]/g,Be=RegExp(Le.source),Ne=/^\s+|\s+$/g,Ue=/^\s+/,je=/\s+$/,Fe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ve=/\{\n\/\* \[wrapped with (.+)\] \*/,He=/,? & /,We=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ze=/\\(\\)?/g,Ge=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ye=/\w*$/,Xe=/^[-+]0x[0-9a-f]+$/i,qe=/^0b[01]+$/i,Ke=/^\[object .+?Constructor\]$/,Qe=/^0o[0-7]+$/i,Je=/^(?:0|[1-9]\d*)$/,Ze=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,$e=/($^)/,tn=/['\n\r\u2028\u2029\\]/g,en="\\ud800-\\udfff",nn="\\u0300-\\u036f",rn="\\ufe20-\\ufe2f",on="\\u20d0-\\u20ff",an=nn+rn+on,sn="\\u2700-\\u27bf",ln="a-z\\xdf-\\xf6\\xf8-\\xff",un="\\xac\\xb1\\xd7\\xf7",dn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",cn="\\u2000-\\u206f",hn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pn="A-Z\\xc0-\\xd6\\xd8-\\xde",fn="\\ufe0e\\ufe0f",gn=un+dn+cn+hn,mn="['’]",yn="["+en+"]",vn="["+gn+"]",xn="["+an+"]",bn="\\d+",An="["+sn+"]",wn="["+ln+"]",Sn="[^"+en+gn+bn+sn+ln+pn+"]",En="\\ud83c[\\udffb-\\udfff]",Cn="(?:"+xn+"|"+En+")",Pn="[^"+en+"]",Mn="(?:\\ud83c[\\udde6-\\uddff]){2}",Tn="[\\ud800-\\udbff][\\udc00-\\udfff]",kn="["+pn+"]",In="\\u200d",_n="(?:"+wn+"|"+Sn+")",On="(?:"+kn+"|"+Sn+")",Dn="(?:"+mn+"(?:d|ll|m|re|s|t|ve))?",Rn="(?:"+mn+"(?:D|LL|M|RE|S|T|VE))?",Ln=Cn+"?",Bn="["+fn+"]?",Nn="(?:"+In+"(?:"+[Pn,Mn,Tn].join("|")+")"+Bn+Ln+")*",Un="\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",jn="\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)",Fn=Bn+Ln+Nn,Vn="(?:"+[An,Mn,Tn].join("|")+")"+Fn,Hn="(?:"+[Pn+xn+"?",xn,Mn,Tn,yn].join("|")+")",Wn=RegExp(mn,"g"),zn=RegExp(xn,"g"),Gn=RegExp(En+"(?="+En+")|"+Hn+Fn,"g"),Yn=RegExp([kn+"?"+wn+"+"+Dn+"(?="+[vn,kn,"$"].join("|")+")",On+"+"+Rn+"(?="+[vn,kn+_n,"$"].join("|")+")",kn+"?"+_n+"+"+Dn,kn+"+"+Rn,jn,Un,bn,Vn].join("|"),"g"),Xn=RegExp("["+In+en+an+fn+"]"),qn=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Kn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Qn=-1,Jn={};Jn[he]=Jn[pe]=Jn[fe]=Jn[ge]=Jn[me]=Jn[ye]=Jn[ve]=Jn[xe]=Jn[be]=!0,Jn[Ht]=Jn[Wt]=Jn[de]=Jn[Gt]=Jn[ce]=Jn[Yt]=Jn[qt]=Jn[Kt]=Jn[Jt]=Jn[Zt]=Jn[te]=Jn[ie]=Jn[re]=Jn[oe]=Jn[le]=!1;var Zn={};Zn[Ht]=Zn[Wt]=Zn[de]=Zn[ce]=Zn[Gt]=Zn[Yt]=Zn[he]=Zn[pe]=Zn[fe]=Zn[ge]=Zn[me]=Zn[Jt]=Zn[Zt]=Zn[te]=Zn[ie]=Zn[re]=Zn[oe]=Zn[ae]=Zn[ye]=Zn[ve]=Zn[xe]=Zn[be]=!0,Zn[qt]=Zn[Kt]=Zn[le]=!1;var $n={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},ti={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ei={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ni={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ii=parseFloat,ri=parseInt,oi="object"==typeof t&&t&&t.Object===Object&&t,ai="object"==typeof self&&self&&self.Object===Object&&self,si=oi||ai||Function("return this")(),li="object"==typeof e&&e&&!e.nodeType&&e,ui=li&&"object"==typeof r&&r&&!r.nodeType&&r,di=ui&&ui.exports===li,ci=di&&oi.process,hi=function(){try{return ci&&ci.binding&&ci.binding("util")}catch(t){}}(),pi=hi&&hi.isArrayBuffer,fi=hi&&hi.isDate,gi=hi&&hi.isMap,mi=hi&&hi.isRegExp,yi=hi&&hi.isSet,vi=hi&&hi.isTypedArray,xi=T("length"),bi=k($n),Ai=k(ti),wi=k(ei),Si=function Ci(t){function e(t){if(ul(t)&&!bh(t)&&!(t instanceof r)){if(t instanceof i)return t;if(bd.call(t,"__wrapped__"))return aa(t)}return new i(t)}function n(){}function i(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=rt}function r(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ut,this.__views__=[]}function b(){var t=new r(this.__wrapped__);return t.__actions__=Fr(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Fr(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Fr(this.__views__),t}function k(){if(this.__filtered__){var t=new r(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function J(){var t=this.__wrapped__.value(),e=this.__dir__,n=bh(t),i=e<0,r=n?t.length:0,o=Io(0,r,this.__views__),a=o.start,s=o.end,l=s-a,u=i?s:a-1,d=this.__iteratees__,c=d.length,h=0,p=Qd(l,this.__takeCount__);if(!n||!i&&r==l&&p==l)return Ar(t,this.__actions__);var f=[];t:for(;l--&&h<p;){u+=e;for(var g=-1,m=t[u];++g<c;){var y=d[g],v=y.iteratee,x=y.type,b=v(m);if(x==Ot)m=b;else if(!b){if(x==_t)continue t;break t}}f[h++]=m}return f}function et(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function nt(){this.__data__=ac?ac(null):{},this.size=0}function We(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function en(t){var e=this.__data__;if(ac){var n=e[t];return n===ut?rt:n}return bd.call(e,t)?e[t]:rt}function nn(t){var e=this.__data__;return ac?e[t]!==rt:bd.call(e,t)}function rn(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ac&&e===rt?ut:e,this}function on(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function an(){this.__data__=[],this.size=0}function sn(t){var e=this.__data__,n=On(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():Rd.call(e,n,1),--this.size,!0}function ln(t){var e=this.__data__,n=On(e,t);return n<0?rt:e[n][1]}function un(t){return On(this.__data__,t)>-1}function dn(t,e){var n=this.__data__,i=On(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}function cn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function hn(){this.size=0,this.__data__={hash:new et,map:new(nc||on),string:new et}}function pn(t){var e=Po(this,t)["delete"](t);
return this.size-=e?1:0,e}function fn(t){return Po(this,t).get(t)}function gn(t){return Po(this,t).has(t)}function mn(t,e){var n=Po(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}function yn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new cn;++e<n;)this.add(t[e])}function vn(t){return this.__data__.set(t,ut),this}function xn(t){return this.__data__.has(t)}function bn(t){var e=this.__data__=new on(t);this.size=e.size}function An(){this.__data__=new on,this.size=0}function wn(t){var e=this.__data__,n=e["delete"](t);return this.size=e.size,n}function Sn(t){return this.__data__.get(t)}function En(t){return this.__data__.has(t)}function Cn(t,e){var n=this.__data__;if(n instanceof on){var i=n.__data__;if(!nc||i.length<at-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new cn(i)}return n.set(t,e),this.size=n.size,this}function Pn(t,e){var n=bh(t),i=!n&&xh(t),r=!n&&!i&&wh(t),o=!n&&!i&&!r&&Mh(t),a=n||i||r||o,s=a?D(t.length,pd):[],l=s.length;for(var u in t)!e&&!bd.call(t,u)||a&&("length"==u||r&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Uo(u,l))||s.push(u);return s}function Mn(t){var e=t.length;return e?t[nr(0,e-1)]:rt}function Tn(t,e){return na(Fr(t),Un(e,0,t.length))}function kn(t){return na(Fr(t))}function In(t,e,n){(n===rt||Ks(t[e],n))&&(n!==rt||e in t)||Bn(t,e,n)}function _n(t,e,n){var i=t[e];bd.call(t,e)&&Ks(i,n)&&(n!==rt||e in t)||Bn(t,e,n)}function On(t,e){for(var n=t.length;n--;)if(Ks(t[n][0],e))return n;return-1}function Dn(t,e,n,i){return vc(t,function(t,r,o){e(i,t,n(t),o)}),i}function Rn(t,e){return t&&Vr(e,zl(e),t)}function Ln(t,e){return t&&Vr(e,Gl(e),t)}function Bn(t,e,n){"__proto__"==e&&Ud?Ud(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Nn(t,e){for(var n=-1,i=e.length,r=ad(i),o=null==t;++n<i;)r[n]=o?rt:Vl(t,e[n]);return r}function Un(t,e,n){return t===t&&(n!==rt&&(t=t<=n?t:n),e!==rt&&(t=t>=e?t:e)),t}function jn(t,e,n,i,r,o){var a,s=e&ht,l=e&pt,d=e&ft;if(n&&(a=r?n(t,i,r,o):n(t)),a!==rt)return a;if(!ll(t))return t;var c=bh(t);if(c){if(a=Do(t),!s)return Fr(t,a)}else{var h=Ic(t),p=h==Kt||h==Qt;if(wh(t))return Tr(t,s);if(h==te||h==Ht||p&&!r){if(a=l||p?{}:Ro(t),!s)return l?Wr(t,Ln(a,t)):Hr(t,Rn(a,t))}else{if(!Zn[h])return r?t:{};a=Lo(t,h,jn,s)}}o||(o=new bn);var f=o.get(t);if(f)return f;o.set(t,a);var g=d?l?wo:Ao:l?Gl:zl,m=c?rt:g(t);return u(m||t,function(i,r){m&&(r=i,i=t[r]),_n(a,r,jn(i,e,n,r,t,o))}),a}function Fn(t){var e=zl(t);return function(n){return Vn(n,t,e)}}function Vn(t,e,n){var i=n.length;if(null==t)return!i;for(t=cd(t);i--;){var r=n[i],o=e[r],a=t[r];if(a===rt&&!(r in t)||!o(a))return!1}return!0}function Hn(t,e,n){if("function"!=typeof t)throw new fd(lt);return Dc(function(){t.apply(rt,n)},e)}function Gn(t,e,n,i){var r=-1,o=p,a=!0,s=t.length,l=[],u=e.length;if(!s)return l;n&&(e=g(e,L(n))),i?(o=f,a=!1):e.length>=at&&(o=N,a=!1,e=new yn(e));t:for(;++r<s;){var d=t[r],c=null==n?d:n(d);if(d=i||0!==d?d:0,a&&c===c){for(var h=u;h--;)if(e[h]===c)continue t;l.push(d)}else o(e,c,i)||l.push(d)}return l}function Yn(t,e){var n=!0;return vc(t,function(t,i,r){return n=!!e(t,i,r)}),n}function Xn(t,e,n){for(var i=-1,r=t.length;++i<r;){var o=t[i],a=e(o);if(null!=a&&(s===rt?a===a&&!bl(a):n(a,s)))var s=a,l=o}return l}function qn(t,e,n,i){var r=t.length;for(n=Pl(n),n<0&&(n=-n>r?0:r+n),i=i===rt||i>r?r:Pl(i),i<0&&(i+=r),i=n>i?0:Ml(i);n<i;)t[n++]=e;return t}function $n(t,e){var n=[];return vc(t,function(t,i,r){e(t,i,r)&&n.push(t)}),n}function ti(t,e,n,i,r){var o=-1,a=t.length;for(n||(n=No),r||(r=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?ti(s,e-1,n,i,r):m(r,s):i||(r[r.length]=s)}return r}function ei(t,e){return t&&bc(t,e,zl)}function ni(t,e){return t&&Ac(t,e,zl)}function oi(t,e){return h(e,function(e){return ol(t[e])})}function ai(t,e){e=Pr(e,t);for(var n=0,i=e.length;null!=t&&n<i;)t=t[ia(e[n++])];return n&&n==i?t:rt}function li(t,e,n){var i=e(t);return bh(t)?i:m(i,n(t))}function ui(t){return null==t?t===rt?se:$t:Nd&&Nd in cd(t)?ko(t):Qo(t)}function ci(t,e){return t>e}function hi(t,e){return null!=t&&bd.call(t,e)}function xi(t,e){return null!=t&&e in cd(t)}function Si(t,e,n){return t>=Qd(e,n)&&t<Kd(e,n)}function Pi(t,e,n){for(var i=n?f:p,r=t[0].length,o=t.length,a=o,s=ad(o),l=1/0,u=[];a--;){var d=t[a];a&&e&&(d=g(d,L(e))),l=Qd(d.length,l),s[a]=!n&&(e||r>=120&&d.length>=120)?new yn(a&&d):rt}d=t[0];var c=-1,h=s[0];t:for(;++c<r&&u.length<l;){var m=d[c],y=e?e(m):m;if(m=n||0!==m?m:0,!(h?N(h,y):i(u,y,n))){for(a=o;--a;){var v=s[a];if(!(v?N(v,y):i(t[a],y,n)))continue t}h&&h.push(y),u.push(m)}}return u}function Mi(t,e,n,i){return ei(t,function(t,r,o){e(i,n(t),r,o)}),i}function Ti(t,e,n){e=Pr(e,t),t=Zo(t,e);var i=null==t?t:t[ia(Ca(e))];return null==i?rt:s(i,t,n)}function ki(t){return ul(t)&&ui(t)==Ht}function Ii(t){return ul(t)&&ui(t)==de}function _i(t){return ul(t)&&ui(t)==Yt}function Oi(t,e,n,i,r){return t===e||(null==t||null==e||!ul(t)&&!ul(e)?t!==t&&e!==e:Di(t,e,n,i,Oi,r))}function Di(t,e,n,i,r,o){var a=bh(t),s=bh(e),l=a?Wt:Ic(t),u=s?Wt:Ic(e);l=l==Ht?te:l,u=u==Ht?te:u;var d=l==te,c=u==te,h=l==u;if(h&&wh(t)){if(!wh(e))return!1;a=!0,d=!1}if(h&&!d)return o||(o=new bn),a||Mh(t)?yo(t,e,n,i,r,o):vo(t,e,l,n,i,r,o);if(!(n&gt)){var p=d&&bd.call(t,"__wrapped__"),f=c&&bd.call(e,"__wrapped__");if(p||f){var g=p?t.value():t,m=f?e.value():e;return o||(o=new bn),r(g,m,n,i,o)}}return!!h&&(o||(o=new bn),xo(t,e,n,i,r,o))}function Ri(t){return ul(t)&&Ic(t)==Jt}function Li(t,e,n,i){var r=n.length,o=r,a=!i;if(null==t)return!o;for(t=cd(t);r--;){var s=n[r];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++r<o;){s=n[r];var l=s[0],u=t[l],d=s[1];if(a&&s[2]){if(u===rt&&!(l in t))return!1}else{var c=new bn;if(i)var h=i(u,d,l,t,e,c);if(!(h===rt?Oi(d,u,gt|mt,i,c):h))return!1}}return!0}function Bi(t){if(!ll(t)||Wo(t))return!1;var e=ol(t)?Pd:Ke;return e.test(ra(t))}function Ni(t){return ul(t)&&ui(t)==ie}function Ui(t){return ul(t)&&Ic(t)==re}function ji(t){return ul(t)&&sl(t.length)&&!!Jn[ui(t)]}function Fi(t){return"function"==typeof t?t:null==t?Ru:"object"==typeof t?bh(t)?Yi(t[0],t[1]):Gi(t):Hu(t)}function Vi(t){if(!zo(t))return qd(t);var e=[];for(var n in cd(t))bd.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Hi(t){if(!ll(t))return Ko(t);var e=zo(t),n=[];for(var i in t)("constructor"!=i||!e&&bd.call(t,i))&&n.push(i);return n}function Wi(t,e){return t<e}function zi(t,e){var n=-1,i=Qs(t)?ad(t.length):[];return vc(t,function(t,r,o){i[++n]=e(t,r,o)}),i}function Gi(t){var e=Mo(t);return 1==e.length&&e[0][2]?Yo(e[0][0],e[0][1]):function(n){return n===t||Li(n,t,e)}}function Yi(t,e){return Fo(t)&&Go(e)?Yo(ia(t),e):function(n){var i=Vl(n,t);return i===rt&&i===e?Wl(n,t):Oi(e,i,gt|mt)}}function Xi(t,e,n,i,r){t!==e&&bc(e,function(o,a){if(ll(o))r||(r=new bn),qi(t,e,a,n,Xi,i,r);else{var s=i?i(t[a],o,a+"",t,e,r):rt;s===rt&&(s=o),In(t,a,s)}},Gl)}function qi(t,e,n,i,r,o,a){var s=t[n],l=e[n],u=a.get(l);if(u)return void In(t,n,u);var d=o?o(s,l,n+"",t,e,a):rt,c=d===rt;if(c){var h=bh(l),p=!h&&wh(l),f=!h&&!p&&Mh(l);d=l,h||p||f?bh(s)?d=s:Js(s)?d=Fr(s):p?(c=!1,d=Tr(l,!0)):f?(c=!1,d=Lr(l,!0)):d=[]:yl(l)||xh(l)?(d=s,xh(s)?d=kl(s):(!ll(s)||i&&ol(s))&&(d=Ro(l))):c=!1}c&&(a.set(l,d),r(d,l,i,o,a),a["delete"](l)),In(t,n,d)}function Ki(t,e){var n=t.length;if(n)return e+=e<0?n:0,Uo(e,n)?t[e]:rt}function Qi(t,e,n){var i=-1;e=g(e.length?e:[Ru],L(Co()));var r=zi(t,function(t,n,r){var o=g(e,function(e){return e(t)});return{criteria:o,index:++i,value:t}});return _(r,function(t,e){return Nr(t,e,n)})}function Ji(t,e){return Zi(t,e,function(e,n){return Wl(t,n)})}function Zi(t,e,n){for(var i=-1,r=e.length,o={};++i<r;){var a=e[i],s=ai(t,a);n(s,a)&&lr(o,Pr(a,t),s)}return o}function $i(t){return function(e){return ai(e,t)}}function tr(t,e,n,i){var r=i?C:E,o=-1,a=e.length,s=t;for(t===e&&(e=Fr(e)),n&&(s=g(t,L(n)));++o<a;)for(var l=0,u=e[o],d=n?n(u):u;(l=r(s,d,l,i))>-1;)s!==t&&Rd.call(s,l,1),Rd.call(t,l,1);return t}function er(t,e){for(var n=t?e.length:0,i=n-1;n--;){var r=e[n];if(n==i||r!==o){var o=r;Uo(r)?Rd.call(t,r,1):vr(t,r)}}return t}function nr(t,e){return t+Wd($d()*(e-t+1))}function ir(t,e,n,i){for(var r=-1,o=Kd(Hd((e-t)/(n||1)),0),a=ad(o);o--;)a[i?o:++r]=t,t+=n;return a}function rr(t,e){var n="";if(!t||e<1||e>Lt)return n;do e%2&&(n+=t),e=Wd(e/2),e&&(t+=t);while(e);return n}function or(t,e){return Rc(Jo(t,e,Ru),t+"")}function ar(t){return Mn(iu(t))}function sr(t,e){var n=iu(t);return na(n,Un(e,0,n.length))}function lr(t,e,n,i){if(!ll(t))return t;e=Pr(e,t);for(var r=-1,o=e.length,a=o-1,s=t;null!=s&&++r<o;){var l=ia(e[r]),u=n;if(r!=a){var d=s[l];u=i?i(d,l,s):rt,u===rt&&(u=ll(d)?d:Uo(e[r+1])?[]:{})}_n(s,l,u),s=s[l]}return t}function ur(t){return na(iu(t))}function dr(t,e,n){var i=-1,r=t.length;e<0&&(e=-e>r?0:r+e),n=n>r?r:n,n<0&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var o=ad(r);++i<r;)o[i]=t[i+e];return o}function cr(t,e){var n;return vc(t,function(t,i,r){return n=e(t,i,r),!n}),!!n}function hr(t,e,n){var i=0,r=null==t?i:t.length;if("number"==typeof e&&e===e&&r<=Ft){for(;i<r;){var o=i+r>>>1,a=t[o];null!==a&&!bl(a)&&(n?a<=e:a<e)?i=o+1:r=o}return r}return pr(t,e,Ru,n)}function pr(t,e,n,i){e=n(e);for(var r=0,o=null==t?0:t.length,a=e!==e,s=null===e,l=bl(e),u=e===rt;r<o;){var d=Wd((r+o)/2),c=n(t[d]),h=c!==rt,p=null===c,f=c===c,g=bl(c);if(a)var m=i||f;else m=u?f&&(i||h):s?f&&h&&(i||!p):l?f&&h&&!p&&(i||!g):!p&&!g&&(i?c<=e:c<e);m?r=d+1:o=d}return Qd(o,jt)}function fr(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var a=t[n],s=e?e(a):a;if(!n||!Ks(s,l)){var l=s;o[r++]=0===a?0:a}}return o}function gr(t){return"number"==typeof t?t:bl(t)?Nt:+t}function mr(t){if("string"==typeof t)return t;if(bh(t))return g(t,mr)+"";if(bl(t))return mc?mc.call(t):"";var e=t+"";return"0"==e&&1/t==-Rt?"-0":e}function yr(t,e,n){var i=-1,r=p,o=t.length,a=!0,s=[],l=s;if(n)a=!1,r=f;else if(o>=at){var u=e?null:Pc(t);if(u)return K(u);a=!1,r=N,l=new yn}else l=e?[]:s;t:for(;++i<o;){var d=t[i],c=e?e(d):d;if(d=n||0!==d?d:0,a&&c===c){for(var h=l.length;h--;)if(l[h]===c)continue t;e&&l.push(c),s.push(d)}else r(l,c,n)||(l!==s&&l.push(c),s.push(d))}return s}function vr(t,e){return e=Pr(e,t),t=Zo(t,e),null==t||delete t[ia(Ca(e))]}function xr(t,e,n,i){return lr(t,e,n(ai(t,e)),i)}function br(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?dr(t,i?0:o,i?o+1:r):dr(t,i?o+1:0,i?r:o)}function Ar(t,e){var n=t;return n instanceof r&&(n=n.value()),y(e,function(t,e){return e.func.apply(e.thisArg,m([t],e.args))},n)}function wr(t,e,n){var i=t.length;if(i<2)return i?yr(t[0]):[];for(var r=-1,o=ad(i);++r<i;)for(var a=t[r],s=-1;++s<i;)s!=r&&(o[r]=Gn(o[r]||a,t[s],e,n));return yr(ti(o,1),e,n)}function Sr(t,e,n){for(var i=-1,r=t.length,o=e.length,a={};++i<r;){var s=i<o?e[i]:rt;n(a,t[i],s)}return a}function Er(t){return Js(t)?t:[]}function Cr(t){return"function"==typeof t?t:Ru}function Pr(t,e){return bh(t)?t:Fo(t,e)?[t]:Lc(_l(t))}function Mr(t,e,n){var i=t.length;return n=n===rt?i:n,!e&&n>=i?t:dr(t,e,n)}function Tr(t,e){if(e)return t.slice();var n=t.length,i=Id?Id(n):new t.constructor(n);return t.copy(i),i}function kr(t){var e=new t.constructor(t.byteLength);return new kd(e).set(new kd(t)),e}function Ir(t,e){var n=e?kr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function _r(t,e,n){var i=e?n(Y(t),ht):Y(t);return y(i,o,new t.constructor)}function Or(t){var e=new t.constructor(t.source,Ye.exec(t));return e.lastIndex=t.lastIndex,e}function Dr(t,e,n){var i=e?n(K(t),ht):K(t);return y(i,a,new t.constructor)}function Rr(t){return gc?cd(gc.call(t)):{}}function Lr(t,e){var n=e?kr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Br(t,e){if(t!==e){var n=t!==rt,i=null===t,r=t===t,o=bl(t),a=e!==rt,s=null===e,l=e===e,u=bl(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||i&&a&&l||!n&&l||!r)return 1;if(!i&&!o&&!u&&t<e||u&&n&&r&&!i&&!o||s&&n&&r||!a&&r||!l)return-1}return 0}function Nr(t,e,n){for(var i=-1,r=t.criteria,o=e.criteria,a=r.length,s=n.length;++i<a;){var l=Br(r[i],o[i]);if(l){if(i>=s)return l;var u=n[i];return l*("desc"==u?-1:1)}}return t.index-e.index}function Ur(t,e,n,i){for(var r=-1,o=t.length,a=n.length,s=-1,l=e.length,u=Kd(o-a,0),d=ad(l+u),c=!i;++s<l;)d[s]=e[s];for(;++r<a;)(c||r<o)&&(d[n[r]]=t[r]);for(;u--;)d[s++]=t[r++];return d}function jr(t,e,n,i){for(var r=-1,o=t.length,a=-1,s=n.length,l=-1,u=e.length,d=Kd(o-s,0),c=ad(d+u),h=!i;++r<d;)c[r]=t[r];for(var p=r;++l<u;)c[p+l]=e[l];for(;++a<s;)(h||r<o)&&(c[p+n[a]]=t[r++]);return c}function Fr(t,e){var n=-1,i=t.length;for(e||(e=ad(i));++n<i;)e[n]=t[n];return e}function Vr(t,e,n,i){var r=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],l=i?i(n[s],t[s],s,n,t):rt;l===rt&&(l=t[s]),r?Bn(n,s,l):_n(n,s,l)}return n}function Hr(t,e){return Vr(t,Tc(t),e)}function Wr(t,e){return Vr(t,kc(t),e)}function zr(t,e){return function(n,i){var r=bh(n)?l:Dn,o=e?e():{};return r(n,t,Co(i,2),o)}}function Gr(t){return or(function(e,n){var i=-1,r=n.length,o=r>1?n[r-1]:rt,a=r>2?n[2]:rt;for(o=t.length>3&&"function"==typeof o?(r--,o):rt,a&&jo(n[0],n[1],a)&&(o=r<3?rt:o,r=1),e=cd(e);++i<r;){var s=n[i];s&&t(e,s,i,o)}return e})}function Yr(t,e){return function(n,i){if(null==n)return n;if(!Qs(n))return t(n,i);for(var r=n.length,o=e?r:-1,a=cd(n);(e?o--:++o<r)&&i(a[o],o,a)!==!1;);return n}}function Xr(t){return function(e,n,i){for(var r=-1,o=cd(e),a=i(e),s=a.length;s--;){var l=a[t?s:++r];if(n(o[l],l,o)===!1)break}return e}}function qr(t,e,n){function i(){var e=this&&this!==si&&this instanceof i?o:t;return e.apply(r?n:this,arguments)}var r=e&yt,o=Jr(t);return i}function Kr(t){return function(e){e=_l(e);var n=W(e)?tt(e):rt,i=n?n[0]:e.charAt(0),r=n?Mr(n,1).join(""):e.slice(1);return i[t]()+r}}function Qr(t){return function(e){return y(ku(uu(e).replace(Wn,"")),t,"")}}function Jr(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=yc(t.prototype),i=t.apply(n,e);return ll(i)?i:n}}function Zr(t,e,n){function i(){for(var o=arguments.length,a=ad(o),l=o,u=Eo(i);l--;)a[l]=arguments[l];var d=o<3&&a[0]!==u&&a[o-1]!==u?[]:q(a,u);if(o-=d.length,o<n)return uo(t,e,eo,i.placeholder,rt,a,d,rt,rt,n-o);var c=this&&this!==si&&this instanceof i?r:t;return s(c,this,a)}var r=Jr(t);return i}function $r(t){return function(e,n,i){var r=cd(e);if(!Qs(e)){var o=Co(n,3);e=zl(e),n=function(t){return o(r[t],t,r)}}var a=t(e,n,i);return a>-1?r[o?e[a]:a]:rt}}function to(t){return bo(function(e){var n=e.length,r=n,o=i.prototype.thru;for(t&&e.reverse();r--;){var a=e[r];if("function"!=typeof a)throw new fd(lt);if(o&&!s&&"wrapper"==So(a))var s=new i([],(!0))}for(r=s?r:n;++r<n;){a=e[r];var l=So(a),u="wrapper"==l?Mc(a):rt;s=u&&Ho(u[0])&&u[1]==(Et|bt|wt|Ct)&&!u[4].length&&1==u[9]?s[So(u[0])].apply(s,u[3]):1==a.length&&Ho(a)?s[l]():s.thru(a)}return function(){var t=arguments,i=t[0];if(s&&1==t.length&&bh(i))return s.plant(i).value();for(var r=0,o=n?e[r].apply(this,t):i;++r<n;)o=e[r].call(this,o);return o}})}function eo(t,e,n,i,r,o,a,s,l,u){function d(){for(var y=arguments.length,v=ad(y),x=y;x--;)v[x]=arguments[x];if(f)var b=Eo(d),A=F(v,b);if(i&&(v=Ur(v,i,r,f)),o&&(v=jr(v,o,a,f)),y-=A,f&&y<u){var w=q(v,b);return uo(t,e,eo,d.placeholder,n,v,w,s,l,u-y)}var S=h?n:this,E=p?S[t]:t;return y=v.length,s?v=$o(v,s):g&&y>1&&v.reverse(),c&&l<y&&(v.length=l),this&&this!==si&&this instanceof d&&(E=m||Jr(E)),E.apply(S,v)}var c=e&Et,h=e&yt,p=e&vt,f=e&(bt|At),g=e&Pt,m=p?rt:Jr(t);return d}function no(t,e){return function(n,i){return Mi(n,t,e(i),{})}}function io(t,e){return function(n,i){var r;if(n===rt&&i===rt)return e;if(n!==rt&&(r=n),i!==rt){if(r===rt)return i;"string"==typeof n||"string"==typeof i?(n=mr(n),i=mr(i)):(n=gr(n),i=gr(i)),r=t(n,i)}return r}}function ro(t){return bo(function(e){return e=g(e,L(Co())),or(function(n){var i=this;return t(e,function(t){return s(t,i,n)})})})}function oo(t,e){e=e===rt?" ":mr(e);var n=e.length;if(n<2)return n?rr(e,t):e;var i=rr(e,Hd(t/$(e)));return W(e)?Mr(tt(i),0,t).join(""):i.slice(0,t)}function ao(t,e,n,i){function r(){for(var e=-1,l=arguments.length,u=-1,d=i.length,c=ad(d+l),h=this&&this!==si&&this instanceof r?a:t;++u<d;)c[u]=i[u];for(;l--;)c[u++]=arguments[++e];return s(h,o?n:this,c)}var o=e&yt,a=Jr(t);return r}function so(t){return function(e,n,i){return i&&"number"!=typeof i&&jo(e,n,i)&&(n=i=rt),e=Cl(e),n===rt?(n=e,e=0):n=Cl(n),i=i===rt?e<n?1:-1:Cl(i),ir(e,n,i,t)}}function lo(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Tl(e),n=Tl(n)),t(e,n)}}function uo(t,e,n,i,r,o,a,s,l,u){var d=e&bt,c=d?a:rt,h=d?rt:a,p=d?o:rt,f=d?rt:o;e|=d?wt:St,e&=~(d?St:wt),e&xt||(e&=~(yt|vt));var g=[t,e,r,p,c,f,h,s,l,u],m=n.apply(rt,g);return Ho(t)&&Oc(m,g),m.placeholder=i,ta(m,t,e)}function co(t){var e=dd[t];return function(t,n){if(t=Tl(t),n=null==n?0:Qd(Pl(n),292)){var i=(_l(t)+"e").split("e"),r=e(i[0]+"e"+(+i[1]+n));return i=(_l(r)+"e").split("e"),+(i[0]+"e"+(+i[1]-n))}return e(t)}}function ho(t){return function(e){var n=Ic(e);return n==Jt?Y(e):n==re?Q(e):R(e,t(e))}}function po(t,e,n,i,r,o,a,s){var l=e&vt;if(!l&&"function"!=typeof t)throw new fd(lt);var u=i?i.length:0;if(u||(e&=~(wt|St),i=r=rt),a=a===rt?a:Kd(Pl(a),0),s=s===rt?s:Pl(s),u-=r?r.length:0,e&St){var d=i,c=r;i=r=rt}var h=l?rt:Mc(t),p=[t,e,n,i,r,d,c,o,a,s];if(h&&qo(p,h),t=p[0],e=p[1],n=p[2],i=p[3],r=p[4],s=p[9]=p[9]===rt?l?0:t.length:Kd(p[9]-u,0),!s&&e&(bt|At)&&(e&=~(bt|At)),e&&e!=yt)f=e==bt||e==At?Zr(t,e,s):e!=wt&&e!=(yt|wt)||r.length?eo.apply(rt,p):ao(t,e,n,i);else var f=qr(t,e,n);var g=h?wc:Oc;return ta(g(f,p),t,e)}function fo(t,e,n,i){return t===rt||Ks(t,yd[n])&&!bd.call(i,n)?e:t}function go(t,e,n,i,r,o){return ll(t)&&ll(e)&&(o.set(e,t),Xi(t,e,rt,go,o),o["delete"](e)),t}function mo(t){return yl(t)?rt:t}function yo(t,e,n,i,r,o){var a=n&gt,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t);if(u&&o.get(e))return u==e;var d=-1,c=!0,h=n&mt?new yn:rt;for(o.set(t,e),o.set(e,t);++d<s;){var p=t[d],f=e[d];if(i)var g=a?i(f,p,d,e,t,o):i(p,f,d,t,e,o);if(g!==rt){if(g)continue;c=!1;break}if(h){if(!x(e,function(t,e){if(!N(h,e)&&(p===t||r(p,t,n,i,o)))return h.push(e)})){c=!1;break}}else if(p!==f&&!r(p,f,n,i,o)){c=!1;break}}return o["delete"](t),o["delete"](e),c}function vo(t,e,n,i,r,o,a){switch(n){case ce:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case de:return!(t.byteLength!=e.byteLength||!o(new kd(t),new kd(e)));case Gt:case Yt:case Zt:return Ks(+t,+e);case qt:return t.name==e.name&&t.message==e.message;case ie:case oe:return t==e+"";case Jt:var s=Y;case re:var l=i&gt;if(s||(s=K),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;i|=mt,a.set(t,e);var d=yo(s(t),s(e),i,r,o,a);return a["delete"](t),d;case ae:if(gc)return gc.call(t)==gc.call(e)}return!1}function xo(t,e,n,i,r,o){var a=n&gt,s=Ao(t),l=s.length,u=Ao(e),d=u.length;if(l!=d&&!a)return!1;for(var c=l;c--;){var h=s[c];if(!(a?h in e:bd.call(e,h)))return!1}var p=o.get(t);if(p&&o.get(e))return p==e;var f=!0;o.set(t,e),o.set(e,t);for(var g=a;++c<l;){h=s[c];var m=t[h],y=e[h];if(i)var v=a?i(y,m,h,e,t,o):i(m,y,h,t,e,o);if(!(v===rt?m===y||r(m,y,n,i,o):v)){f=!1;break}g||(g="constructor"==h)}if(f&&!g){var x=t.constructor,b=e.constructor;x!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof x&&x instanceof x&&"function"==typeof b&&b instanceof b)&&(f=!1)}return o["delete"](t),o["delete"](e),f}function bo(t){return Rc(Jo(t,rt,ya),t+"")}function Ao(t){return li(t,zl,Tc)}function wo(t){return li(t,Gl,kc)}function So(t){for(var e=t.name+"",n=lc[e],i=bd.call(lc,e)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e}function Eo(t){var n=bd.call(e,"placeholder")?e:t;return n.placeholder}function Co(){var t=e.iteratee||Lu;return t=t===Lu?Fi:t,arguments.length?t(arguments[0],arguments[1]):t}function Po(t,e){var n=t.__data__;return Vo(e)?n["string"==typeof e?"string":"hash"]:n.map}function Mo(t){for(var e=zl(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,Go(r)]}return e}function To(t,e){var n=H(t,e);return Bi(n)?n:rt}function ko(t){var e=bd.call(t,Nd),n=t[Nd];try{t[Nd]=rt;var i=!0}catch(r){}var o=Sd.call(t);return i&&(e?t[Nd]=n:delete t[Nd]),o}function Io(t,e,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Qd(e,t+a);break;case"takeRight":t=Kd(t,e-a)}}return{start:t,end:e}}function _o(t){var e=t.match(Ve);return e?e[1].split(He):[]}function Oo(t,e,n){e=Pr(e,t);for(var i=-1,r=e.length,o=!1;++i<r;){var a=ia(e[i]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++i!=r?o:(r=null==t?0:t.length,!!r&&sl(r)&&Uo(a,r)&&(bh(t)||xh(t)))}function Do(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&bd.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function Ro(t){return"function"!=typeof t.constructor||zo(t)?{}:yc(_d(t))}function Lo(t,e,n,i){var r=t.constructor;switch(e){case de:return kr(t);case Gt:case Yt:return new r((+t));case ce:return Ir(t,i);case he:case pe:case fe:case ge:case me:case ye:case ve:case xe:case be:return Lr(t,i);case Jt:return _r(t,i,n);case Zt:case oe:return new r(t);case ie:return Or(t);case re:return Dr(t,i,n);case ae:return Rr(t)}}function Bo(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(Fe,"{\n/* [wrapped with "+e+"] */\n")}function No(t){return bh(t)||xh(t)||!!(Ld&&t&&t[Ld])}function Uo(t,e){return e=null==e?Lt:e,!!e&&("number"==typeof t||Je.test(t))&&t>-1&&t%1==0&&t<e}function jo(t,e,n){if(!ll(n))return!1;var i=typeof e;return!!("number"==i?Qs(n)&&Uo(e,n.length):"string"==i&&e in n)&&Ks(n[e],t)}function Fo(t,e){if(bh(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!bl(t))||(Oe.test(t)||!_e.test(t)||null!=e&&t in cd(e))}function Vo(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function Ho(t){var n=So(t),i=e[n];if("function"!=typeof i||!(n in r.prototype))return!1;if(t===i)return!0;var o=Mc(i);return!!o&&t===o[0]}function Wo(t){return!!wd&&wd in t}function zo(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||yd;return t===n}function Go(t){return t===t&&!ll(t)}function Yo(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==rt||t in cd(n)))}}function Xo(t){var e=Ls(t,function(t){return n.size===dt&&n.clear(),t}),n=e.cache;return e}function qo(t,e){var n=t[1],i=e[1],r=n|i,o=r<(yt|vt|Et),a=i==Et&&n==bt||i==Et&&n==Ct&&t[7].length<=e[8]||i==(Et|Ct)&&e[7].length<=e[8]&&n==bt;if(!o&&!a)return t;i&yt&&(t[2]=e[2],r|=n&yt?0:xt);var s=e[3];if(s){var l=t[3];t[3]=l?Ur(l,s,e[4]):s,t[4]=l?q(t[3],ct):e[4]}return s=e[5],s&&(l=t[5],t[5]=l?jr(l,s,e[6]):s,t[6]=l?q(t[5],ct):e[6]),s=e[7],s&&(t[7]=s),i&Et&&(t[8]=null==t[8]?e[8]:Qd(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r,t}function Ko(t){var e=[];if(null!=t)for(var n in cd(t))e.push(n);return e}function Qo(t){return Sd.call(t)}function Jo(t,e,n){return e=Kd(e===rt?t.length-1:e,0),function(){for(var i=arguments,r=-1,o=Kd(i.length-e,0),a=ad(o);++r<o;)a[r]=i[e+r];r=-1;for(var l=ad(e+1);++r<e;)l[r]=i[r];return l[e]=n(a),s(t,this,l)}}function Zo(t,e){return e.length<2?t:ai(t,dr(e,0,-1))}function $o(t,e){for(var n=t.length,i=Qd(e.length,n),r=Fr(t);i--;){var o=e[i];t[i]=Uo(o,n)?r[o]:rt}return t}function ta(t,e,n){var i=e+"";return Rc(t,Bo(i,oa(_o(i),n)))}function ea(t){var e=0,n=0;return function(){var i=Jd(),r=It-(i-n);if(n=i,r>0){if(++e>=kt)return arguments[0]}else e=0;return t.apply(rt,arguments)}}function na(t,e){var n=-1,i=t.length,r=i-1;for(e=e===rt?i:e;++n<e;){var o=nr(n,r),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}function ia(t){if("string"==typeof t||bl(t))return t;var e=t+"";return"0"==e&&1/t==-Rt?"-0":e}function ra(t){if(null!=t){try{return xd.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function oa(t,e){return u(Vt,function(n){var i="_."+n[0];e&n[1]&&!p(t,i)&&t.push(i)}),t.sort()}function aa(t){if(t instanceof r)return t.clone();var e=new i(t.__wrapped__,t.__chain__);return e.__actions__=Fr(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function sa(t,e,n){e=(n?jo(t,e,n):e===rt)?1:Kd(Pl(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var r=0,o=0,a=ad(Hd(i/e));r<i;)a[o++]=dr(t,r,r+=e);return a}function la(t){for(var e=-1,n=null==t?0:t.length,i=0,r=[];++e<n;){var o=t[e];o&&(r[i++]=o)}return r}function ua(){var t=arguments.length;if(!t)return[];for(var e=ad(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return m(bh(n)?Fr(n):[n],ti(e,1))}function da(t,e,n){var i=null==t?0:t.length;return i?(e=n||e===rt?1:Pl(e),dr(t,e<0?0:e,i)):[]}function ca(t,e,n){var i=null==t?0:t.length;return i?(e=n||e===rt?1:Pl(e),e=i-e,dr(t,0,e<0?0:e)):[]}function ha(t,e){return t&&t.length?br(t,Co(e,3),!0,!0):[]}function pa(t,e){return t&&t.length?br(t,Co(e,3),!0):[]}function fa(t,e,n,i){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&jo(t,e,n)&&(n=0,i=r),qn(t,e,n,i)):[]}function ga(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:Pl(n);return r<0&&(r=Kd(i+r,0)),S(t,Co(e,3),r)}function ma(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i-1;return n!==rt&&(r=Pl(n),r=n<0?Kd(i+r,0):Qd(r,i-1)),S(t,Co(e,3),r,!0)}function ya(t){var e=null==t?0:t.length;return e?ti(t,1):[]}function va(t){var e=null==t?0:t.length;return e?ti(t,Rt):[]}function xa(t,e){var n=null==t?0:t.length;return n?(e=e===rt?1:Pl(e),ti(t,e)):[]}function ba(t){for(var e=-1,n=null==t?0:t.length,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i}function Aa(t){return t&&t.length?t[0]:rt}function wa(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:Pl(n);return r<0&&(r=Kd(i+r,0)),E(t,e,r)}function Sa(t){var e=null==t?0:t.length;return e?dr(t,0,-1):[]}function Ea(t,e){return null==t?"":Xd.call(t,e)}function Ca(t){var e=null==t?0:t.length;return e?t[e-1]:rt}function Pa(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i;return n!==rt&&(r=Pl(n),r=r<0?Kd(i+r,0):Qd(r,i-1)),e===e?Z(t,e,r):S(t,P,r,!0)}function Ma(t,e){return t&&t.length?Ki(t,Pl(e)):rt}function Ta(t,e){return t&&t.length&&e&&e.length?tr(t,e):t}function ka(t,e,n){return t&&t.length&&e&&e.length?tr(t,e,Co(n,2)):t}function Ia(t,e,n){return t&&t.length&&e&&e.length?tr(t,e,rt,n):t}function _a(t,e){var n=[];if(!t||!t.length)return n;var i=-1,r=[],o=t.length;for(e=Co(e,3);++i<o;){var a=t[i];e(a,i,t)&&(n.push(a),r.push(i))}return er(t,r),n}function Oa(t){return null==t?t:tc.call(t)}function Da(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&jo(t,e,n)?(e=0,n=i):(e=null==e?0:Pl(e),n=n===rt?i:Pl(n)),dr(t,e,n)):[]}function Ra(t,e){return hr(t,e)}function La(t,e,n){return pr(t,e,Co(n,2))}function Ba(t,e){var n=null==t?0:t.length;if(n){var i=hr(t,e);if(i<n&&Ks(t[i],e))return i}return-1}function Na(t,e){return hr(t,e,!0)}function Ua(t,e,n){return pr(t,e,Co(n,2),!0)}function ja(t,e){var n=null==t?0:t.length;if(n){var i=hr(t,e,!0)-1;if(Ks(t[i],e))return i}return-1}function Fa(t){return t&&t.length?fr(t):[]}function Va(t,e){return t&&t.length?fr(t,Co(e,2)):[]}function Ha(t){var e=null==t?0:t.length;return e?dr(t,1,e):[]}function Wa(t,e,n){return t&&t.length?(e=n||e===rt?1:Pl(e),dr(t,0,e<0?0:e)):[]}function za(t,e,n){var i=null==t?0:t.length;return i?(e=n||e===rt?1:Pl(e),e=i-e,dr(t,e<0?0:e,i)):[]}function Ga(t,e){return t&&t.length?br(t,Co(e,3),!1,!0):[]}function Ya(t,e){return t&&t.length?br(t,Co(e,3)):[]}function Xa(t){return t&&t.length?yr(t):[]}function qa(t,e){return t&&t.length?yr(t,Co(e,2)):[]}function Ka(t,e){return e="function"==typeof e?e:rt,t&&t.length?yr(t,rt,e):[]}function Qa(t){if(!t||!t.length)return[];var e=0;return t=h(t,function(t){if(Js(t))return e=Kd(t.length,e),!0}),D(e,function(e){return g(t,T(e))})}function Ja(t,e){if(!t||!t.length)return[];var n=Qa(t);return null==e?n:g(n,function(t){return s(e,rt,t)})}function Za(t,e){return Sr(t||[],e||[],_n)}function $a(t,e){return Sr(t||[],e||[],lr)}function ts(t){var n=e(t);return n.__chain__=!0,n}function es(t,e){return e(t),t}function ns(t,e){return e(t)}function is(){return ts(this)}function rs(){return new i(this.value(),this.__chain__)}function os(){this.__values__===rt&&(this.__values__=El(this.value()));var t=this.__index__>=this.__values__.length,e=t?rt:this.__values__[this.__index__++];return{done:t,value:e}}function as(){return this}function ss(t){for(var e,i=this;i instanceof n;){var r=aa(i);r.__index__=0,r.__values__=rt,e?o.__wrapped__=r:e=r;var o=r;i=i.__wrapped__}return o.__wrapped__=t,e}function ls(){var t=this.__wrapped__;if(t instanceof r){var e=t;return this.__actions__.length&&(e=new r(this)),e=e.reverse(),e.__actions__.push({func:ns,args:[Oa],thisArg:rt}),new i(e,this.__chain__)}return this.thru(Oa)}function us(){return Ar(this.__wrapped__,this.__actions__)}function ds(t,e,n){var i=bh(t)?c:Yn;return n&&jo(t,e,n)&&(e=rt),i(t,Co(e,3))}function cs(t,e){var n=bh(t)?h:$n;return n(t,Co(e,3))}function hs(t,e){return ti(vs(t,e),1)}function ps(t,e){return ti(vs(t,e),Rt)}function fs(t,e,n){return n=n===rt?1:Pl(n),ti(vs(t,e),n)}function gs(t,e){var n=bh(t)?u:vc;return n(t,Co(e,3))}function ms(t,e){var n=bh(t)?d:xc;return n(t,Co(e,3))}function ys(t,e,n,i){t=Qs(t)?t:iu(t),n=n&&!i?Pl(n):0;var r=t.length;return n<0&&(n=Kd(r+n,0)),xl(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&E(t,e,n)>-1}function vs(t,e){var n=bh(t)?g:zi;return n(t,Co(e,3))}function xs(t,e,n,i){return null==t?[]:(bh(e)||(e=null==e?[]:[e]),n=i?rt:n,bh(n)||(n=null==n?[]:[n]),Qi(t,e,n))}function bs(t,e,n){var i=bh(t)?y:I,r=arguments.length<3;return i(t,Co(e,4),n,r,vc)}function As(t,e,n){var i=bh(t)?v:I,r=arguments.length<3;return i(t,Co(e,4),n,r,xc)}function ws(t,e){var n=bh(t)?h:$n;return n(t,Bs(Co(e,3)))}function Ss(t){var e=bh(t)?Mn:ar;return e(t)}function Es(t,e,n){e=(n?jo(t,e,n):e===rt)?1:Pl(e);var i=bh(t)?Tn:sr;return i(t,e)}function Cs(t){var e=bh(t)?kn:ur;return e(t)}function Ps(t){if(null==t)return 0;if(Qs(t))return xl(t)?$(t):t.length;var e=Ic(t);return e==Jt||e==re?t.size:Vi(t).length}function Ms(t,e,n){var i=bh(t)?x:cr;return n&&jo(t,e,n)&&(e=rt),i(t,Co(e,3))}function Ts(t,e){if("function"!=typeof e)throw new fd(lt);return t=Pl(t),function(){if(--t<1)return e.apply(this,arguments)}}function ks(t,e,n){return e=n?rt:e,e=t&&null==e?t.length:e,po(t,Et,rt,rt,rt,rt,e)}function Is(t,e){var n;if("function"!=typeof e)throw new fd(lt);return t=Pl(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=rt),n}}function _s(t,e,n){e=n?rt:e;var i=po(t,bt,rt,rt,rt,rt,rt,e);return i.placeholder=_s.placeholder,i}function Os(t,e,n){e=n?rt:e;var i=po(t,At,rt,rt,rt,rt,rt,e);return i.placeholder=Os.placeholder,i}function Ds(t,e,n){function i(e){var n=h,i=p;return h=p=rt,v=e,g=t.apply(i,n)}function r(t){return v=t,m=Dc(s,e),x?i(t):g}function o(t){var n=t-y,i=t-v,r=e-n;return b?Qd(r,f-i):r}function a(t){var n=t-y,i=t-v;return y===rt||n>=e||n<0||b&&i>=f}function s(){var t=lh();return a(t)?l(t):void(m=Dc(s,o(t)))}function l(t){return m=rt,A&&h?i(t):(h=p=rt,g)}function u(){m!==rt&&Cc(m),v=0,h=y=p=m=rt}function d(){return m===rt?g:l(lh())}function c(){var t=lh(),n=a(t);if(h=arguments,p=this,y=t,n){if(m===rt)return r(y);if(b)return m=Dc(s,e),i(y)}return m===rt&&(m=Dc(s,e)),g}var h,p,f,g,m,y,v=0,x=!1,b=!1,A=!0;if("function"!=typeof t)throw new fd(lt);return e=Tl(e)||0,ll(n)&&(x=!!n.leading,b="maxWait"in n,f=b?Kd(Tl(n.maxWait)||0,e):f,A="trailing"in n?!!n.trailing:A),c.cancel=u,c.flush=d,c}function Rs(t){return po(t,Pt)}function Ls(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new fd(lt);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=t.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(Ls.Cache||cn),n}function Bs(t){if("function"!=typeof t)throw new fd(lt);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Ns(t){return Is(2,t);
}function Us(t,e){if("function"!=typeof t)throw new fd(lt);return e=e===rt?e:Pl(e),or(t,e)}function js(t,e){if("function"!=typeof t)throw new fd(lt);return e=null==e?0:Kd(Pl(e),0),or(function(n){var i=n[e],r=Mr(n,0,e);return i&&m(r,i),s(t,this,r)})}function Fs(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new fd(lt);return ll(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),Ds(t,e,{leading:i,maxWait:e,trailing:r})}function Vs(t){return ks(t,1)}function Hs(t,e){return fh(Cr(e),t)}function Ws(){if(!arguments.length)return[];var t=arguments[0];return bh(t)?t:[t]}function zs(t){return jn(t,ft)}function Gs(t,e){return e="function"==typeof e?e:rt,jn(t,ft,e)}function Ys(t){return jn(t,ht|ft)}function Xs(t,e){return e="function"==typeof e?e:rt,jn(t,ht|ft,e)}function qs(t,e){return null==e||Vn(t,e,zl(e))}function Ks(t,e){return t===e||t!==t&&e!==e}function Qs(t){return null!=t&&sl(t.length)&&!ol(t)}function Js(t){return ul(t)&&Qs(t)}function Zs(t){return t===!0||t===!1||ul(t)&&ui(t)==Gt}function $s(t){return ul(t)&&1===t.nodeType&&!yl(t)}function tl(t){if(null==t)return!0;if(Qs(t)&&(bh(t)||"string"==typeof t||"function"==typeof t.splice||wh(t)||Mh(t)||xh(t)))return!t.length;var e=Ic(t);if(e==Jt||e==re)return!t.size;if(zo(t))return!Vi(t).length;for(var n in t)if(bd.call(t,n))return!1;return!0}function el(t,e){return Oi(t,e)}function nl(t,e,n){n="function"==typeof n?n:rt;var i=n?n(t,e):rt;return i===rt?Oi(t,e,rt,n):!!i}function il(t){if(!ul(t))return!1;var e=ui(t);return e==qt||e==Xt||"string"==typeof t.message&&"string"==typeof t.name&&!yl(t)}function rl(t){return"number"==typeof t&&Yd(t)}function ol(t){if(!ll(t))return!1;var e=ui(t);return e==Kt||e==Qt||e==zt||e==ne}function al(t){return"number"==typeof t&&t==Pl(t)}function sl(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Lt}function ll(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ul(t){return null!=t&&"object"==typeof t}function dl(t,e){return t===e||Li(t,e,Mo(e))}function cl(t,e,n){return n="function"==typeof n?n:rt,Li(t,e,Mo(e),n)}function hl(t){return ml(t)&&t!=+t}function pl(t){if(_c(t))throw new ld(st);return Bi(t)}function fl(t){return null===t}function gl(t){return null==t}function ml(t){return"number"==typeof t||ul(t)&&ui(t)==Zt}function yl(t){if(!ul(t)||ui(t)!=te)return!1;var e=_d(t);if(null===e)return!0;var n=bd.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&xd.call(n)==Ed}function vl(t){return al(t)&&t>=-Lt&&t<=Lt}function xl(t){return"string"==typeof t||!bh(t)&&ul(t)&&ui(t)==oe}function bl(t){return"symbol"==typeof t||ul(t)&&ui(t)==ae}function Al(t){return t===rt}function wl(t){return ul(t)&&Ic(t)==le}function Sl(t){return ul(t)&&ui(t)==ue}function El(t){if(!t)return[];if(Qs(t))return xl(t)?tt(t):Fr(t);if(Bd&&t[Bd])return G(t[Bd]());var e=Ic(t),n=e==Jt?Y:e==re?K:iu;return n(t)}function Cl(t){if(!t)return 0===t?t:0;if(t=Tl(t),t===Rt||t===-Rt){var e=t<0?-1:1;return e*Bt}return t===t?t:0}function Pl(t){var e=Cl(t),n=e%1;return e===e?n?e-n:e:0}function Ml(t){return t?Un(Pl(t),0,Ut):0}function Tl(t){if("number"==typeof t)return t;if(bl(t))return Nt;if(ll(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ll(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Ne,"");var n=qe.test(t);return n||Qe.test(t)?ri(t.slice(2),n?2:8):Xe.test(t)?Nt:+t}function kl(t){return Vr(t,Gl(t))}function Il(t){return t?Un(Pl(t),-Lt,Lt):0===t?t:0}function _l(t){return null==t?"":mr(t)}function Ol(t,e){var n=yc(t);return null==e?n:Rn(n,e)}function Dl(t,e){return w(t,Co(e,3),ei)}function Rl(t,e){return w(t,Co(e,3),ni)}function Ll(t,e){return null==t?t:bc(t,Co(e,3),Gl)}function Bl(t,e){return null==t?t:Ac(t,Co(e,3),Gl)}function Nl(t,e){return t&&ei(t,Co(e,3))}function Ul(t,e){return t&&ni(t,Co(e,3))}function jl(t){return null==t?[]:oi(t,zl(t))}function Fl(t){return null==t?[]:oi(t,Gl(t))}function Vl(t,e,n){var i=null==t?rt:ai(t,e);return i===rt?n:i}function Hl(t,e){return null!=t&&Oo(t,e,hi)}function Wl(t,e){return null!=t&&Oo(t,e,xi)}function zl(t){return Qs(t)?Pn(t):Vi(t)}function Gl(t){return Qs(t)?Pn(t,!0):Hi(t)}function Yl(t,e){var n={};return e=Co(e,3),ei(t,function(t,i,r){Bn(n,e(t,i,r),t)}),n}function Xl(t,e){var n={};return e=Co(e,3),ei(t,function(t,i,r){Bn(n,i,e(t,i,r))}),n}function ql(t,e){return Kl(t,Bs(Co(e)))}function Kl(t,e){if(null==t)return{};var n=g(wo(t),function(t){return[t]});return e=Co(e),Zi(t,n,function(t,n){return e(t,n[0])})}function Ql(t,e,n){e=Pr(e,t);var i=-1,r=e.length;for(r||(r=1,t=rt);++i<r;){var o=null==t?rt:t[ia(e[i])];o===rt&&(i=r,o=n),t=ol(o)?o.call(t):o}return t}function Jl(t,e,n){return null==t?t:lr(t,e,n)}function Zl(t,e,n,i){return i="function"==typeof i?i:rt,null==t?t:lr(t,e,n,i)}function $l(t,e,n){var i=bh(t),r=i||wh(t)||Mh(t);if(e=Co(e,4),null==n){var o=t&&t.constructor;n=r?i?new o:[]:ll(t)&&ol(o)?yc(_d(t)):{}}return(r?u:ei)(t,function(t,i,r){return e(n,t,i,r)}),n}function tu(t,e){return null==t||vr(t,e)}function eu(t,e,n){return null==t?t:xr(t,e,Cr(n))}function nu(t,e,n,i){return i="function"==typeof i?i:rt,null==t?t:xr(t,e,Cr(n),i)}function iu(t){return null==t?[]:B(t,zl(t))}function ru(t){return null==t?[]:B(t,Gl(t))}function ou(t,e,n){return n===rt&&(n=e,e=rt),n!==rt&&(n=Tl(n),n=n===n?n:0),e!==rt&&(e=Tl(e),e=e===e?e:0),Un(Tl(t),e,n)}function au(t,e,n){return e=Cl(e),n===rt?(n=e,e=0):n=Cl(n),t=Tl(t),Si(t,e,n)}function su(t,e,n){if(n&&"boolean"!=typeof n&&jo(t,e,n)&&(e=n=rt),n===rt&&("boolean"==typeof e?(n=e,e=rt):"boolean"==typeof t&&(n=t,t=rt)),t===rt&&e===rt?(t=0,e=1):(t=Cl(t),e===rt?(e=t,t=0):e=Cl(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var r=$d();return Qd(t+r*(e-t+ii("1e-"+((r+"").length-1))),e)}return nr(t,e)}function lu(t){return $h(_l(t).toLowerCase())}function uu(t){return t=_l(t),t&&t.replace(Ze,bi).replace(zn,"")}function du(t,e,n){t=_l(t),e=mr(e);var i=t.length;n=n===rt?i:Un(Pl(n),0,i);var r=n;return n-=e.length,n>=0&&t.slice(n,r)==e}function cu(t){return t=_l(t),t&&Me.test(t)?t.replace(Ce,Ai):t}function hu(t){return t=_l(t),t&&Be.test(t)?t.replace(Le,"\\$&"):t}function pu(t,e,n){t=_l(t),e=Pl(e);var i=e?$(t):0;if(!e||i>=e)return t;var r=(e-i)/2;return oo(Wd(r),n)+t+oo(Hd(r),n)}function fu(t,e,n){t=_l(t),e=Pl(e);var i=e?$(t):0;return e&&i<e?t+oo(e-i,n):t}function gu(t,e,n){t=_l(t),e=Pl(e);var i=e?$(t):0;return e&&i<e?oo(e-i,n)+t:t}function mu(t,e,n){return n||null==e?e=0:e&&(e=+e),Zd(_l(t).replace(Ue,""),e||0)}function yu(t,e,n){return e=(n?jo(t,e,n):e===rt)?1:Pl(e),rr(_l(t),e)}function vu(){var t=arguments,e=_l(t[0]);return t.length<3?e:e.replace(t[1],t[2])}function xu(t,e,n){return n&&"number"!=typeof n&&jo(t,e,n)&&(e=n=rt),(n=n===rt?Ut:n>>>0)?(t=_l(t),t&&("string"==typeof e||null!=e&&!Ch(e))&&(e=mr(e),!e&&W(t))?Mr(tt(t),0,n):t.split(e,n)):[]}function bu(t,e,n){return t=_l(t),n=null==n?0:Un(Pl(n),0,t.length),e=mr(e),t.slice(n,n+e.length)==e}function Au(t,n,i){var r=e.templateSettings;i&&jo(t,n,i)&&(n=rt),t=_l(t),n=Oh({},n,r,fo);var o,a,s=Oh({},n.imports,r.imports,fo),l=zl(s),u=B(s,l),d=0,c=n.interpolate||$e,h="__p += '",p=hd((n.escape||$e).source+"|"+c.source+"|"+(c===Ie?Ge:$e).source+"|"+(n.evaluate||$e).source+"|$","g"),f="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++Qn+"]")+"\n";t.replace(p,function(e,n,i,r,s,l){return i||(i=r),h+=t.slice(d,l).replace(tn,V),n&&(o=!0,h+="' +\n__e("+n+") +\n'"),s&&(a=!0,h+="';\n"+s+";\n__p += '"),i&&(h+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),d=l+e.length,e}),h+="';\n";var g=n.variable;g||(h="with (obj) {\n"+h+"\n}\n"),h=(a?h.replace(Ae,""):h).replace(we,"$1").replace(Se,"$1;"),h="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var m=tp(function(){return ud(l,f+"return "+h).apply(rt,u)});if(m.source=h,il(m))throw m;return m}function wu(t){return _l(t).toLowerCase()}function Su(t){return _l(t).toUpperCase()}function Eu(t,e,n){if(t=_l(t),t&&(n||e===rt))return t.replace(Ne,"");if(!t||!(e=mr(e)))return t;var i=tt(t),r=tt(e),o=U(i,r),a=j(i,r)+1;return Mr(i,o,a).join("")}function Cu(t,e,n){if(t=_l(t),t&&(n||e===rt))return t.replace(je,"");if(!t||!(e=mr(e)))return t;var i=tt(t),r=j(i,tt(e))+1;return Mr(i,0,r).join("")}function Pu(t,e,n){if(t=_l(t),t&&(n||e===rt))return t.replace(Ue,"");if(!t||!(e=mr(e)))return t;var i=tt(t),r=U(i,tt(e));return Mr(i,r).join("")}function Mu(t,e){var n=Mt,i=Tt;if(ll(e)){var r="separator"in e?e.separator:r;n="length"in e?Pl(e.length):n,i="omission"in e?mr(e.omission):i}t=_l(t);var o=t.length;if(W(t)){var a=tt(t);o=a.length}if(n>=o)return t;var s=n-$(i);if(s<1)return i;var l=a?Mr(a,0,s).join(""):t.slice(0,s);if(r===rt)return l+i;if(a&&(s+=l.length-s),Ch(r)){if(t.slice(s).search(r)){var u,d=l;for(r.global||(r=hd(r.source,_l(Ye.exec(r))+"g")),r.lastIndex=0;u=r.exec(d);)var c=u.index;l=l.slice(0,c===rt?s:c)}}else if(t.indexOf(mr(r),s)!=s){var h=l.lastIndexOf(r);h>-1&&(l=l.slice(0,h))}return l+i}function Tu(t){return t=_l(t),t&&Pe.test(t)?t.replace(Ee,wi):t}function ku(t,e,n){return t=_l(t),e=n?rt:e,e===rt?z(t)?it(t):A(t):t.match(e)||[]}function Iu(t){var e=null==t?0:t.length,n=Co();return t=e?g(t,function(t){if("function"!=typeof t[1])throw new fd(lt);return[n(t[0]),t[1]]}):[],or(function(n){for(var i=-1;++i<e;){var r=t[i];if(s(r[0],this,n))return s(r[1],this,n)}})}function _u(t){return Fn(jn(t,ht))}function Ou(t){return function(){return t}}function Du(t,e){return null==t||t!==t?e:t}function Ru(t){return t}function Lu(t){return Fi("function"==typeof t?t:jn(t,ht))}function Bu(t){return Gi(jn(t,ht))}function Nu(t,e){return Yi(t,jn(e,ht))}function Uu(t,e,n){var i=zl(e),r=oi(e,i);null!=n||ll(e)&&(r.length||!i.length)||(n=e,e=t,t=this,r=oi(e,zl(e)));var o=!(ll(n)&&"chain"in n&&!n.chain),a=ol(t);return u(r,function(n){var i=e[n];t[n]=i,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),r=n.__actions__=Fr(this.__actions__);return r.push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,m([this.value()],arguments))})}),t}function ju(){return si._===this&&(si._=Cd),this}function Fu(){}function Vu(t){return t=Pl(t),or(function(e){return Ki(e,t)})}function Hu(t){return Fo(t)?T(ia(t)):$i(t)}function Wu(t){return function(e){return null==t?rt:ai(t,e)}}function zu(){return[]}function Gu(){return!1}function Yu(){return{}}function Xu(){return""}function qu(){return!0}function Ku(t,e){if(t=Pl(t),t<1||t>Lt)return[];var n=Ut,i=Qd(t,Ut);e=Co(e),t-=Ut;for(var r=D(i,e);++n<t;)e(n);return r}function Qu(t){return bh(t)?g(t,ia):bl(t)?[t]:Fr(Lc(_l(t)))}function Ju(t){var e=++Ad;return _l(t)+e}function Zu(t){return t&&t.length?Xn(t,Ru,ci):rt}function $u(t,e){return t&&t.length?Xn(t,Co(e,2),ci):rt}function td(t){return M(t,Ru)}function ed(t,e){return M(t,Co(e,2))}function nd(t){return t&&t.length?Xn(t,Ru,Wi):rt}function id(t,e){return t&&t.length?Xn(t,Co(e,2),Wi):rt}function rd(t){return t&&t.length?O(t,Ru):0}function od(t,e){return t&&t.length?O(t,Co(e,2)):0}t=null==t?si:Ei.defaults(si.Object(),t,Ei.pick(si,Kn));var ad=t.Array,sd=t.Date,ld=t.Error,ud=t.Function,dd=t.Math,cd=t.Object,hd=t.RegExp,pd=t.String,fd=t.TypeError,gd=ad.prototype,md=ud.prototype,yd=cd.prototype,vd=t["__core-js_shared__"],xd=md.toString,bd=yd.hasOwnProperty,Ad=0,wd=function(){var t=/[^.]+$/.exec(vd&&vd.keys&&vd.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Sd=yd.toString,Ed=xd.call(cd),Cd=si._,Pd=hd("^"+xd.call(bd).replace(Le,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Md=di?t.Buffer:rt,Td=t.Symbol,kd=t.Uint8Array,Id=Md?Md.allocUnsafe:rt,_d=X(cd.getPrototypeOf,cd),Od=cd.create,Dd=yd.propertyIsEnumerable,Rd=gd.splice,Ld=Td?Td.isConcatSpreadable:rt,Bd=Td?Td.iterator:rt,Nd=Td?Td.toStringTag:rt,Ud=function(){try{var t=To(cd,"defineProperty");return t({},"",{}),t}catch(e){}}(),jd=t.clearTimeout!==si.clearTimeout&&t.clearTimeout,Fd=sd&&sd.now!==si.Date.now&&sd.now,Vd=t.setTimeout!==si.setTimeout&&t.setTimeout,Hd=dd.ceil,Wd=dd.floor,zd=cd.getOwnPropertySymbols,Gd=Md?Md.isBuffer:rt,Yd=t.isFinite,Xd=gd.join,qd=X(cd.keys,cd),Kd=dd.max,Qd=dd.min,Jd=sd.now,Zd=t.parseInt,$d=dd.random,tc=gd.reverse,ec=To(t,"DataView"),nc=To(t,"Map"),ic=To(t,"Promise"),rc=To(t,"Set"),oc=To(t,"WeakMap"),ac=To(cd,"create"),sc=oc&&new oc,lc={},uc=ra(ec),dc=ra(nc),cc=ra(ic),hc=ra(rc),pc=ra(oc),fc=Td?Td.prototype:rt,gc=fc?fc.valueOf:rt,mc=fc?fc.toString:rt,yc=function(){function t(){}return function(e){if(!ll(e))return{};if(Od)return Od(e);t.prototype=e;var n=new t;return t.prototype=rt,n}}();e.templateSettings={escape:Te,evaluate:ke,interpolate:Ie,variable:"",imports:{_:e}},e.prototype=n.prototype,e.prototype.constructor=e,i.prototype=yc(n.prototype),i.prototype.constructor=i,r.prototype=yc(n.prototype),r.prototype.constructor=r,et.prototype.clear=nt,et.prototype["delete"]=We,et.prototype.get=en,et.prototype.has=nn,et.prototype.set=rn,on.prototype.clear=an,on.prototype["delete"]=sn,on.prototype.get=ln,on.prototype.has=un,on.prototype.set=dn,cn.prototype.clear=hn,cn.prototype["delete"]=pn,cn.prototype.get=fn,cn.prototype.has=gn,cn.prototype.set=mn,yn.prototype.add=yn.prototype.push=vn,yn.prototype.has=xn,bn.prototype.clear=An,bn.prototype["delete"]=wn,bn.prototype.get=Sn,bn.prototype.has=En,bn.prototype.set=Cn;var vc=Yr(ei),xc=Yr(ni,!0),bc=Xr(),Ac=Xr(!0),wc=sc?function(t,e){return sc.set(t,e),t}:Ru,Sc=Ud?function(t,e){return Ud(t,"toString",{configurable:!0,enumerable:!1,value:Ou(e),writable:!0})}:Ru,Ec=or,Cc=jd||function(t){return si.clearTimeout(t)},Pc=rc&&1/K(new rc([,-0]))[1]==Rt?function(t){return new rc(t)}:Fu,Mc=sc?function(t){return sc.get(t)}:Fu,Tc=zd?function(t){return null==t?[]:(t=cd(t),h(zd(t),function(e){return Dd.call(t,e)}))}:zu,kc=zd?function(t){for(var e=[];t;)m(e,Tc(t)),t=_d(t);return e}:zu,Ic=ui;(ec&&Ic(new ec(new ArrayBuffer(1)))!=ce||nc&&Ic(new nc)!=Jt||ic&&Ic(ic.resolve())!=ee||rc&&Ic(new rc)!=re||oc&&Ic(new oc)!=le)&&(Ic=function(t){var e=ui(t),n=e==te?t.constructor:rt,i=n?ra(n):"";if(i)switch(i){case uc:return ce;case dc:return Jt;case cc:return ee;case hc:return re;case pc:return le}return e});var _c=vd?ol:Gu,Oc=ea(wc),Dc=Vd||function(t,e){return si.setTimeout(t,e)},Rc=ea(Sc),Lc=Xo(function(t){var e=[];return De.test(t)&&e.push(""),t.replace(Re,function(t,n,i,r){e.push(i?r.replace(ze,"$1"):n||t)}),e}),Bc=or(function(t,e){return Js(t)?Gn(t,ti(e,1,Js,!0)):[]}),Nc=or(function(t,e){var n=Ca(e);return Js(n)&&(n=rt),Js(t)?Gn(t,ti(e,1,Js,!0),Co(n,2)):[]}),Uc=or(function(t,e){var n=Ca(e);return Js(n)&&(n=rt),Js(t)?Gn(t,ti(e,1,Js,!0),rt,n):[]}),jc=or(function(t){var e=g(t,Er);return e.length&&e[0]===t[0]?Pi(e):[]}),Fc=or(function(t){var e=Ca(t),n=g(t,Er);return e===Ca(n)?e=rt:n.pop(),n.length&&n[0]===t[0]?Pi(n,Co(e,2)):[]}),Vc=or(function(t){var e=Ca(t),n=g(t,Er);return e="function"==typeof e?e:rt,e&&n.pop(),n.length&&n[0]===t[0]?Pi(n,rt,e):[]}),Hc=or(Ta),Wc=bo(function(t,e){var n=null==t?0:t.length,i=Nn(t,e);return er(t,g(e,function(t){return Uo(t,n)?+t:t}).sort(Br)),i}),zc=or(function(t){return yr(ti(t,1,Js,!0))}),Gc=or(function(t){var e=Ca(t);return Js(e)&&(e=rt),yr(ti(t,1,Js,!0),Co(e,2))}),Yc=or(function(t){var e=Ca(t);return e="function"==typeof e?e:rt,yr(ti(t,1,Js,!0),rt,e)}),Xc=or(function(t,e){return Js(t)?Gn(t,e):[]}),qc=or(function(t){return wr(h(t,Js))}),Kc=or(function(t){var e=Ca(t);return Js(e)&&(e=rt),wr(h(t,Js),Co(e,2))}),Qc=or(function(t){var e=Ca(t);return e="function"==typeof e?e:rt,wr(h(t,Js),rt,e)}),Jc=or(Qa),Zc=or(function(t){var e=t.length,n=e>1?t[e-1]:rt;return n="function"==typeof n?(t.pop(),n):rt,Ja(t,n)}),$c=bo(function(t){var e=t.length,n=e?t[0]:0,o=this.__wrapped__,a=function(e){return Nn(e,t)};return!(e>1||this.__actions__.length)&&o instanceof r&&Uo(n)?(o=o.slice(n,+n+(e?1:0)),o.__actions__.push({func:ns,args:[a],thisArg:rt}),new i(o,this.__chain__).thru(function(t){return e&&!t.length&&t.push(rt),t})):this.thru(a)}),th=zr(function(t,e,n){bd.call(t,n)?++t[n]:Bn(t,n,1)}),eh=$r(ga),nh=$r(ma),ih=zr(function(t,e,n){bd.call(t,n)?t[n].push(e):Bn(t,n,[e])}),rh=or(function(t,e,n){var i=-1,r="function"==typeof e,o=Qs(t)?ad(t.length):[];return vc(t,function(t){o[++i]=r?s(e,t,n):Ti(t,e,n)}),o}),oh=zr(function(t,e,n){Bn(t,n,e)}),ah=zr(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),sh=or(function(t,e){if(null==t)return[];var n=e.length;return n>1&&jo(t,e[0],e[1])?e=[]:n>2&&jo(e[0],e[1],e[2])&&(e=[e[0]]),Qi(t,ti(e,1),[])}),lh=Fd||function(){return si.Date.now()},uh=or(function(t,e,n){var i=yt;if(n.length){var r=q(n,Eo(uh));i|=wt}return po(t,i,e,n,r)}),dh=or(function(t,e,n){var i=yt|vt;if(n.length){var r=q(n,Eo(dh));i|=wt}return po(e,i,t,n,r)}),ch=or(function(t,e){return Hn(t,1,e)}),hh=or(function(t,e,n){return Hn(t,Tl(e)||0,n)});Ls.Cache=cn;var ph=Ec(function(t,e){e=1==e.length&&bh(e[0])?g(e[0],L(Co())):g(ti(e,1),L(Co()));var n=e.length;return or(function(i){for(var r=-1,o=Qd(i.length,n);++r<o;)i[r]=e[r].call(this,i[r]);return s(t,this,i)})}),fh=or(function(t,e){var n=q(e,Eo(fh));return po(t,wt,rt,e,n)}),gh=or(function(t,e){var n=q(e,Eo(gh));return po(t,St,rt,e,n)}),mh=bo(function(t,e){return po(t,Ct,rt,rt,rt,e)}),yh=lo(ci),vh=lo(function(t,e){return t>=e}),xh=ki(function(){return arguments}())?ki:function(t){return ul(t)&&bd.call(t,"callee")&&!Dd.call(t,"callee")},bh=ad.isArray,Ah=pi?L(pi):Ii,wh=Gd||Gu,Sh=fi?L(fi):_i,Eh=gi?L(gi):Ri,Ch=mi?L(mi):Ni,Ph=yi?L(yi):Ui,Mh=vi?L(vi):ji,Th=lo(Wi),kh=lo(function(t,e){return t<=e}),Ih=Gr(function(t,e){if(zo(e)||Qs(e))return void Vr(e,zl(e),t);for(var n in e)bd.call(e,n)&&_n(t,n,e[n])}),_h=Gr(function(t,e){Vr(e,Gl(e),t)}),Oh=Gr(function(t,e,n,i){Vr(e,Gl(e),t,i)}),Dh=Gr(function(t,e,n,i){Vr(e,zl(e),t,i)}),Rh=bo(Nn),Lh=or(function(t){return t.push(rt,fo),s(Oh,rt,t)}),Bh=or(function(t){return t.push(rt,go),s(Vh,rt,t)}),Nh=no(function(t,e,n){t[e]=n},Ou(Ru)),Uh=no(function(t,e,n){bd.call(t,e)?t[e].push(n):t[e]=[n]},Co),jh=or(Ti),Fh=Gr(function(t,e,n){Xi(t,e,n)}),Vh=Gr(function(t,e,n,i){Xi(t,e,n,i)}),Hh=bo(function(t,e){var n={};if(null==t)return n;var i=!1;e=g(e,function(e){return e=Pr(e,t),i||(i=e.length>1),e}),Vr(t,wo(t),n),i&&(n=jn(n,ht|pt|ft,mo));for(var r=e.length;r--;)vr(n,e[r]);return n}),Wh=bo(function(t,e){return null==t?{}:Ji(t,e)}),zh=ho(zl),Gh=ho(Gl),Yh=Qr(function(t,e,n){return e=e.toLowerCase(),t+(n?lu(e):e)}),Xh=Qr(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),qh=Qr(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Kh=Kr("toLowerCase"),Qh=Qr(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Jh=Qr(function(t,e,n){return t+(n?" ":"")+$h(e)}),Zh=Qr(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),$h=Kr("toUpperCase"),tp=or(function(t,e){try{return s(t,rt,e)}catch(n){return il(n)?n:new ld(n)}}),ep=bo(function(t,e){return u(e,function(e){e=ia(e),Bn(t,e,uh(t[e],t))}),t}),np=to(),ip=to(!0),rp=or(function(t,e){return function(n){return Ti(n,t,e)}}),op=or(function(t,e){return function(n){return Ti(t,n,e)}}),ap=ro(g),sp=ro(c),lp=ro(x),up=so(),dp=so(!0),cp=io(function(t,e){return t+e},0),hp=co("ceil"),pp=io(function(t,e){return t/e},1),fp=co("floor"),gp=io(function(t,e){return t*e},1),mp=co("round"),yp=io(function(t,e){return t-e},0);return e.after=Ts,e.ary=ks,e.assign=Ih,e.assignIn=_h,e.assignInWith=Oh,e.assignWith=Dh,e.at=Rh,e.before=Is,e.bind=uh,e.bindAll=ep,e.bindKey=dh,e.castArray=Ws,e.chain=ts,e.chunk=sa,e.compact=la,e.concat=ua,e.cond=Iu,e.conforms=_u,e.constant=Ou,e.countBy=th,e.create=Ol,e.curry=_s,e.curryRight=Os,e.debounce=Ds,e.defaults=Lh,e.defaultsDeep=Bh,e.defer=ch,e.delay=hh,e.difference=Bc,e.differenceBy=Nc,e.differenceWith=Uc,e.drop=da,e.dropRight=ca,e.dropRightWhile=ha,e.dropWhile=pa,e.fill=fa,e.filter=cs,e.flatMap=hs,e.flatMapDeep=ps,e.flatMapDepth=fs,e.flatten=ya,e.flattenDeep=va,e.flattenDepth=xa,e.flip=Rs,e.flow=np,e.flowRight=ip,e.fromPairs=ba,e.functions=jl,e.functionsIn=Fl,e.groupBy=ih,e.initial=Sa,e.intersection=jc,e.intersectionBy=Fc,e.intersectionWith=Vc,e.invert=Nh,e.invertBy=Uh,e.invokeMap=rh,e.iteratee=Lu,e.keyBy=oh,e.keys=zl,e.keysIn=Gl,e.map=vs,e.mapKeys=Yl,e.mapValues=Xl,e.matches=Bu,e.matchesProperty=Nu,e.memoize=Ls,e.merge=Fh,e.mergeWith=Vh,e.method=rp,e.methodOf=op,e.mixin=Uu,e.negate=Bs,e.nthArg=Vu,e.omit=Hh,e.omitBy=ql,e.once=Ns,e.orderBy=xs,e.over=ap,e.overArgs=ph,e.overEvery=sp,e.overSome=lp,e.partial=fh,e.partialRight=gh,e.partition=ah,e.pick=Wh,e.pickBy=Kl,e.property=Hu,e.propertyOf=Wu,e.pull=Hc,e.pullAll=Ta,e.pullAllBy=ka,e.pullAllWith=Ia,e.pullAt=Wc,e.range=up,e.rangeRight=dp,e.rearg=mh,e.reject=ws,e.remove=_a,e.rest=Us,e.reverse=Oa,e.sampleSize=Es,e.set=Jl,e.setWith=Zl,e.shuffle=Cs,e.slice=Da,e.sortBy=sh,e.sortedUniq=Fa,e.sortedUniqBy=Va,e.split=xu,e.spread=js,e.tail=Ha,e.take=Wa,e.takeRight=za,e.takeRightWhile=Ga,e.takeWhile=Ya,e.tap=es,e.throttle=Fs,e.thru=ns,e.toArray=El,e.toPairs=zh,e.toPairsIn=Gh,e.toPath=Qu,e.toPlainObject=kl,e.transform=$l,e.unary=Vs,e.union=zc,e.unionBy=Gc,e.unionWith=Yc,e.uniq=Xa,e.uniqBy=qa,e.uniqWith=Ka,e.unset=tu,e.unzip=Qa,e.unzipWith=Ja,e.update=eu,e.updateWith=nu,e.values=iu,e.valuesIn=ru,e.without=Xc,e.words=ku,e.wrap=Hs,e.xor=qc,e.xorBy=Kc,e.xorWith=Qc,e.zip=Jc,e.zipObject=Za,e.zipObjectDeep=$a,e.zipWith=Zc,e.entries=zh,e.entriesIn=Gh,e.extend=_h,e.extendWith=Oh,Uu(e,e),e.add=cp,e.attempt=tp,e.camelCase=Yh,e.capitalize=lu,e.ceil=hp,e.clamp=ou,e.clone=zs,e.cloneDeep=Ys,e.cloneDeepWith=Xs,e.cloneWith=Gs,e.conformsTo=qs,e.deburr=uu,e.defaultTo=Du,e.divide=pp,e.endsWith=du,e.eq=Ks,e.escape=cu,e.escapeRegExp=hu,e.every=ds,e.find=eh,e.findIndex=ga,e.findKey=Dl,e.findLast=nh,e.findLastIndex=ma,e.findLastKey=Rl,e.floor=fp,e.forEach=gs,e.forEachRight=ms,e.forIn=Ll,e.forInRight=Bl,e.forOwn=Nl,e.forOwnRight=Ul,e.get=Vl,e.gt=yh,e.gte=vh,e.has=Hl,e.hasIn=Wl,e.head=Aa,e.identity=Ru,e.includes=ys,e.indexOf=wa,e.inRange=au,e.invoke=jh,e.isArguments=xh,e.isArray=bh,e.isArrayBuffer=Ah,e.isArrayLike=Qs,e.isArrayLikeObject=Js,e.isBoolean=Zs,e.isBuffer=wh,e.isDate=Sh,e.isElement=$s,e.isEmpty=tl,e.isEqual=el,e.isEqualWith=nl,e.isError=il,e.isFinite=rl,e.isFunction=ol,e.isInteger=al,e.isLength=sl,e.isMap=Eh,e.isMatch=dl,e.isMatchWith=cl,e.isNaN=hl,e.isNative=pl,e.isNil=gl,e.isNull=fl,e.isNumber=ml,e.isObject=ll,e.isObjectLike=ul,e.isPlainObject=yl,e.isRegExp=Ch,e.isSafeInteger=vl,e.isSet=Ph,e.isString=xl,e.isSymbol=bl,e.isTypedArray=Mh,e.isUndefined=Al,e.isWeakMap=wl,e.isWeakSet=Sl,e.join=Ea,e.kebabCase=Xh,e.last=Ca,e.lastIndexOf=Pa,e.lowerCase=qh,e.lowerFirst=Kh,e.lt=Th,e.lte=kh,e.max=Zu,e.maxBy=$u,e.mean=td,e.meanBy=ed,e.min=nd,e.minBy=id,e.stubArray=zu,e.stubFalse=Gu,e.stubObject=Yu,e.stubString=Xu,e.stubTrue=qu,e.multiply=gp,e.nth=Ma,e.noConflict=ju,e.noop=Fu,e.now=lh,e.pad=pu,e.padEnd=fu,e.padStart=gu,e.parseInt=mu,e.random=su,e.reduce=bs,e.reduceRight=As,e.repeat=yu,e.replace=vu,e.result=Ql,e.round=mp,e.runInContext=Ci,e.sample=Ss,e.size=Ps,e.snakeCase=Qh,e.some=Ms,e.sortedIndex=Ra,e.sortedIndexBy=La,e.sortedIndexOf=Ba,e.sortedLastIndex=Na,e.sortedLastIndexBy=Ua,e.sortedLastIndexOf=ja,e.startCase=Jh,e.startsWith=bu,e.subtract=yp,e.sum=rd,e.sumBy=od,e.template=Au,e.times=Ku,e.toFinite=Cl,e.toInteger=Pl,e.toLength=Ml,e.toLower=wu,e.toNumber=Tl,e.toSafeInteger=Il,e.toString=_l,e.toUpper=Su,e.trim=Eu,e.trimEnd=Cu,e.trimStart=Pu,e.truncate=Mu,e.unescape=Tu,e.uniqueId=Ju,e.upperCase=Zh,e.upperFirst=$h,e.each=gs,e.eachRight=ms,e.first=Aa,Uu(e,function(){var t={};return ei(e,function(n,i){bd.call(e.prototype,i)||(t[i]=n)}),t}(),{chain:!1}),e.VERSION=ot,u(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){e[t].placeholder=e}),u(["drop","take"],function(t,e){r.prototype[t]=function(n){n=n===rt?1:Kd(Pl(n),0);var i=this.__filtered__&&!e?new r(this):this.clone();return i.__filtered__?i.__takeCount__=Qd(n,i.__takeCount__):i.__views__.push({size:Qd(n,Ut),type:t+(i.__dir__<0?"Right":"")}),i},r.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),u(["filter","map","takeWhile"],function(t,e){var n=e+1,i=n==_t||n==Dt;r.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Co(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}}),u(["head","last"],function(t,e){var n="take"+(e?"Right":"");r.prototype[t]=function(){return this[n](1).value()[0]}}),u(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");r.prototype[t]=function(){return this.__filtered__?new r(this):this[n](1)}}),r.prototype.compact=function(){return this.filter(Ru)},r.prototype.find=function(t){return this.filter(t).head()},r.prototype.findLast=function(t){return this.reverse().find(t)},r.prototype.invokeMap=or(function(t,e){return"function"==typeof t?new r(this):this.map(function(n){return Ti(n,t,e)})}),r.prototype.reject=function(t){return this.filter(Bs(Co(t)))},r.prototype.slice=function(t,e){t=Pl(t);var n=this;return n.__filtered__&&(t>0||e<0)?new r(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==rt&&(e=Pl(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)},r.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},r.prototype.toArray=function(){return this.take(Ut)},ei(r.prototype,function(t,n){var o=/^(?:filter|find|map|reject)|While$/.test(n),a=/^(?:head|last)$/.test(n),s=e[a?"take"+("last"==n?"Right":""):n],l=a||/^find/.test(n);s&&(e.prototype[n]=function(){var n=this.__wrapped__,u=a?[1]:arguments,d=n instanceof r,c=u[0],h=d||bh(n),p=function(t){var n=s.apply(e,m([t],u));return a&&f?n[0]:n};h&&o&&"function"==typeof c&&1!=c.length&&(d=h=!1);var f=this.__chain__,g=!!this.__actions__.length,y=l&&!f,v=d&&!g;if(!l&&h){n=v?n:new r(this);var x=t.apply(n,u);return x.__actions__.push({func:ns,args:[p],thisArg:rt}),new i(x,f)}return y&&v?t.apply(this,u):(x=this.thru(p),y?a?x.value()[0]:x.value():x)})}),u(["pop","push","shift","sort","splice","unshift"],function(t){var n=gd[t],i=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);e.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var e=this.value();return n.apply(bh(e)?e:[],t)}return this[i](function(e){return n.apply(bh(e)?e:[],t)})}}),ei(r.prototype,function(t,n){var i=e[n];if(i){var r=i.name+"",o=lc[r]||(lc[r]=[]);o.push({name:n,func:i})}}),lc[eo(rt,vt).name]=[{name:"wrapper",func:rt}],r.prototype.clone=b,r.prototype.reverse=k,r.prototype.value=J,e.prototype.at=$c,e.prototype.chain=is,e.prototype.commit=rs,e.prototype.next=os,e.prototype.plant=ss,e.prototype.reverse=ls,e.prototype.toJSON=e.prototype.valueOf=e.prototype.value=us,e.prototype.first=e.prototype.head,Bd&&(e.prototype[Bd]=as),e},Ei=Si();si._=Ei,i=function(){return Ei}.call(e,n,e,r),!(i!==rt&&(r.exports=i))}).call(this)}).call(e,function(){return this}(),n(52)(t))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n,i){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){for(var e,n=[],i=0,r=t.length;i<r;i++)e=t[i],(0,s["default"])(e)||n.push(e);return n}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o;var a=n(i),s=r(a)},,function(t,e,n,i,r,o,a){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function l(t,e,n,i){if((0,f["default"])(t))return n=n||(0,h["default"])(n)?n:"name",t.sort(function(t,r){return(0,m["default"])(t)&&(0,m["default"])(r)&&(t=t[n],r=r[n]),(0,f["default"])(t)&&(0,f["default"])(r)&&(t=t[n],r=r[n]),(0,d["default"])(t)&&(0,d["default"])(r)?(t=t.toLowerCase(),r=r.toLowerCase(),"DESC"===e?t<r?1:t>r?-1:0:t<r?-1:t>r?1:0):(0,h["default"])(t)&&(0,h["default"])(r)?"DESC"===e?r-t:t-r:void 0===t||null===t?i?-1:1:(void 0===r||null===r)&&i?1:-1}),t}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=l;var u=n(i),d=s(u),c=n(r),h=s(c),p=n(o),f=s(p),g=n(a),m=s(g)},,,function(t,e,n,i,r,o){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function s(t){if((0,u["default"])(t))return t;if((0,c["default"])(t)){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(t[n]);return e}return(0,p["default"])(t)?t.split():[]}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=s;var l=n(i),u=a(l),d=n(r),c=a(d),h=n(o),p=a(h)},function(t,e,n,i){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){return null==t||!e&&""===t||(0,s["default"])(t)&&0===t.length||((0,u["default"])(t)||(0,c["default"])(t))&&0===t.size}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o;var a=n(i),s=r(a),l=n(86),u=r(l),d=n(88),c=r(d)},,function(t,e,n,i){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){return"number"==typeof t&&(0,s["default"])(t)}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o;var a=n(i),s=r(a)},,function(t,e,n,i){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){return(0,s["default"])(t)&&!(0,u["default"])(t)}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o;var a=n(87),s=r(a),l=n(i),u=r(l)},,function(t,e,n,i){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(i),a=r(o);e["default"]={dhis_highcharts:a["default"]}},,function(t,e,n,i){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(i),a=r(o),s=function(t){return t};e["default"]={dhis:a["default"],noValidation:s}}]));
//# sourceMappingURL=chart.js.map